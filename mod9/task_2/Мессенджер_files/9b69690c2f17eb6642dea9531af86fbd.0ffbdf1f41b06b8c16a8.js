/*! For license information please see 9b69690c2f17eb6642dea9531af86fbd.0ffbdf1f41b06b8c16a8.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[25901],{713652:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon12Add","add_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 12 12" id="add_12"><path d="M6.75 1.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z" /></symbol>',12,12,!1,void 0)},943302:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon16Repost","repost_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="repost_16"><path fill="currentColor" d="m8.583 1.914.061-.087a.6.6 0 0 1 .758-.128l.088.063 3.272 2.805.04.043a.6.6 0 0 1 .01.768l-.075.078L9.49 8.238a.6.6 0 0 1-.982-.358L8.5 7.783V5.999L5 6a1 1 0 0 0-.993.883L4 7v4a1 1 0 0 0 .883.993L5 12h4a1 1 0 0 1 .117 1.993L9 14H5a3 3 0 0 1-2.995-2.824L2 11V7a3 3 0 0 1 2.824-2.995L5 4h3.5V2.216a.6.6 0 0 1 .083-.303l.061-.087z" /></symbol>',16,16,!1,void 0)},318422:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon20FlipHorizontal","flip_horizontal_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="flip_horizontal_20"><path fill-rule="evenodd" d="M8.465 7.531A.75.75 0 0 1 9 8.25v8a.75.75 0 0 1-.75.75H3a.75.75 0 0 1-.627-1.162l5.25-8a.75.75 0 0 1 .842-.307ZM4.389 15.5H7.5v-4.74L4.39 15.5ZM6.53 1.47a.75.75 0 0 1 0 1.06l-.72.72h8.38l-.72-.72a.75.75 0 0 1 1.06-1.06l2 2a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 1 1-1.06-1.06l.72-.72H5.81l.72.72a.75.75 0 0 1-1.06 1.06l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 0Zm5.005 6.061a.75.75 0 0 1 .842.308l5.25 8A.75.75 0 0 1 17 17h-5.25a.75.75 0 0 1-.75-.75v-8a.75.75 0 0 1 .535-.719Zm.965 3.229v4.74h3.11l-3.11-4.74Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},402255:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon20FlipVertical","flip_vertical_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="flip_vertical_20"><path fill-rule="evenodd" d="M3.394 2.34a.75.75 0 0 1 .767.033l8 5.25A.75.75 0 0 1 11.75 9h-8A.75.75 0 0 1 3 8.25V3a.75.75 0 0 1 .394-.66ZM4.5 4.39V7.5h4.74L4.5 4.39ZM3 11.75a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 .412 1.377l-8 5.25A.75.75 0 0 1 3 17v-5.25Zm1.5.75v3.11l4.74-3.11H4.5Zm10.97-9.03a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1-1.06 1.06l-.72-.72v8.38l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 1 1 1.06-1.06l.72.72V5.81l-.72.72a.75.75 0 1 1-1.06-1.06l2-2Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},777163:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon20RotateLeft","rotate_left_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="rotate_left_20"><path fill-rule="evenodd" d="M9.2 9.5H6.8c-.865 0-1.423.001-1.848.036-.408.033-.559.09-.633.127a1.5 1.5 0 0 0-.656.656c-.037.074-.094.225-.127.633-.035.425-.036.983-.036 1.848v.4c0 .865.001 1.423.036 1.848.033.408.09.559.127.633a1.5 1.5 0 0 0 .656.656c.074.037.225.094.633.127.425.035.983.036 1.848.036h2.4c.865 0 1.423-.001 1.848-.036.408-.033.559-.09.633-.127a1.5 1.5 0 0 0 .655-.656c.038-.074.095-.225.128-.633.035-.425.036-.983.036-1.848v-.4c0-.865-.001-1.423-.036-1.848-.033-.408-.09-.559-.128-.633a1.5 1.5 0 0 0-.655-.656c-.074-.037-.225-.094-.633-.127C10.623 9.5 10.065 9.5 9.2 9.5Zm-6.873.138C2 10.28 2 11.12 2 12.8v.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C4.28 18 5.12 18 6.8 18h2.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C14 15.72 14 14.88 14 13.2v-.4c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C11.72 8 10.88 8 9.2 8H6.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311ZM13.53 1.97a.75.75 0 0 1 0 1.06l-.72.72H13a4.75 4.75 0 0 1 4.75 4.75V11a.75.75 0 0 1-1.5 0V8.5A3.25 3.25 0 0 0 13 5.25h-.19l.72.72a.75.75 0 0 1-1.06 1.06l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},322298:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon20RotateRight","rotate_right_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="rotate_right_20"><path fill-rule="evenodd" d="M13.2 9.5h-2.4c-.865 0-1.423.001-1.848.036-.408.033-.559.09-.633.127a1.5 1.5 0 0 0-.656.656c-.037.074-.094.225-.127.633-.035.425-.036.983-.036 1.848v.4c0 .865.001 1.423.036 1.848.033.408.09.559.127.633a1.5 1.5 0 0 0 .656.656c.074.037.225.094.633.127.425.035.983.036 1.848.036h2.4c.865 0 1.423-.001 1.848-.036.408-.033.559-.09.633-.127a1.5 1.5 0 0 0 .656-.656c.037-.074.094-.225.127-.633.035-.425.036-.983.036-1.848v-.4c0-.865-.001-1.423-.036-1.848-.033-.408-.09-.559-.127-.633a1.5 1.5 0 0 0-.656-.656c-.074-.037-.225-.094-.633-.127-.425-.035-.983-.036-1.848-.036Zm-6.873.138C6 10.28 6 11.12 6 12.8v.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C8.28 18 9.12 18 10.8 18h2.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C18 15.72 18 14.88 18 13.2v-.4c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C15.72 8 14.88 8 13.2 8h-2.4c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311ZM6.47 1.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 0 1-1.06-1.06l.72-.72H7A3.25 3.25 0 0 0 3.75 8.5V11a.75.75 0 0 1-1.5 0V8.5A4.75 4.75 0 0 1 7 3.75h.19l-.72-.72a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},418586:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon20Stars","stars_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="stars_20"><path fill-rule="evenodd" d="M12.004 8.13c-.368.835-.857 1.717-1.507 2.367-.65.65-1.532 1.14-2.367 1.507.835.367 1.717.857 2.367 1.507.65.65 1.14 1.532 1.507 2.367.367-.835.857-1.717 1.507-2.367.65-.65 1.532-1.14 2.367-1.507-.835-.368-1.717-.857-2.367-1.507-.65-.65-1.14-1.532-1.507-2.367Zm-.785-2.178c-.421 1.317-1.014 2.716-1.782 3.485-.769.768-2.168 1.36-3.485 1.782a21.073 21.073 0 0 1-1.162.338c-.38.1-.38.793 0 .894a27.146 27.146 0 0 1 .912.26c.083.025.166.05.25.078 1.317.421 2.716 1.014 3.485 1.782.768.768 1.36 2.168 1.782 3.485a20.843 20.843 0 0 1 .27.907l.068.255c.1.38.793.38.894 0a27.487 27.487 0 0 1 .26-.912c.025-.083.05-.166.078-.25.421-1.317 1.014-2.717 1.782-3.485.768-.768 2.168-1.36 3.485-1.782a20.843 20.843 0 0 1 .907-.27l.255-.068c.38-.1.38-.793 0-.894a27.487 27.487 0 0 1-.912-.26 20.843 20.843 0 0 1-.25-.078c-1.317-.421-2.717-1.014-3.485-1.782-.768-.769-1.36-2.168-1.782-3.485a21.13 21.13 0 0 1-.338-1.162c-.1-.38-.793-.38-.894 0a27.146 27.146 0 0 1-.26.912 21.13 21.13 0 0 1-.078.25ZM4.365.763a.385.385 0 0 0-.73 0l-.414 1.24a1.926 1.926 0 0 1-1.218 1.218l-1.24.414a.385.385 0 0 0 0 .73l1.24.414a1.926 1.926 0 0 1 1.218 1.218l.414 1.24a.385.385 0 0 0 .73 0l.414-1.24a1.926 1.926 0 0 1 1.218-1.218l1.24-.414a.385.385 0 0 0 0-.73l-1.24-.414a1.926 1.926 0 0 1-1.218-1.218L4.365.763Z" /></symbol>',20,20,!1,void 0)},270640:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon20WaterDropOutline","water_drop_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="water_drop_outline_20"><path fill-rule="evenodd" d="M5.4 8.683c-.419.85-.65 1.647-.65 2.317a5.25 5.25 0 1 0 10.5 0c0-.67-.231-1.467-.65-2.317-.414-.842-.988-1.69-1.615-2.447-.628-.759-1.292-1.408-1.874-1.86a4.888 4.888 0 0 0-.76-.499 1.644 1.644 0 0 0-.255-.106A.419.419 0 0 0 10 3.75a.42.42 0 0 0-.096.02c-.065.02-.15.054-.254.107a4.854 4.854 0 0 0-.76.5c-.583.451-1.247 1.1-1.875 1.859-.627.757-1.201 1.605-1.615 2.447Zm3.573-6.145c.308-.155.667-.288 1.027-.288.36 0 .72.133 1.027.288.322.163.662.389 1.003.654.684.53 1.425 1.26 2.11 2.087.686.828 1.33 1.774 1.806 2.742.473.96.804 1.992.804 2.979a6.75 6.75 0 0 1-13.5 0c0-.987.331-2.018.804-2.979.476-.969 1.12-1.914 1.806-2.742.685-.827 1.426-1.557 2.11-2.087a6.44 6.44 0 0 1 1.003-.654Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},456775:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24ArrowUturnLeftOutline","arrow_uturn_left_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="arrow_uturn_left_outline_24"><path fill-rule="evenodd" d="M10.236 3.264a.9.9 0 0 1 0 1.272L7.673 7.1H12a5.9 5.9 0 1 1 0 11.8H7.9a.9.9 0 1 1 0-1.8H12a4.1 4.1 0 0 0 0-8.2H7.673l2.563 2.564a.9.9 0 0 1-1.272 1.272l-4.1-4.1a.9.9 0 0 1 0-1.272l4.1-4.1a.9.9 0 0 1 1.272 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},699111:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24ArrowUturnRightOutline","arrow_uturn_right_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="arrow_uturn_right_outline_24"><path fill-rule="evenodd" d="M13.764 3.264a.9.9 0 0 1 1.272 0l4.1 4.1a.9.9 0 0 1 0 1.272l-4.1 4.1a.9.9 0 0 1-1.272-1.272L16.327 8.9H12a4.1 4.1 0 1 0 0 8.2h4.1a.9.9 0 0 1 0 1.8H12a5.9 5.9 0 1 1 0-11.8h4.327l-2.563-2.564a.9.9 0 0 1 0-1.272Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},621748:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24BrushOutline","brush_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="brush_outline_24"><path d="M20.377 3.467a1.857 1.857 0 0 0-2.558.09l-6.93 6.866a.911.911 0 0 0-.007 1.285.904.904 0 0 0 1.281.008l6.935-6.87c.044-.045.117-.018.07.04l-6.154 7.74a.911.911 0 0 0 .143 1.278.904.904 0 0 0 1.273-.143l6.15-7.735a1.85 1.85 0 0 0-.203-2.56Z" /><path fill-rule="evenodd" d="M8.488 12.624c-2.003 0-3.476 1.63-3.56 3.533-.043.938-.454 1.416-.83 1.732-.382.321-.894.553-1.052 1.065-.13.418.033.863.373 1.128.763.593 2.355 1.343 4.654.622 2.399-.752 3.977-2.509 3.977-4.506a3.568 3.568 0 0 0-3.562-3.574Zm-1.75 3.614c.046-1.037.82-1.796 1.75-1.796.967 0 1.75.786 1.75 1.756 0 .947-.789 2.17-2.705 2.77-.866.272-1.549.249-2.057.123.59-.56 1.198-1.442 1.261-2.853Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},274824:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24Crop","crop_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="crop_24"><g fill="currentColor"><path d="M6 1.006a.9.9 0 0 1 .9.9V14.8c0 .575 0 .952.024 1.24.023.278.062.394.096.46a1.1 1.1 0 0 0 .48.48c.067.034.182.073.46.096.288.023.665.024 1.24.024h12.898a.9.9 0 0 1 0 1.8H18.9v3.198a.9.9 0 1 1-1.8 0V18.9H9.165c-.53 0-.981 0-1.352-.03-.389-.032-.768-.102-1.13-.286a2.9 2.9 0 0 1-1.267-1.267c-.184-.362-.254-.741-.286-1.13-.03-.37-.03-.822-.03-1.352V6.9H1.903a.9.9 0 0 1 0-1.8H5.1V1.906a.9.9 0 0 1 .9-.9z" /><path d="M16.04 6.924c-.288-.023-.665-.024-1.24-.024H9.907a.9.9 0 1 1 0-1.8h4.928c.53 0 .981 0 1.352.03.39.032.768.102 1.13.286a2.9 2.9 0 0 1 1.267 1.267c.184.362.254.74.286 1.13.03.37.03.822.03 1.352V14.1a.9.9 0 1 1-1.8 0V9.2c0-.575 0-.952-.024-1.24-.023-.278-.062-.394-.096-.46a1.1 1.1 0 0 0-.48-.48c-.067-.034-.182-.073-.46-.096z" /></g></symbol>',24,24,!1,void 0)},495707:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24Done","done_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="done_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="m9 16.2-3.5-3.5a.99.99 0 1 0-1.4 1.4l4.193 4.193a1 1 0 0 0 1.414 0L20.3 7.7a.99.99 0 0 0-1.4-1.4L9 16.2Z" /></g></symbol>',24,24,!1,void 0)},949151:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24Filter","filter_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="filter_24"><path fill-rule="evenodd" d="M6.242 8.9a2.901 2.901 0 0 0 5.516 0H20a.9.9 0 1 0 0-1.8h-8.242a2.901 2.901 0 0 0-5.515 0H4a.9.9 0 1 0 0 1.8h2.242ZM9 6.9a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2ZM3.1 16a.9.9 0 0 1 .9-.9h8.242a2.901 2.901 0 0 1 5.516 0H20a.9.9 0 1 1 0 1.8h-2.242a2.901 2.901 0 0 1-5.516 0H4a.9.9 0 0 1-.9-.9Zm10.8 0a1.1 1.1 0 1 1 2.2 0 1.1 1.1 0 0 1-2.2 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},815204:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24Fullscreen","fullscreen_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="fullscreen_24"><path fill-rule="evenodd" d="M14 4.9a.9.9 0 0 1 .9-.9h4.2a.9.9 0 0 1 .9.9v4.2a.9.9 0 1 1-1.8 0V7.073l-3.664 3.663a.9.9 0 1 1-1.272-1.272L16.927 5.8H14.9a.9.9 0 0 1-.9-.9Zm-3.264 8.364a.9.9 0 0 1 0 1.272L7.073 18.2h2.025a.9.9 0 1 1 0 1.8H4.9a.9.9 0 0 1-.9-.9v-4.2a.9.9 0 0 1 1.8 0v2.027l3.664-3.663a.9.9 0 0 1 1.272 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},601352:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24FullscreenExit","fullscreen_exit_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="fullscreen_exit_24"><path fill-rule="evenodd" d="M5 13.9a.9.9 0 0 1 .9-.9h4.2a.9.9 0 0 1 .9.9v4.2a.9.9 0 1 1-1.8 0v-2.027l-3.664 3.663a.9.9 0 1 1-1.272-1.272L7.927 14.8H5.9a.9.9 0 0 1-.9-.9Zm14.736-9.636a.9.9 0 0 1 0 1.272L16.073 9.2h2.025a.9.9 0 0 1 0 1.8H13.9a.9.9 0 0 1-.9-.9V5.9a.9.9 0 1 1 1.8 0v2.027l3.664-3.663a.9.9 0 0 1 1.272 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},591420:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24ImageFilterOutline","image_filter_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="image_filter_outline_24"><path d="M8.983 15.8a3.8 3.8 0 0 0 0-7.6A7.166 7.166 0 0 0 7.9 12c0 1.395.396 2.696 1.083 3.8Z" /><path fill-rule="evenodd" d="M8.9 4.6A7.4 7.4 0 1 0 12 18.721a7.4 7.4 0 1 0 0-13.443A7.372 7.372 0 0 0 8.9 4.6ZM3.3 12a5.6 5.6 0 1 1 11.2 0 5.6 5.6 0 0 1-11.2 0Zm10.586-5.468A7.38 7.38 0 0 1 16.3 12a7.38 7.38 0 0 1-2.414 5.468 5.6 5.6 0 1 0 0-10.936Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},94566:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24RecentOutline","recent_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="recent_outline_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" fill-rule="nonzero" d="M12 21.428A9.428 9.428 0 0 1 2.571 12 9.428 9.428 0 0 1 12 2.57c5.206 0 9.429 4.221 9.429 9.429 0 5.207-4.223 9.428-9.429 9.428Zm0-1.8a7.63 7.63 0 1 0-.001-15.258A7.63 7.63 0 0 0 12 19.628Zm4.085-6.387a.9.9 0 1 1-.575 1.706l-4.226-1.427a.9.9 0 0 1-.613-.853V8.353a.9.9 0 1 1 1.8 0v3.668l3.614 1.22Z" /></g></symbol>',24,24,!1,void 0)},147650:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24SmileOutline","smile_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="smile_outline_24"><path d="M8.438 14.297a.9.9 0 0 1 1.259.133c.013.016.196.223.53.432.383.24.97.488 1.773.488a3.3 3.3 0 0 0 1.773-.488c.191-.12.382-.26.53-.432a.9.9 0 0 1 1.4 1.132 4.045 4.045 0 0 1-.976.826A5.094 5.094 0 0 1 12 17.15a5.094 5.094 0 0 1-2.727-.762 3.987 3.987 0 0 1-.976-.826.9.9 0 0 1 .14-1.265Zm1.812-4.047a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM15 11.5A1.25 1.25 0 1 0 15 9a1.25 1.25 0 0 0 0 2.5Zm-3-9.4c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9ZM3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},569456:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24StorefrontOutline","storefront_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="storefront_outline_24"><path fill-rule="evenodd" d="M7 14a.9.9 0 0 1 .9.9v4.2h8.2v-4.2a.9.9 0 0 1 1.8 0V20a.9.9 0 0 1-.9.9H7a.9.9 0 0 1-.9-.9v-5.1A.9.9 0 0 1 7 14Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M3 20a.9.9 0 0 1 .9-.9h16.2a.9.9 0 1 1 0 1.8H3.9A.9.9 0 0 1 3 20Zm13.9-10a1.1 1.1 0 0 0 2.2 0h1.8a2.9 2.9 0 0 1-5.8 0h1.8Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M16 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M12 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M4 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 0 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8.703 3.1h6.594c.553 0 1.019-.001 1.453.137a2.9 2.9 0 0 1 1.033.585c.342.301.581.7.865 1.175l.056.094 1.612 2.686.027.045c.143.239.264.44.352.66.077.195.133.397.167.604.038.234.038.47.038.747V10h-1.8v-.114c0-.358-.003-.438-.014-.51a1.1 1.1 0 0 0-.064-.228c-.027-.068-.066-.138-.25-.445L17.16 6.017c-.37-.618-.462-.752-.566-.843a1.1 1.1 0 0 0-.392-.222c-.131-.042-.294-.052-1.014-.052H8.812c-.72 0-.883.01-1.014.052a1.1 1.1 0 0 0-.392.222c-.104.091-.196.225-.566.843L5.228 8.703c-.185.307-.223.377-.25.445a1.1 1.1 0 0 0-.064.228c-.011.072-.014.152-.014.51V10H3.1v-.167c0-.278 0-.513.038-.747a2.9 2.9 0 0 1 .167-.603c.088-.22.209-.422.352-.66l.027-.046L5.296 5.09l.056-.094c.284-.474.523-.874.865-1.175a2.9 2.9 0 0 1 1.033-.585c.434-.138.9-.138 1.453-.137Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},526326:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon24TextOutline","text_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="text_outline_24"><path fill-rule="evenodd" d="M3.038 18.111c.566 0 .881-.278 1.104-1.002l.872-2.616h4.583l.872 2.616c.213.715.547 1.002 1.113 1.002.603 0 1.002-.352 1.002-.909 0-.232-.056-.482-.158-.788L8.947 6.57c-.315-.937-.77-1.336-1.614-1.336-.844 0-1.299.409-1.624 1.336L2.23 16.414c-.12.352-.176.593-.176.816 0 .538.4.881.984.881Zm2.477-5.232 1.744-5.353h.102l1.735 5.353H5.515Zm14.25 3.85h.102v.436c.046.585.408.928.974.928.64 0 1.002-.408 1.002-1.113v-5.613c0-2.134-1.383-3.322-3.86-3.322-1.02 0-1.8.177-2.393.501-.826.446-1.216 1.002-1.216 1.568 0 .446.297.752.752.752.353 0 .594-.093.844-.334.566-.575 1.104-.854 1.883-.854 1.253 0 1.93.575 1.93 1.68v.871h-2.449c-2.19.01-3.507 1.114-3.507 2.923 0 1.781 1.29 2.987 3.2 2.987 1.216 0 2.2-.5 2.738-1.41Zm-3.869-1.68c0-.9.63-1.41 1.726-1.41h2.161v1.058c0 1.058-.918 1.874-2.115 1.874-1.058 0-1.772-.612-1.772-1.521Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},784977:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o=(0,r(28178).makeIcon)("Icon28CameraOutline","camera_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="camera_outline_28"><path fill-rule="evenodd" d="M11 14a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-5a5 5 0 1 0 0 10 5 5 0 0 0 0-10Zm-1.337-6h-.076c-.469 0-.822 0-1.161.058a4 4 0 0 0-2.223 1.19c-.237.25-.433.543-.693.934l-.042.063-.086.129a3.862 3.862 0 0 1-.18.261 1 1 0 0 1-.673.36A3.86 3.86 0 0 1 7.212 6h-.09c-.574 0-.98 0-1.338.057a4.5 4.5 0 0 0-3.727 3.727C2 10.141 2 10.548 2 11.122v3.922c0 1.363 0 2.447.071 3.322.074.895.227 1.659.583 2.358a6 6 0 0 0 2.622 2.622c.7.356 1.463.51 2.359.583.874.071 1.958.071 3.321.071h6.088c1.363 0 2.447 0 3.322-.071.895-.074 1.659-.227 2.358-.583a6.001 6.001 0 0 0 2.622-2.622c.356-.7.51-1.463.583-2.358.071-.875.071-1.96.071-3.322v-3.922c0-.574 0-.98-.057-1.338a4.5 4.5 0 0 0-3.727-3.727C21.859 6 21.452 6 20.878 6h-.09a3.86 3.86 0 0 1-.317-.005 1 1 0 0 1-.673-.36 3.877 3.877 0 0 1-.18-.261l-.086-.129-.042-.063c-.26-.39-.456-.684-.693-.934a4 4 0 0 0-2.223-1.19C16.235 3 15.882 3 15.413 3h-2.75Zm0 2c-.578 0-.748.003-.897.03a2 2 0 0 0-1.112.594c-.104.11-.201.25-.522.73l-.085.129-.02.03a4.814 4.814 0 0 1-.28.392 3 3 0 0 1-2.018 1.08C7.579 8 7.424 8 7.249 8h-.037c-.7 0-.932.003-1.11.032a2.5 2.5 0 0 0-2.07 2.07c-.029.178-.032.41-.032 1.11V15c0 1.417 0 2.419.065 3.203.063.771.182 1.243.371 1.613a4 4 0 0 0 1.748 1.748c.37.189.842.308 1.613.371C8.581 22 9.583 22 11 22h6c1.417 0 2.419 0 3.203-.065.771-.063 1.243-.182 1.613-.37a4 4 0 0 0 1.748-1.749c.189-.37.308-.841.371-1.613C24 17.419 24 16.417 24 15v-3.788c0-.7-.003-.932-.032-1.11a2.5 2.5 0 0 0-2.07-2.07c-.178-.029-.41-.032-1.11-.032h-.036c-.176 0-.33 0-.481-.015a3 3 0 0 1-2.018-1.08 4.888 4.888 0 0 1-.28-.392l-.02-.03-.085-.128c-.32-.482-.418-.621-.522-.731a2 2 0 0 0-1.112-.595c-.149-.026-.319-.029-.897-.029h-2.674Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},327125:(e,t,r)=>{"use strict";r.d(t,{statlogsValueEvent:()=>a,statlogsProbValueEvent:()=>s});var o=r(506770),i=r(798262);function a(e,t,r,o,a){return(0,i.statlogsValueEvent)(e,t,r,o,a)}function s(e,t,r,i,s,n){(0,o.randEnabled)(e)&&a(t,r,i,s,n)}},397846:(e,t,r)=>{"use strict";r.d(t,{AnswerQuestionSticker:()=>l});r(241539),r(788674);var o=r(662758),i=r(101032),a=r(326339),s=r(600453),n=r(545075);class l extends o.Sticker{constructor(e){super(),this.props=e}prepareData(){return new Promise(((e,t)=>{var r=this.props,o={questionOwnerPhoto:r.questionOwnerPhoto,answerOwnerPhoto:r.answerOwnerPhoto,cornerIcon:r.cornerIcon,cornerIconFlipped:r.cornerIconFlipped};this.loadImages(o).then((()=>e(1))).catch((e=>t(e)))}))}render(){return new Promise(((e,t)=>{this.prepareData().then((()=>{this.draw(),e(1)})).catch((e=>{t(e)}))}))}draw(){var e=this.drawQuestion(n.AnswerQuestionStickerStyles.question.top,n.AnswerQuestionStickerStyles.question.left),t=this.drawAnswer(e.bottom+n.AnswerQuestionStickerStyles.answer.top,n.AnswerQuestionStickerStyles.answer.left);this.setWidth(t.right),this.setHeight(t.bottom),this.drawScene()}drawQuestion(e,t){var r=n.AnswerQuestionStickerStyles.question.width-2*n.AnswerQuestionStickerStyles.question.padding,o=new a.ImageItem({x:t+n.AnswerQuestionStickerStyles.questionCorner.marginLeft,image:this.getImage("cornerIcon"),width:n.AnswerQuestionStickerStyles.questionCorner.width,height:n.AnswerQuestionStickerStyles.questionCorner.height}),l=new i.RectItem({x:t+n.AnswerQuestionStickerStyles.question.marginLeft,y:e,width:n.AnswerQuestionStickerStyles.question.width,radius:n.AnswerQuestionStickerStyles.question.borderRadius,background:n.AnswerQuestionStickerStyles.question.background}),d=new a.ImageItem({x:l.getBoundingClientRect().left+n.AnswerQuestionStickerStyles.question.padding,y:l.getBoundingClientRect().top+n.AnswerQuestionStickerStyles.question.padding,image:this.getImage("questionOwnerPhoto"),width:n.AnswerQuestionStickerStyles.avatar.width,height:n.AnswerQuestionStickerStyles.avatar.height,radius:n.AnswerQuestionStickerStyles.avatar.width/2,borderSize:n.AnswerQuestionStickerStyles.avatar.borderSize,borderColor:n.AnswerQuestionStickerStyles.avatar.borderColor}),c=new s.TextItem({x:d.getBoundingClientRect().right+n.AnswerQuestionStickerStyles.questionOwnerName.marginLeft,y:d.getBoundingClientRect().top+n.AnswerQuestionStickerStyles.questionOwnerName.marginTop,text:this.props.questionOwnerName,fontSize:n.AnswerQuestionStickerStyles.questionOwnerName.fontSize,lineHeight:n.AnswerQuestionStickerStyles.questionOwnerName.lineHeight,fontFamily:n.AnswerQuestionStickerStyles.questionOwnerName.fontFamily,color:n.AnswerQuestionStickerStyles.questionOwnerName.color,maxWidth:r-d.getBoundingClientRect().width-n.AnswerQuestionStickerStyles.questionOwnerName.marginLeft,maxLines:1}),h=new s.TextItem({x:l.getBoundingClientRect().left+n.AnswerQuestionStickerStyles.question.padding,y:d.getBoundingClientRect().bottom+n.AnswerQuestionStickerStyles.questionText.marginTop,text:this.props.questionText,fontSize:n.AnswerQuestionStickerStyles.questionText.fontSize,lineHeight:n.AnswerQuestionStickerStyles.questionText.lineHeight,fontFamily:n.AnswerQuestionStickerStyles.questionText.fontFamily,fontWeight:n.AnswerQuestionStickerStyles.questionText.fontWeight,color:n.AnswerQuestionStickerStyles.questionText.color,maxWidth:r,maxLines:8});return l.setHeight(h.getBoundingClientRect().bottom+n.AnswerQuestionStickerStyles.question.padding-8),o.setY(l.getBoundingClientRect().bottom-124),this.add(o),this.add(l),this.add(d),this.add(c),this.add(h),l.getBoundingClientRect()}drawAnswer(e,t){var r=n.AnswerQuestionStickerStyles.answer.width-2*n.AnswerQuestionStickerStyles.answer.padding,o=new i.RectItem({x:t,y:e,width:n.AnswerQuestionStickerStyles.answer.width,radius:n.AnswerQuestionStickerStyles.answer.borderRadius,background:n.AnswerQuestionStickerStyles.answer.background}),l=new a.ImageItem({x:o.getBoundingClientRect().right+n.AnswerQuestionStickerStyles.answerCorner.marginLeft,image:this.getImage("cornerIconFlipped"),width:n.AnswerQuestionStickerStyles.answerCorner.width,height:n.AnswerQuestionStickerStyles.answerCorner.height}),d=new a.ImageItem({x:o.getBoundingClientRect().left+n.AnswerQuestionStickerStyles.answer.padding,y:o.getBoundingClientRect().top+n.AnswerQuestionStickerStyles.answer.padding,image:this.getImage("answerOwnerPhoto"),width:n.AnswerQuestionStickerStyles.avatar.width,height:n.AnswerQuestionStickerStyles.avatar.height,radius:n.AnswerQuestionStickerStyles.avatar.width/2,borderSize:n.AnswerQuestionStickerStyles.avatar.borderSize,borderColor:n.AnswerQuestionStickerStyles.avatar.borderColor}),c=new s.TextItem({x:d.getBoundingClientRect().right+n.AnswerQuestionStickerStyles.answerOwnerName.marginLeft,y:d.getBoundingClientRect().top+n.AnswerQuestionStickerStyles.answerOwnerName.marginTop,text:this.props.answerOwnerName,fontSize:n.AnswerQuestionStickerStyles.answerOwnerName.fontSize,lineHeight:n.AnswerQuestionStickerStyles.answerOwnerName.lineHeight,fontFamily:n.AnswerQuestionStickerStyles.answerOwnerName.fontFamily,maxWidth:r-d.getBoundingClientRect().width-n.AnswerQuestionStickerStyles.answerOwnerName.marginLeft,maxLines:1,color:n.AnswerQuestionStickerStyles.answerOwnerName.color}),h=new s.TextItem({x:o.getBoundingClientRect().left+n.AnswerQuestionStickerStyles.answer.padding,y:d.getBoundingClientRect().bottom+n.AnswerQuestionStickerStyles.answerText.marginTop,text:this.props.answerText,fontSize:n.AnswerQuestionStickerStyles.answerText.fontSize,lineHeight:n.AnswerQuestionStickerStyles.answerText.lineHeight,fontFamily:n.AnswerQuestionStickerStyles.answerText.fontFamily,fontWeight:n.AnswerQuestionStickerStyles.answerText.fontWeight,color:n.AnswerQuestionStickerStyles.answerText.color,maxWidth:r,maxLines:8});return o.setHeight(h.getBoundingClientRect().bottom+n.AnswerQuestionStickerStyles.answer.padding-16-e),l.setY(o.getBoundingClientRect().bottom-124),this.add(l),this.add(o),this.add(d),this.add(c),this.add(h),l.getBoundingClientRect()}}},545075:(e,t,r)=>{"use strict";r.d(t,{AnswerQuestionStickerStyles:()=>o});var o={avatar:{width:96,height:96,borderSize:4,borderColor:"rgba(0, 0, 0, 0.08)"},question:{top:0,left:0,width:968,padding:64,marginLeft:32,borderRadius:64,background:"#fff"},questionOwnerName:{marginLeft:32,marginTop:20,fontSize:60,lineHeight:80,fontFamily:"SF Pro Text, sans-serif",color:"#000"},questionText:{marginTop:48,fontSize:84,lineHeight:104,fontFamily:"SF Pro Text, sans-serif",fontWeight:"600",color:"#000"},questionCorner:{width:132,height:132,marginLeft:4},answer:{top:80,left:168,width:968,padding:64,borderRadius:64,background:"#fff"},answerOwnerName:{marginLeft:32,marginTop:20,fontSize:60,lineHeight:80,fontFamily:"SF Pro Text, sans-serif",color:"#2C2D2E"},answerText:{marginTop:48,fontSize:80,lineHeight:96,fontFamily:"SF Pro Text, sans-serif",fontWeight:"400",color:"#000"},answerCorner:{width:132,height:132,marginLeft:-100}}},878628:(e,t,r)=>{"use strict";r.d(t,{AskQuestionAvatar:()=>a});r(241539),r(788674);var o=r(662758),i=r(326339);class a extends o.Sticker{constructor(e){super(),this.props=e}render(){return new Promise(((e,t)=>{this.loadImages({photo:this.props.photoUrl}).then((()=>{this.draw(),e(1)})).catch((e=>{t(e)}))}))}draw(){var e=this.props,t=e.size,r=e.borderSize,o=void 0===r?0:r,a=e.borderColor,s=void 0===a?"":a,n=4*t,l=4*o,d=new i.ImageItem({image:this.getImage("photo"),width:n,height:n,radius:n/2,borderSize:l,borderColor:s});this.add(d),this.setWidth(d.getWidth()),this.setHeight(d.getHeight()),this.drawScene()}}},849403:(e,t,r)=>{"use strict";r.d(t,{AskQuestionText:()=>s});r(241539),r(788674);var o=r(662758),i=r(600453),a=r(41034);class s extends o.Sticker{constructor(e){super(),this.props=e}render(){return new Promise((e=>{this.draw(),e(1)}))}draw(){var e=new i.TextItem({text:this.props.text,fontSize:a.AskQuestionTextStyles.fontSize,lineHeight:a.AskQuestionTextStyles.lineHeight,fontFamily:a.AskQuestionTextStyles.fontFamily,fontWeight:a.AskQuestionTextStyles.fontWeight,color:a.AskQuestionTextStyles.color,fillColor:a.AskQuestionTextStyles.fillColor,fillRadius:a.AskQuestionTextStyles.fillRadius,padding:{top:a.AskQuestionTextStyles.paddingTop,bottom:a.AskQuestionTextStyles.paddingBottom,left:a.AskQuestionTextStyles.paddingLeft,right:a.AskQuestionTextStyles.paddingRight}});this.add(e),this.setWidth(e.getWidth()),this.setHeight(e.getHeight()),this.drawScene()}}},41034:(e,t,r)=>{"use strict";r.d(t,{AskQuestionTextStyles:()=>o});var o={fontSize:136,lineHeight:144,fontFamily:"VK Sans Display, SF Pro Text, sans-serif",fontWeight:"600",color:"#000",fillColor:"#fff",fillRadius:48,paddingTop:64,paddingBottom:40,paddingLeft:72,paddingRight:72}},743449:(e,t,r)=>{"use strict";r.d(t,{CommentSticker:()=>I});r(241539),r(788674),r(115306);var o=r(662758),i=r(101032),a=r(326339),s=r(600453),n=r(378375),l=r(835805),d=r(423163),c=r(394178),h=r(148893),u=r(288373),p=r(741182),g=r(691794),_=r(387460),v=r(811742),m=r(889420),f=r(827921),y=r(136878),T=r(473550),S=r(540863),E=r(929001),x=r(733500),w=r(303325),C=80,b="SF Pro Text, sans-serif";class I extends o.Sticker{constructor(e){super(),this.props=e,this.setWidth(1400)}static getReplyMediaIcon(e){var t="";switch(e){case"photo":t=(0,n.getIcon20CameraOutline)().icon;break;case"video":t=(0,l.getIcon20VideoCircleOutline)().icon;break;case"audio":t=(0,d.getIcon20MusicOutline)().icon;break;case"doc":t=(0,c.getIcon20DocumentOutline)().icon;break;case"article":t=(0,h.getIcon20ArticleOutline)().icon;break;case"narrative":t=(0,u.getIcon20NarrativeOutline)().icon;break;default:t=(0,p.getIcon20Attach)().icon}return t}static getPostMediaIcon(e){var t="";switch(e){case"audio":t=(0,g.getIcon28MusicOutline)().icon;break;case"video":t=(0,_.getIcon28VideoOutline)().icon;break;case"poll":t=(0,v.getIcon28PollSquareOutline)().icon;break;case"narrative":t=(0,m.getIcon28NarrativeOutline)().icon;break;case"audio_playlist":t=(0,f.getIcon28PlaylistOutline)().icon;break;case"market":t=(0,y.getIcon28MarketOutline)().icon;break;case"geo":t=(0,T.getIcon28PlaceOutline)().icon;break;case"doc":t=(0,S.getIcon28DocumentOutline)().icon;break;case"article":t=(0,E.getIcon28ArticleOutline)().icon;break;default:t=(0,x.getIcon28AttachOutline)().icon}return t}prepareData(){return new Promise(((e,t)=>{var r=this.props,o=r.replyOwnerPhoto,i=r.replyMediaType,a=r.replyMediaPreviewUrl,s=r.postOwnerPhoto,n=r.postMediaType,l=r.postMediaPreviewUrl,d={replyOwnerPhoto:o,postOwnerPhoto:s,replyIcon:this.getIconUrl((0,w.getIcon12Repost)().icon.replace("currentColor","#99A2AD"))};if(a)d.replySticker=a;else if(i){var c=I.getReplyMediaIcon(i);c&&(d.replyMediaIcon=this.getIconUrl(c.replace("currentColor","#3F8AE0")))}if(l)d.postPreview=l;else if(n){var h=I.getPostMediaIcon(n);h&&(d.postMediaIcon=this.getIconUrl(h.replace("currentColor","#99A2AD")))}this.loadImages(d).then((()=>e(1))).catch((e=>t(e)))}))}render(){return new Promise(((e,t)=>{this.prepareData().then((()=>{this.draw(),e(1)})).catch((e=>{t(e)}))}))}draw(){var e=new i.RectItem({x:0,y:0,radius:72,background:"#fff"});this.add(e);var t=this.renderReplyHeader(C,C),r=this.renderReplyMessage(C,t.bottom+46),o=r?r.bottom:t.bottom,a=this.renderPost(C,o+52).bottom;this.setHeight(a+C),e.setWidth(this.getWidth()),e.setHeight(this.getHeight()),this.drawScene()}renderReplyHeader(e,t){var r=new a.ImageItem({x:e,y:t,image:this.getImage("replyOwnerPhoto"),width:160,height:160,radius:80,borderSize:4,borderColor:"rgba(0, 0, 0, 0.08)"}),o=r.getBoundingClientRect(),i=o.right+52,n=new s.TextItem({x:i,y:o.top+20,text:this.props.replyOwnerName,fontSize:60,lineHeight:80,fontFamily:b,fontWeight:"500",maxWidth:this.getInnerWidth()-o.width-52,maxLines:1,color:"#000"}),l=new a.ImageItem({x:i,y:n.getBoundingClientRect().bottom,image:this.getImage("replyIcon"),width:44,height:44,radius:0}),d=new s.TextItem({x:l.getBoundingClientRect().right+20,y:l.getBoundingClientRect().top,text:this.props.replySubtitle,fontSize:48,lineHeight:56,fontFamily:b,fontWeight:"400",maxWidth:880,maxLines:1,color:"#818C99"});return this.add(r),this.add(n),this.add(l),this.add(d),o}renderReplyMessage(e,t){var r={bottom:t};if(this.props.replyMediaPreviewUrl){var o=new a.ImageItem({x:e,y:t,image:this.getImage("replySticker"),width:288,height:288});r=o.getBoundingClientRect(),this.add(o)}else if(this.props.replyText){var i=new s.TextItem({x:e,y:t,text:this.props.replyText,fontSize:68,lineHeight:88,fontFamily:"SF Pro Text, sans-serif",fontWeight:"400",color:"#2C2D2E",maxWidth:1152,maxLines:3});r=i.getBoundingClientRect(),this.add(i)}if(this.props.replyMediaType&&"sticker"!==this.props.replyMediaType){var n=r?r.bottom+4:t;r=this.renderReplyAttach(e,n)}return r}renderReplyAttach(e,t){var r=new a.ImageItem({x:e,y:t,image:this.getImage("replyMediaIcon"),width:76,height:76});return this.add(r),this.add(new s.TextItem({x:r.getBoundingClientRect().right+32,y:r.getBoundingClientRect().top+12,text:this.props.replyMediaName,fontSize:56,lineHeight:72,fontFamily:"SF Pro Text, sans-serif",color:"#3F8AE0"})),r.getBoundingClientRect()}renderPost(e,t){var r,o,n=this.props.postMediaType,l=48,d=192,c=this.getInnerWidth()-96,h=c-d-32,u=new a.ImageItem({x:e+l,y:t+l,image:this.getImage("postOwnerPhoto"),width:96,height:96,radius:48,borderSize:2,borderColor:"rgba(0, 0, 0, 0.08)"}),p=c-u.getBoundingClientRect().width-32,g=p-d-32,_=new s.TextItem({x:u.getBoundingClientRect().right+32,y:u.getBoundingClientRect().top+20,text:this.props.postOwnerName,fontSize:56,lineHeight:72,fontFamily:b,fontWeight:"400",maxWidth:n?g:p,maxLines:1,color:"#000"});this.props.postText&&(r=new s.TextItem({x:e+l,y:u.getBoundingClientRect().bottom+34,text:this.props.postText,fontSize:52,lineHeight:64,fontFamily:b,fontWeight:"400",color:"#000",maxWidth:n?h:c,maxLines:2})),o=r?r.getBoundingClientRect().bottom+20:u.getBoundingClientRect().bottom+48;var v=new s.TextItem({x:e+l,y:o,text:this.props.postDate,fontSize:48,lineHeight:56,fontFamily:b,fontWeight:"400",color:"#818C99"}),m=new i.RectItem({x:C,y:t,width:this.getInnerWidth(),height:v.getBoundingClientRect().bottom-t+36,radius:64,background:"#fff",borderSize:4,borderColor:"#E1E3E6"});if(this.add(m),this.add(u),this.add(_),this.add(v),r&&this.add(r),n){var f=e+l+h+32;if("photo"===n&&this.props.postMediaPreviewUrl)this.add(new a.ImageItem({x:f,y:t+l,image:this.getImage("postPreview"),width:d,height:d,radius:32,borderSize:4,borderColor:"rgba(0, 0, 0, 0.08)"}));else{var y=new i.RectItem({x:f,y:t+l,width:d,height:d,radius:32,background:"#F5F5F5",borderSize:4,borderColor:"rgba(0, 0, 0, 0.08)"});this.add(y);var T=y.getBoundingClientRect();this.add(new a.ImageItem({x:T.left+(y.getWidth()/2-48),y:T.top+(y.getHeight()/2-48),image:this.getImage("postMediaIcon"),width:96,height:96,radius:0}))}}return m.getBoundingClientRect()}getInnerWidth(){return this.getWidth()-160}}},251689:(e,t,r)=>{"use strict";r.d(t,{MusicSticker:()=>c});r(241539),r(788674),r(115306);var o=r(662758),i=r(600453),a=r(326339),s=r(110163),n=r(101032),l=r(725205),d=r(733536);class c extends o.Sticker{constructor(e){super(),this.clickableHeight=0,this.data=e}get coverSize(){return this.data.isCoverImagePlaceholder?c.PLACEHOLDER_COVER_SIZE:c.COVER_SIZE}render(){return new Promise(((e,t)=>{var r=(0,l.getIcon24Explicit)().icon.replace(/currentColor/,"rgba(255, 255, 255, 0.6)"),o=(0,s.getIcon56SongOutline)().icon.replace(/currentColor/,"rgba(0, 0, 0, 0.24)"),i={};this.data.isExplicit&&(i.explicit="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)),this.data.isCoverImagePlaceholder?i.placeholder="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(o):(i.cover=this.data.audioImageUrl,i.label=this.data.labelUrl),this.loadImages(i).then((()=>{this.doRender(),e(1)})).catch(t)}))}doRender(){var e;this.data.isCoverImagePlaceholder?this.doRenderPlaceholderCover():this.doRenderCover();var t=this.doRenderTitle(),r=this.doRenderArtist(t.getBoundingClientRect().bottom);e=r,this.data.isCoverImagePlaceholder||(e=this.doRenderLabel(r.getBoundingClientRect().bottom));var o=e.getBoundingClientRect().bottom+c.STICKER_VPADDING;this.setWidth(c.STICKER_WIDTH),this.setHeight(o),this.drawScene()}doRenderPlaceholderCover(){var e=new n.RectItem({x:(c.STICKER_WIDTH-this.coverSize)/2,y:c.STICKER_VPADDING,width:this.coverSize,height:this.coverSize,radius:48,background:"rgba(255, 255, 255, 1)",shadowBlur:48,shadowColor:"rgba(0, 0, 0, 0.16)"});this.add(e);var t=132,r=new a.ImageItem({x:(c.STICKER_WIDTH-t)/2,y:c.STICKER_VPADDING+(this.coverSize-t)/2,width:t,height:t,image:this.getImage("placeholder")});this.add(r);var o=e.getBoundingClientRect().bottom+c.STICKER_VPADDING;this.setClickableHeight(o)}doRenderCover(){var e=new a.ImageItem({x:(c.STICKER_WIDTH-this.coverSize)/2,y:c.STICKER_VPADDING,image:this.getImage("cover"),width:this.coverSize,height:this.coverSize,radius:48,shadowBlur:48,shadowColor:"rgba(0, 0, 0, 0.16)"});this.add(e);var t=e.getBoundingClientRect().bottom+c.STICKER_VPADDING;this.setClickableHeight(t)}doRenderTitle(){var e=this.data.isExplicit?84:0,t=new i.TextItem({x:0,y:c.STICKER_VPADDING+this.coverSize+60,text:this.data.audioTitle,fontSize:60,lineHeight:72,fontWeight:"500",maxWidth:c.STICKER_WIDTH,maxLines:3,align:i.Align.CENTER,color:"#fff",shadowBlur:12,shadowColor:"rgba(0, 0, 0, 0.08)",afterPadding:e});if(this.add(t),this.data.isExplicit){var r=t.getLinesWidth(),o=r[r.length-1],s=o+(c.STICKER_WIDTH-o)/2-72,n=d.isSafari?0:4,l=t.getBoundingClientRect().bottom-72-n,h=new a.ImageItem({x:s,y:l,image:this.getImage("explicit"),width:72,height:72});this.add(h)}return t}doRenderArtist(e){var t=new i.TextItem({x:0,y:e+24,text:this.data.audioArtist,fontSize:48,lineHeight:60,fontWeight:"400",maxWidth:c.STICKER_WIDTH,maxLines:2,align:i.Align.CENTER,color:"rgba(255, 255, 255, 0.6)",shadowBlur:12,shadowColor:"rgba(0, 0, 0, 0.08)"});return this.add(t),t}doRenderLabel(e){var t=new a.ImageItem({x:(c.STICKER_WIDTH-354)/2,y:e+240,image:this.getImage("label"),width:354,height:108,cropType:a.ImageItemCropType.FULL});return this.add(t),t}getClickableHeight(){return this.clickableHeight}setClickableHeight(e){this.clickableHeight=e}}c.STICKER_WIDTH=936,c.STICKER_VPADDING=48,c.PLACEHOLDER_COVER_SIZE=396,c.COVER_SIZE=696},602304:(e,t,r)=>{"use strict";r.d(t,{PlaylistSticker:()=>c});r(241539),r(788674),r(115306);var o=r(662758),i=r(600453),a=r(326339),s=r(772562),n=r(101032),l=r(725205),d=r(733536);class c extends o.Sticker{constructor(e){super(),this.clickableHeight=0,this.data=e}get coverSize(){return this.data.isCoverImagePlaceholder?c.PLACEHOLDER_COVER_SIZE:c.COVER_SIZE}render(){return new Promise(((e,t)=>{var r=(0,l.getIcon24Explicit)().icon.replace(/currentColor/,"rgba(255, 255, 255, 0.6)"),o=(0,s.getIcon56PlaylistOutline)().icon.replace(/currentColor/,"rgba(0, 0, 0, 0.24)"),i={};this.data.isExplicit&&(i.explicit="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r)),this.data.isCoverImagePlaceholder?i.placeholder="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(o):(i.cover=this.data.playlistImageUrl,i.label=this.data.labelUrl),this.loadImages(i).then((()=>{this.doRender(),e(1)})).catch(t)}))}doRender(){var e;this.data.isCoverImagePlaceholder?this.doRenderPlaceholderCover():this.doRenderCover();var t=this.doRenderTitle(),r=this.doRenderArtist(t.getBoundingClientRect().bottom);e=r,this.data.isCoverImagePlaceholder||(e=this.doRenderLabel(r.getBoundingClientRect().bottom));var o=e.getBoundingClientRect().bottom+c.STICKER_VPADDING;this.setWidth(c.STICKER_WIDTH),this.setHeight(o),this.drawScene()}doRenderPlaceholderCover(){var e=new n.RectItem({x:(c.STICKER_WIDTH-this.coverSize)/2,y:c.STICKER_VPADDING,width:this.coverSize,height:this.coverSize,radius:48,shadowBlur:48,shadowColor:"rgba(0, 0, 0, 0.16)",background:"rgba(255, 255, 255, 1)"});this.add(e);var t=132,r=new a.ImageItem({x:(c.STICKER_WIDTH-t)/2,y:c.STICKER_VPADDING+(this.coverSize-t)/2,width:t,height:t,image:this.getImage("placeholder")});this.add(r);var o=e.getBoundingClientRect().bottom+c.STICKER_VPADDING;this.setClickableHeight(o)}doRenderCover(){var e=new a.ImageItem({x:(c.STICKER_WIDTH-this.coverSize)/2,y:c.STICKER_VPADDING,image:this.getImage("cover"),width:this.coverSize,height:this.coverSize,radius:48,shadowBlur:48,shadowColor:"rgba(0, 0, 0, 0.16)"});this.add(e);var t=e.getBoundingClientRect().bottom+c.STICKER_VPADDING;this.setClickableHeight(t)}doRenderTitle(){var e=this.data.isExplicit?84:0,t=new i.TextItem({x:0,y:c.STICKER_VPADDING+this.coverSize+60,text:this.data.playlistTitle,fontSize:60,lineHeight:72,fontWeight:"500",maxWidth:c.STICKER_WIDTH,maxLines:3,align:i.Align.CENTER,color:"#fff",shadowBlur:12,shadowColor:"rgba(0, 0, 0, 0.08)",afterPadding:e});if(this.add(t),this.data.isExplicit){var r=t.getLinesWidth(),o=r[r.length-1],s=o+(c.STICKER_WIDTH-o)/2-72,n=d.isSafari?0:4,l=t.getBoundingClientRect().bottom-72-n,h=new a.ImageItem({x:s,y:l,image:this.getImage("explicit"),width:72,height:72});this.add(h)}return t}doRenderArtist(e){var t=new i.TextItem({x:0,y:e+24,text:this.data.playlistAuthorName,fontSize:48,lineHeight:60,fontWeight:"400",maxWidth:c.STICKER_WIDTH,maxLines:2,align:i.Align.CENTER,color:"rgba(255, 255, 255, 0.6)",shadowBlur:12,shadowColor:"rgba(0, 0, 0, 0.08)"});return this.add(t),t}doRenderLabel(e){var t=new a.ImageItem({x:(c.STICKER_WIDTH-354)/2,y:e+240,image:this.getImage("label"),width:354,height:108,cropType:a.ImageItemCropType.FULL});return this.add(t),t}getClickableHeight(){return this.clickableHeight}setClickableHeight(e){this.clickableHeight=e}}c.STICKER_WIDTH=936,c.STICKER_VPADDING=48,c.PLACEHOLDER_COVER_SIZE=396,c.COVER_SIZE=696},326339:(e,t,r)=>{"use strict";r.d(t,{ImageItemCropType:()=>o,ImageItem:()=>a});var o,i=r(306346);!function(e){e.FULL="FULL",e.CENTER="CENTER"}(o||(o={}));class a extends i.Shape{draw(e){var t,r,i,a,s=this.props,n=s.x,l=void 0===n?0:n,d=s.y,c=void 0===d?0:d,h=s.image,u=s.width,p=void 0===u?0:u,g=s.height,_=void 0===g?0:g,v=s.radius,m=void 0===v?0:v,f=s.borderSize,y=void 0===f?0:f,T=s.borderColor,S=void 0===T?"transparent":T,E=s.shadowBlur,x=void 0===E?0:E,w=s.shadowColor,C=void 0===w?"":w,b=s.cropType;switch(void 0===b?o.CENTER:b){case o.FULL:t=0,r=0,i=h.width,a=h.height;break;case o.CENTER:var I=Math.min(h.width,h.height);t=(h.width-I)/2,r=(h.height-I)/2,i=I,a=I}e.save(),e.lineWidth=y,e.strokeStyle=S,x&&C&&(e.shadowBlur=x,e.shadowColor=C,e.shadowOffsetX=1e4+l,e.shadowOffsetY=1e4+c,e.fillRect(-1e4,-1e4,p,p)),e.beginPath(),e.arc(l+m,c+m,m,Math.PI,Math.PI+Math.PI/2),e.lineTo(l+p-m,c),e.arc(l+p-m,c+m,m,Math.PI+Math.PI/2,2*Math.PI),e.lineTo(l+p,c+_-m),e.arc(l+p-m,c+_-m,m,2*Math.PI,Math.PI/2),e.lineTo(l+m,c+_),e.arc(l+m,c+_-m,m,Math.PI/2,Math.PI),e.closePath(),e.clip(),e.drawImage(h,t,r,i,a,l,c,p,_),e.stroke(),e.restore()}getWidth(){return this.props.width}setWidth(e){this.props.width=e}getHeight(){return this.props.height}setWeight(e){this.props.height=e}}},101032:(e,t,r)=>{"use strict";r.d(t,{RectItem:()=>i});var o=r(306346);class i extends o.Shape{draw(e){var t=this.props,r=t.x,o=void 0===r?0:r,i=t.y,a=void 0===i?0:i,s=t.width,n=void 0===s?0:s,l=t.height,d=void 0===l?0:l,c=t.background,h=void 0===c?"transparent":c,u=t.borderSize,p=void 0===u?0:u,g=t.borderColor,_=void 0===g?"transparent":g,v=t.shadowBlur,m=void 0===v?0:v,f=t.shadowColor,y=void 0===f?"":f,T=this.props.radius,S=void 0===T?0:T;n<2*S&&(S=n/2),d<2*S&&(S=d/2),e.save(),m&&y&&(e.shadowBlur=m,e.shadowColor=y),e.beginPath(),e.fillStyle=h,e.lineWidth=p,e.strokeStyle=_,e.moveTo(o+S,a),e.arcTo(o+n,a,o+n,a+d,S),e.arcTo(o+n,a+d,o,a+d,S),e.arcTo(o,a+d,o,a,S),e.arcTo(o,a,o+n,a,S),e.closePath(),e.stroke(),e.fill(),e.restore()}getWidth(){var e=this.props.width;return void 0===e?0:e}setWidth(e){this.props.width=e}getHeight(){var e=this.props.height;return void 0===e?0:e}setHeight(e){this.props.height=e}}},306346:(e,t,r)=>{"use strict";r.d(t,{Shape:()=>o});class o{constructor(e){this.props=e}getBoundingClientRect(){var e=this.props,t=e.x,r=void 0===t?0:t,o=e.y,i=void 0===o?0:o;return{width:this.getWidth(),height:this.getHeight(),top:i,left:r,right:r+this.getWidth(),bottom:i+this.getHeight()}}setX(e){this.props.x=e}setY(e){this.props.y=e}}},600453:(e,t,r)=>{"use strict";r.d(t,{Align:()=>o,TextItem:()=>s});r(491038),r(66992),r(747042),r(140561),r(115306),r(323123),r(573210),r(454747),r(333948);var o,i=r(306346),a=r(659397);!function(e){e.LEFT="LEFT",e.CENTER="CENTER"}(o||(o={}));class s extends i.Shape{constructor(e){super(e),this.context=document.createElement("canvas").getContext("2d"),this.splitText=this.splitTextIntoLines()}draw(e){var t=this.props,r=t.x,i=void 0===r?0:r,a=t.y,n=void 0===a?0:a,l=t.color,d=void 0===l?"#000":l,c=t.lineHeight,h=t.fillColor,u=t.fillRadius,p=void 0===u?0:u,g=t.align,_=void 0===g?o.LEFT:g,v=t.maxWidth,m=void 0===v?0:v,f=t.shadowBlur,y=t.shadowColor,T=t.maxLines,S=t.afterPadding,E=void 0===S?0:S;if(e.save(),this.setFont(e),e.fillStyle=d,e.textBaseline="top",e.textAlign="left",f&&y&&(e.shadowBlur=f,e.shadowColor=y),h){var x=this.getPadding(),w=0;this.splitText.forEach(((t,r)=>{var a=e.measureText(t).width;T&&r===this.splitText.length-1&&(a+=E);var n=i;_===o.CENTER&&(n=i+(m-a)/2);var l=0;l=0===r?x.top:x.top/2;var d=0;d=r===this.splitText.length-1?x.bottom:x.bottom/2;var u={tl:0,tr:0,bl:0,br:0};if(0===r)u.tl=p,u.tr=p,e.measureText(this.splitText[r]).width>e.measureText(this.splitText[r+1]).width&&(u.bl=0,u.br=p);else if(r===this.splitText.length-1){u.bl=p,u.br=p,e.measureText(this.splitText[r]).width>e.measureText(this.splitText[r-1]).width&&(u.tl=0,u.tr=p)}else{var g=e.measureText(this.splitText[r]).width,v=e.measureText(this.splitText[r-1]).width,f=e.measureText(this.splitText[r+1]).width;g>v&&(u.tl=0,u.tr=p),g>f&&(u.bl=0,u.br=p)}var y=c+l+d;s.drawFill(e,n,w,a+x.left+x.right,y,h,u),e.fillText(t,n+x.left,w+l),w+=y}))}else this.splitText.forEach(((t,r)=>{var a=e.measureText(t).width;T&&r===this.splitText.length-1&&(a+=E);var s=i;_===o.CENTER&&(s=i+(m-a)/2),e.fillText(t,s,n+c*r)}));e.restore()}static drawFill(e,t,r,o,i,a,s){e.save(),e.beginPath(),e.fillStyle=a,e.lineWidth=0,e.strokeStyle="transparent",e.moveTo(t+s.tl,r),e.lineTo(t+o-s.tr,r),e.quadraticCurveTo(t+o,r,t+o,r+s.tr),e.lineTo(t+o,r+i-s.br),e.quadraticCurveTo(t+o,r+i,t+o-s.br,r+i),e.lineTo(t+s.bl,r+i),e.quadraticCurveTo(t,r+i,t,r+i-s.bl),e.lineTo(t,r+s.tl),e.quadraticCurveTo(t,r,t+s.tl,r),e.closePath(),e.stroke(),e.fill(),e.restore()}setFont(e){var t=this.props,r=t.fontSize,o=t.lineHeight,i=t.fontFamily,a=void 0===i?"sans-serif":i,s=t.fontWeight,n=void 0===s?"normal":s;e.font=`${n} ${r}px/${o}px ${a}`}splitLongWords(e){var t=this.context,r=this.props.maxWidth,o=void 0===r?0:r,i=[];return t&&o?(this.setFont(t),e.forEach((e=>{if("\n"!==e)if(t.measureText(e).width<=o)i.push(e);else{var r=Array.from(e).reduce(((e,r)=>t.measureText(e.current+r).width>o?{current:r,items:[...e.items,e.current]}:{current:e.current+r,items:[...e.items]}),{current:"",items:[]});i.push(...r.items,r.current)}else i.push(e)})),i):e}splitTextIntoLines(){var e=this.context,t=this.props,r=t.text,o=t.maxWidth,i=void 0===o?0:o,s=t.maxLines,n=void 0===s?0:s,l=t.afterPadding,d=void 0===l?0:l,c=String((0,a.decodeHTMLEntities)(r)).replace(/(?:<br\s*\/?>)+/gim,"\n");if(!e)return c.split(/\n/);if(i<=0)return c.split(/\n/);this.setFont(e);for(var h=this.splitLongWords(c.replaceAll("\n"," \n ").split(" ")),u=0,p=[];h.length;)if(n&&p.length>=n-1){var g=h.splice(0).join(" ");e.measureText(g).width+d<=i?p.push(g):function(){var t=e.measureText("...").width,r=!1,o=Array.from(g).reduce(((o,a)=>{var s=e.measureText(o+a).width;return!r&&s+t+d<=i?o+a:(r=!0,o)}),"");p.push(o.trim()+"...")}()}else{var _=u+1,v="\n"===h[u],m=h.slice(0,_).join(" "),f=e.measureText(m).width;if(_>=h.length&&(f+=d),f>i||_>h.length||v){var y=h.splice(0,v?_:_-1);p.push(y.join(" ")),u=0}else u++}return p}getWidth(){var e=this.getLinesWidth();return 0===e.length?0:Math.max(...e)}getLinesWidth(){var e=this.context,t=this.props,r=t.maxLines,o=t.afterPadding,i=void 0===o?0:o;if(!e)return[];this.setFont(e);for(var a=this.getPadding(),s=[],n=0;n<this.splitText.length;n++){var l=e.measureText(this.splitText[n]).width;r&&n===this.splitText.length-1&&(l+=i),l+=a.left+a.right,s.push(Math.round(l))}return s}getHeight(){var e=this.getPadding(),t=this.props,r=t.fillColor,o=t.lineHeight;if(r){var i=this.splitText.length*o,a=(this.splitText.length-1)*(e.top+e.bottom)/2;return e.top+i+a+e.bottom}return this.splitText.length*(o+e.top+e.bottom)}getPadding(){var e=this.props.padding,t=void 0===e?0:e;return"number"==typeof t?{top:t,bottom:t,left:t,right:t}:t}}},662758:(e,t,r)=>{"use strict";r.d(t,{Sticker:()=>i});r(66992),r(569720),r(241539),r(788674),r(454747),r(333948),r(560285);var o=r(320398);class i{constructor(){this.layers=[],this.images=[],this.width=0,this.height=0,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}drawScene(){var e=this.ctx;e&&(this.canvas.width=this.getWidth(),this.canvas.height=this.getHeight(),e.clearRect(0,0,this.canvas.width,this.canvas.height),this.layers.forEach((t=>{t.draw(e)})))}add(e){this.layers.push(e)}getCanvas(){return this.canvas}toBlob(){return new Promise(((e,t)=>{this.canvas.toBlob((r=>{r?e(r):t()}),"image/png",1)}))}getWidth(){return this.width}getHeight(){return this.height}setWidth(e){this.width=e}setHeight(e){this.height=e}loadImages(e){return new Promise(((t,r)=>{for(var i=[],a=0,s=Object.entries(e);a<s.length;a++){var n=s[a],l=n[0],d=n[1];l&&d&&i.push((0,o.loadImage)(d,l))}Promise.all(i).then((e=>{this.images=e,t(1)})).catch((e=>{r(e)}))}))}getIconUrl(e){return URL.createObjectURL(new Blob([e],{type:"image/svg+xml"}))}getImage(e){return this.images.find((t=>t.dataset.name===e))}}},303325:(e,t,r)=>{"use strict";function o(){return{icon:'<svg fill="none" height="12" viewBox="0 0 12 12" width="12" xmlns="http://www.w3.org/2000/svg"><path d="m7.58.92.06-.1A.6.6 0 0 1 8.4.7l.08.06 2.78 2.32.04.05a.6.6 0 0 1 0 .76l-.07.08-2.75 2.29a.6.6 0 0 1-.97-.37l-.01-.1V4.5H4a1 1 0 0 0-1 .88V8a1 1 0 0 0 .88 1H8a1 1 0 0 1 .12 2H4a3 3 0 0 1-3-2.82V5.5a3 3 0 0 1 2.82-3H7.5V1.2c0-.1.03-.2.08-.3l.06-.08z" fill="currentColor"/></svg>',name:"repost_12"}}r.d(t,{getIcon12Repost:()=>o})},148893:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M17.5 5.25a.75.75 0 0 0-.74-.75H3.24a.75.75 0 0 0-.74.75c0 .41.34.75.74.75h13.52c.4 0 .74-.33.74-.75Zm0 5a.75.75 0 0 0-.74-.75H3.24a.75.75 0 0 0-.74.75c0 .41.34.75.74.75h13.52c.4 0 .74-.33.74-.75Zm-15 5c0 .41.34.75.76.75h8.98c.42 0 .76-.33.76-.75a.75.75 0 0 0-.76-.75H3.26a.75.75 0 0 0-.76.75Z" id="article_outline_20__path-1"/></defs><g id="article_outline_20__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="article_outline_20__article_outline_20"><path id="article_outline_20__Shape" d="M0 0h20v20H0z"/><mask id="article_outline_20__mask-2" fill="#fff"><use xlink:href="#article_outline_20__path-1"/></mask><use id="article_outline_20__Icon-Color" fill="currentColor" fill-rule="nonzero" xlink:href="#article_outline_20__path-1"/></g></g></svg>',name:"article_outline_20"}}r.d(t,{getIcon20ArticleOutline:()=>o})},741182:(e,t,r)=>{"use strict";function o(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M14.95 3.8a2.72 2.72 0 0 0-3.86 0L5.56 9.35a4.5 4.5 0 0 0 0 6.34 4.46 4.46 0 0 0 6.32 0l2.88-2.86a.75.75 0 0 1 1.06 1.06l-2.88 2.86a5.96 5.96 0 0 1-8.44 0 6 6 0 0 1 0-8.46l5.53-5.55a4.22 4.22 0 0 1 5.98 0 4.24 4.24 0 0 1 0 6l-5.53 5.54a2.49 2.49 0 1 1-3.52-3.52l3.1-3.09a.75.75 0 0 1 1.06 1.07l-3.1 3.08a1 1 0 0 0 0 1.4.99.99 0 0 0 1.4 0l5.53-5.55a2.74 2.74 0 0 0 0-3.87z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"attach_20"}}r.d(t,{getIcon20Attach:()=>o})},378375:(e,t,r)=>{"use strict";function o(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M5.5 5.5c.57 0 1-.2 1.34-.52.24-.24.43-.54.55-.74l.06-.1c.15-.23.26-.37.39-.47.11-.08.3-.17.66-.17h3c.36 0 .55.09.66.17.13.1.24.24.4.48l.05.09c.12.2.3.5.55.74.33.32.77.52 1.34.52.73 0 .99 0 1.19.04.9.18 1.59.88 1.77 1.77.04.2.04.46.04 1.19v3.45c0 .85 0 1.45-.04 1.9-.04.46-.1.72-.2.92-.22.42-.57.77-.99.98-.2.1-.46.17-.91.21-.46.04-1.06.04-1.91.04h-6.9c-.85 0-1.45 0-1.91-.04a2.4 2.4 0 0 1-.91-.2 2.25 2.25 0 0 1-.99-.99 2.4 2.4 0 0 1-.2-.91c-.04-.46-.04-1.06-.04-1.91V8.5c0-.73 0-.99.04-1.19.18-.9.88-1.59 1.77-1.77.2-.04.46-.04 1.19-.04zm3-3.5c-.64 0-1.14.16-1.54.46-.39.27-.62.63-.78.9l-.08.11c-.13.22-.2.34-.3.43-.06.05-.12.1-.3.1h-.09c-.61 0-1.03 0-1.4.07a3.75 3.75 0 0 0-2.94 2.95C1 7.38 1 7.8 1 8.42v3.56c0 .81 0 1.47.04 2 .05.55.14 1.03.37 1.47.36.7.93 1.28 1.64 1.64.44.23.92.32 1.47.37.53.04 1.18.04 2 .04H13.48c.81 0 1.47 0 2-.04a3.84 3.84 0 0 0 1.47-.37c.7-.36 1.28-.93 1.64-1.64.23-.44.32-.92.37-1.47.04-.53.04-1.19.04-2V8.41c0-.61 0-1.03-.07-1.4a3.75 3.75 0 0 0-2.95-2.94 7.5 7.5 0 0 0-1.4-.07h-.08c-.18 0-.24-.05-.3-.1-.1-.1-.17-.2-.3-.43l-.08-.12c-.16-.26-.4-.62-.78-.9-.4-.29-.9-.45-1.54-.45zm3.75 8.25a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0zm1.5 0a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"camera_outline_20"}}r.d(t,{getIcon20CameraOutline:()=>o})},394178:(e,t,r)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10.18 1.5H9c-.8 0-1.47 0-2.01.05-.63.05-1.17.16-1.67.41a4.25 4.25 0 0 0-1.86 1.86c-.25.5-.36 1.04-.41 1.67C3 6.1 3 6.86 3 7.82v4.36c0 .95 0 1.71.05 2.33.05.63.16 1.17.41 1.67a4.25 4.25 0 0 0 1.86 1.86c.5.25 1.04.36 1.67.4.61.06 1.37.06 2.33.06h1.36c.96 0 1.72 0 2.33-.05a4.39 4.39 0 0 0 1.67-.41 4.25 4.25 0 0 0 1.86-1.86c.25-.5.36-1.04.41-1.67.05-.62.05-1.38.05-2.33V8.32c0-.48 0-.73-.06-.96-.05-.2-.13-.4-.24-.58-.12-.2-.3-.37-.64-.72l-3.62-3.62a4.27 4.27 0 0 0-.72-.65 2 2 0 0 0-.58-.24c-.23-.05-.48-.05-.96-.05Zm5.32 10.65c0 1 0 1.7-.04 2.24a2.9 2.9 0 0 1-.26 1.1A2.75 2.75 0 0 1 14 16.7c-.25.13-.57.21-1.11.26-.55.04-1.25.04-2.24.04h-1.3c-1 0-1.7 0-2.24-.04a2.9 2.9 0 0 1-1.1-.26 2.75 2.75 0 0 1-1.21-1.2 2.94 2.94 0 0 1-.26-1.11c-.04-.55-.04-1.25-.04-2.24v-4.3c0-1 0-1.7.04-2.24.05-.53.13-.86.26-1.1A2.75 2.75 0 0 1 6 3.3c.25-.13.57-.21 1.11-.26C7.66 3 8.36 3 9.35 3H10v2.35c0 .4 0 .76.02 1.05.03.3.09.61.24.9.21.4.54.73.94.94.29.15.6.21.9.24.29.02.64.02 1.05.02h2.35v3.65ZM14.88 7 11.5 3.62v1.7c0 .45 0 .74.02.95.02.22.05.3.07.33a.75.75 0 0 0 .3.31c.05.02.12.05.33.07.22.02.51.02.96.02h1.7Z" clip-rule="evenodd"/></svg>',name:"document_outline_20"}}r.d(t,{getIcon20DocumentOutline:()=>o})},423163:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g id="music_outline_20__Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="music_outline_20__Icons-20/music_outline_20"><g id="music_outline_20__music_outline_20"><path d="M0 0h20v20H0z"/><path d="M14.73 2.05a2.28 2.28 0 0 1 2.75 2.23v7.99c0 3.57-3.5 5.4-5.39 3.51-1.9-1.9-.06-5.38 3.52-5.38h.37V6.76L8 8.43v5.82c0 3.5-3.35 5.34-5.27 3.62l-.11-.1c-1.9-1.9-.06-5.4 3.51-5.4h.37V6.24c0-.64.05-1 .19-1.36l.05-.13c.17-.38.43-.7.76-.93.36-.26.7-.4 1.41-.54ZM6.5 13.88h-.37c-2.32 0-3.34 1.94-2.45 2.82.88.89 2.82-.13 2.82-2.45v-.37Zm9.48-1.98h-.37c-2.32 0-3.34 1.94-2.46 2.82.89.89 2.83-.13 2.83-2.45v-.37Zm-.02-7.78a.78.78 0 0 0-.92-.6L9.06 4.77c-.4.09-.54.15-.68.25a.8.8 0 0 0-.27.33c-.08.18-.1.35-.1.88v.67l7.97-1.67V4.2Z" id="music_outline_20__Icon-Color" fill="currentColor" fill-rule="nonzero"/></g></g></g></svg>',name:"music_outline_20"}}r.d(t,{getIcon20MusicOutline:()=>o})},288373:(e,t,r)=>{"use strict";function o(){return{icon:'<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z"/><path d="M10.53 1.5c.69.17 1.29.51 1.77 1.03.53.56.82 1.16 1.16 2.44l.3 1.14a.75.75 0 1 1-1.44.38l-.3-1.13c-.3-1.07-.48-1.45-.81-1.8-.28-.3-.62-.5-1.02-.6-.44-.1-.84-.08-1.75.16l-.22.05-2.23.6c-.88.24-1.3.42-1.6.63l-.07.06-.14.12c-.3.28-.49.62-.58 1.01-.1.41-.09.78.1 1.55l.1.42 1.9 7.06.11.42c.23.76.4 1.09.7 1.4.27.29.61.48 1 .58.48.1.9.08 1.98-.2l.56-.16a.75.75 0 0 1 .4 1.45l-.57.15c-1.3.34-1.96.4-2.7.22a3.48 3.48 0 0 1-1.77-1.02 4.76 4.76 0 0 1-1.1-2.2L4.25 15l-1.9-7.06c-.34-1.29-.39-1.95-.21-2.7.14-.6.43-1.15.86-1.61l.17-.17.18-.15a5.1 5.1 0 0 1 2-.93l.25-.07 2.23-.6c1.3-.34 1.96-.39 2.7-.21zm5.6 6.75a3.2 3.2 0 0 1 3.12 3.28c0 1.75-.66 2.64-3.32 4.84l-1.15.96c-.45.37-1.1.37-1.56 0l-1.41-1.17c-2.44-2.05-3.06-2.93-3.06-4.63a3.2 3.2 0 0 1 5.12-2.65l.13.1.13-.1a3.44 3.44 0 0 1 1.78-.62zm0 1.5c-.59 0-1.1.24-1.58.75l-.19.2a.5.5 0 0 1-.72 0l-.19-.2c-.47-.51-.99-.75-1.58-.75-.88 0-1.62.78-1.62 1.78 0 1.16.44 1.75 2.77 3.69l.98.8.98-.8c2.25-1.87 2.74-2.49 2.77-3.58v-.11c0-1-.74-1.78-1.62-1.78z" fill="currentColor" fill-rule="nonzero"/></g></svg>',name:"narrative_outline_20"}}r.d(t,{getIcon20NarrativeOutline:()=>o})},835805:(e,t,r)=>{"use strict";function o(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M10 17a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm-8.5-7a8.5 8.5 0 1 1 17 0 8.5 8.5 0 0 1-17 0zm8.65 3.38 2.7-1.56a2.1 2.1 0 0 0 0-3.64l-2.7-1.56A2.1 2.1 0 0 0 7 8.44v3.12a2.1 2.1 0 0 0 3.15 1.82zm1.95-3.9c.4.23.4.8 0 1.04l-2.7 1.56a.6.6 0 0 1-.9-.52V8.44c0-.46.5-.75.9-.52z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"video_circle_outline_20"}}r.d(t,{getIcon20VideoCircleOutline:()=>o})},725205:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.65 4c1.34 0 1.83.14 2.32.4.48.26.87.65 1.13 1.13.26.5.4.98.4 2.32v7.8c0 1.34-.14 1.83-.4 2.32-.26.48-.65.87-1.13 1.13-.5.26-.98.4-2.32.4h-7.8c-1.34 0-1.83-.14-2.32-.4a2.73 2.73 0 0 1-1.13-1.13c-.26-.5-.4-.98-.4-2.32v-7.8c0-1.34.14-1.83.4-2.32.26-.48.65-.87 1.13-1.13.5-.26.98-.4 2.32-.4h7.8Zm-.21 1.5H8.06c-.89 0-1.21.1-1.54.27-.32.17-.58.43-.75.75-.18.33-.27.65-.27 1.54v7.38c0 .89.1 1.21.27 1.54.17.32.43.58.75.75.33.18.65.27 1.54.27h7.38c.89 0 1.21-.1 1.54-.27.32-.17.58-.43.75-.75.18-.33.27-.65.27-1.54V8.06c0-.89-.1-1.21-.27-1.54a1.82 1.82 0 0 0-.75-.75c-.33-.18-.65-.27-1.54-.27Zm-5.94 10V8h5v1.5H11V11h3.5v1.5H11V14h3.5v1.5h-5Z" fill="currentColor"/></svg>',name:"explicit_24"}}r.d(t,{getIcon24Explicit:()=>o})},929001:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.59 3c2.18 0 3.23.2 4.32.79a5.54 5.54 0 0 1 2.3 2.3c.59 1.09.79 2.14.79 4.32v7.18c0 2.18-.2 3.23-.79 4.32a5.54 5.54 0 0 1-2.3 2.3c-1.09.59-2.14.79-4.32.79h-7.18c-2.18 0-3.23-.2-4.32-.79a5.54 5.54 0 0 1-2.3-2.3C3.2 20.82 3 19.77 3 17.6v-7.18c0-2.18.2-3.23.79-4.32a5.54 5.54 0 0 1 2.3-2.3C7.18 3.2 8.23 3 10.4 3h7.18Zm0 2h-7.18c-1.88 0-2.62.14-3.38.55-.64.34-1.14.84-1.48 1.48-.4.76-.55 1.5-.55 3.38v7.18c0 1.88.14 2.62.55 3.38.34.64.84 1.14 1.48 1.48.76.4 1.5.55 3.38.55h7.18c1.88 0 2.62-.14 3.38-.55a3.54 3.54 0 0 0 1.48-1.48c.4-.76.55-1.5.55-3.38v-7.18c0-1.88-.14-2.62-.55-3.38a3.54 3.54 0 0 0-1.48-1.48c-.76-.4-1.5-.55-3.38-.55ZM13 17.5a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2h4Zm6-4.5a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2h10Zm0-4.5a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2h10Z" fill="currentColor"/></svg>',name:"article_outline_28"}}r.d(t,{getIcon28ArticleOutline:()=>o})},733500:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="attach_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="attach_outline_28__attach_outline_28"><path d="M0 0h28v28H0z"/><path d="M14.19 10.9a1 1 0 1 1 1.41 1.41l-4.17 4.17a1.5 1.5 0 0 0 0 2.12c.6.6 1.56.57 2.12 0l7.78-7.77a4 4 0 0 0-5.66-5.66L7.9 12.95a6.52 6.52 0 0 0 0 9.19 6.52 6.52 0 0 0 9.19 0l4.17-4.17a1 1 0 0 1 1.41 1.41l-4.17 4.17a8.52 8.52 0 0 1-12.02 0 8.52 8.52 0 0 1 0-12.02l7.78-7.77a6 6 0 0 1 8.48 8.48l-7.77 7.78a3.5 3.5 0 0 1-4.95-4.95l4.17-4.17Z" id="attach_outline_28__Icon-Color" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"attach_outline_28"}}r.d(t,{getIcon28AttachOutline:()=>o})},540863:(e,t,r)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 28 28"><path fill-rule="evenodd" d="M11.7 2c-2.46 0-3.53.22-4.63.8A5.47 5.47 0 0 0 4.8 5.07C4.22 6.17 4 7.24 4 9.69v8.62c0 2.45.22 3.53.8 4.62a5.46 5.46 0 0 0 2.27 2.27c1.1.58 2.17.8 4.62.8h4.62c2.45 0 3.53-.22 4.62-.8a5.46 5.46 0 0 0 2.27-2.27c.59-1.1.8-2.17.8-4.62v-5.95c0-.8-.03-1.16-.12-1.56a3.61 3.61 0 0 0-.47-1.13 6.4 6.4 0 0 0-1.02-1.2l-4.87-4.86c-.56-.57-.84-.8-1.2-1.02a3.61 3.61 0 0 0-1.12-.47A5.3 5.3 0 0 0 14 2h-2.3Zm0 2c-2.34 0-3.03.21-3.69.56a3.47 3.47 0 0 0-1.44 1.45C6.2 6.67 6 7.36 6 9.7v8.62c0 2.33.21 3.02.56 3.68a3.47 3.47 0 0 0 1.45 1.45c.66.35 1.35.56 3.68.56h4.62c2.33 0 3.02-.21 3.68-.56a3.47 3.47 0 0 0 1.45-1.45c.35-.66.56-1.35.56-3.68V12h-5.5A2.5 2.5 0 0 1 14 9.5V4H11.7Zm4.4 1.02-.1-.1V9.5a.5.5 0 0 0 .41.5h4.68a25.43 25.43 0 0 0-.11-.1L16.1 5.01Z" clip-rule="evenodd"/></svg>',name:"document_outline_28"}}r.d(t,{getIcon28DocumentOutline:()=>o})},136878:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.15 8c1.34 0 1.83.14 2.32.4.48.26.87.65 1.13 1.13l.1.19c.2.44.3.96.3 2.13v7.68c-.04 2.02-.3 2.83-.73 3.66a5 5 0 0 1-2.08 2.08c-.9.47-1.79.73-4.24.73H9.47c-2.02-.04-2.83-.3-3.66-.73a5 5 0 0 1-2.08-2.08c-.45-.86-.7-1.71-.73-3.94v-7.4c0-1.34.14-1.83.4-2.32.26-.48.65-.87 1.13-1.13l.19-.1c.4-.18.88-.28 1.88-.3h14.55Zm0 2H6.5c-.63.01-.82.06-1.01.16a.73.73 0 0 0-.32.32c-.1.2-.15.42-.16 1.18v7.29c0 1.93.13 2.6.5 3.3a3 3 0 0 0 1.26 1.25c.69.37 1.36.5 3.3.5h7.89c1.93 0 2.6-.13 3.3-.5a3 3 0 0 0 1.25-1.26c.37-.69.5-1.36.5-3.3v-7.1c0-.91-.04-1.14-.16-1.36a.73.73 0 0 0-.32-.32c-.2-.1-.38-.15-1.01-.16h-.36ZM19 12a1 1 0 1 1 0 2 1 1 0 0 1 0-2ZM9 12a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm5-10a6 6 0 0 1 6 6h-2a4 4 0 0 0-8 0H8a6 6 0 0 1 6-6Z" fill="currentColor"/></svg>',name:"market_outline_28"}}r.d(t,{getIcon28MarketOutline:()=>o})},691794:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="music_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="music_outline_28__music_outline_28"><path d="M0 0h28v28H0z"/><path d="M11 16.93v2.46c0 4.7-4.58 7.1-7.07 4.61-2.5-2.49-.08-7.07 4.6-7.07H11Zm-2 2h-.46c-3.02 0-4.34 2.52-3.2 3.66C6.48 23.73 9 22.4 9 19.39v-.46Zm10.39-15.4A3 3 0 0 1 23 6.45v10.43c0 4.7-4.58 7.1-7.07 4.61-2.5-2.49-.08-7.07 4.6-7.07H21v-4.7L11 11.8V18H9V8.92c0-.95.08-1.43.31-1.96.23-.5.56-.9 1-1.23.47-.33.93-.51 1.85-.7ZM21 16.42h-.46c-3.02 0-4.34 2.52-3.2 3.66 1.14 1.14 3.66-.18 3.66-3.2v-.46Zm-.02-10.17a1 1 0 0 0-1.18-.78l-7.23 1.5c-.67.15-.88.23-1.08.37-.16.12-.27.25-.35.43-.1.23-.14.45-.14 1.14v.85l10-2.08V6.46a1 1 0 0 0 0-.1Z" id="music_outline_28__Icon-Color" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"music_outline_28"}}r.d(t,{getIcon28MusicOutline:()=>o})},889420:(e,t,r)=>{"use strict";function o(){return{icon:'<svg fill="none" height="28" viewBox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"><path d="M24.11 19.09c.64-.88.88-1.86.89-2.93 0-2.3-1.86-4.16-4.16-4.16a5 5 0 0 0-2.7.82l-.14.1-.14-.1a4.76 4.76 0 0 0-2.7-.82A4.16 4.16 0 0 0 11 16.16c0 1.07.25 2.06.89 2.93.66.91 1.77 1.9 3.55 3.3l1.65 1.3c.53.42 1.29.42 1.82 0l1.65-1.3c1.77-1.4 2.89-2.39 3.55-3.3zm-10.6-1.18c.48.66 1.37 1.5 3.17 2.9L18 21.87l1.32-1.04c1.8-1.42 2.7-2.25 3.18-2.9.39-.54.5-1.1.5-1.76 0-1.2-.97-2.16-2.16-2.16-.8 0-1.5.3-2.13.94l-.36.35a.5.5 0 0 1-.7 0l-.36-.35a2.9 2.9 0 0 0-2.13-.94c-1.2 0-2.16.97-2.16 2.16 0 .65.12 1.22.5 1.75z"/><path d="m7.65 3.47 3.36-.9c.78-.2 1.42-.38 1.95-.48.56-.1 1.08-.13 1.62-.02a4 4 0 0 1 2.14 1.23c.36.4.6.88.78 1.41.18.52.36 1.16.56 1.93l.68 2.54a1 1 0 0 1-1.93.52l-.67-2.5c-.22-.83-.37-1.39-.52-1.81a2.16 2.16 0 0 0-.39-.75 2 2 0 0 0-1.07-.62c-.17-.03-.4-.04-.84.04-.44.08-1 .23-1.83.46L8.2 5.4c-.82.22-1.38.37-1.81.52-.41.15-.61.27-.74.39a2 2 0 0 0-.62 1.07c-.04.17-.04.4.04.83.08.45.23 1.01.45 1.84L8.2 20.09c.22.83.37 1.4.52 1.82.15.41.27.61.4.74a2 2 0 0 0 1.06.62c.34.07.79.01 2.1-.33a1 1 0 0 1 .5 1.93c-1.18.31-2.12.55-3.01.36a4 4 0 0 1-2.15-1.24c-.36-.4-.59-.88-.78-1.4-.18-.52-.35-1.16-.56-1.94L3.58 10.53c-.21-.78-.39-1.42-.48-1.96a4.09 4.09 0 0 1-.03-1.6 4 4 0 0 1 1.24-2.15c.4-.36.88-.6 1.4-.78.52-.19 1.16-.36 1.94-.57z"/></g></svg>',name:"narrative_outline_28"}}r.d(t,{getIcon28NarrativeOutline:()=>o})},473550:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="place_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="place_outline_28__place_outline_28"><path d="M0 0h28v28H0z"/><path d="M23 12.01a9 9 0 1 0-18 0c0 3.55 2.18 7.83 6.48 12.92a3.3 3.3 0 0 0 5.04 0c4.3-5.09 6.48-9.37 6.48-12.92ZM14.84 23.8a1.3 1.3 0 0 1-1.83-.15C8.98 18.88 7 14.98 7 12a7 7 0 1 1 14 0c0 2.97-1.98 6.87-6 11.63l-.16.15ZM10 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm2 0a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z" id="place_outline_28__Icon-Color" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"place_outline_28"}}r.d(t,{getIcon28PlaceOutline:()=>o})},827921:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="playlist_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="playlist_outline_28__playlist_outline_28"><path d="M0 0h28v28H0z"/><path d="M24.78 4.02A1 1 0 0 1 26 5v2.1a3.6 3.6 0 0 1-2.67 3.48l-3.33.89v7.92c0 4.7-4.58 7.1-7.07 4.61-2.58-2.57-.11-6.8 5.07-7.06v-6.22a1 1 0 0 1 0-.04V8.93c-.03-1.92.91-3.29 2.68-3.88.64-.21 2-.55 4.1-1.03ZM18 18.94c-3.54.2-4.84 2.46-3.66 3.65 1.14 1.14 3.66-.18 3.66-3.2ZM8.5 17a1 1 0 0 1 0 2h-4a1 1 0 0 1 0-2h4Zm5-6a1 1 0 0 1 0 2h-9a1 1 0 0 1 0-2h9ZM24 6.26c-1.35.31-2.25.54-2.68.69-.94.31-1.34.89-1.32 1.97v.48l2.81-.75A1.6 1.6 0 0 0 24 7.1ZM15 5a1 1 0 0 1 0 2H4.5a1 1 0 1 1 0-2H15Z" id="playlist_outline_28__Icon-Color" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"playlist_outline_28"}}r.d(t,{getIcon28PlaylistOutline:()=>o})},811742:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="poll_square_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="poll_square_outline_28__poll_square_outline_28"><path id="poll_square_outline_28__poll_outline_28" d="M0 0h28v28H0z"/><path d="M10.7 5c-2.14 0-2.9.15-3.69.57-.63.33-1.1.81-1.44 1.44C5.15 7.8 5 8.56 5 10.7v6.62c0 2.13.15 2.9.57 3.68.33.63.81 1.1 1.44 1.44.78.42 1.55.57 3.68.57h6.62c2.13 0 2.9-.15 3.68-.57A3.45 3.45 0 0 0 22.43 21c.42-.78.57-1.55.57-3.68v-6.62c0-2.13-.15-2.9-.57-3.68A3.45 3.45 0 0 0 21 5.57C20.2 5.15 19.44 5 17.3 5h-6.62Zm0-2h6.6c2.68 0 3.65.28 4.63.8a5.45 5.45 0 0 1 2.27 2.27c.52.98.8 1.95.8 4.62v6.62c0 2.67-.28 3.64-.8 4.62a5.45 5.45 0 0 1-2.27 2.27c-.98.52-1.95.8-4.62.8h-6.62c-2.67 0-3.64-.28-4.62-.8a5.45 5.45 0 0 1-2.27-2.27c-.52-.98-.8-1.95-.8-4.62v-6.62c0-2.67.28-3.64.8-4.62A5.45 5.45 0 0 1 6.07 3.8c.98-.52 1.95-.8 4.62-.8Zm.3 16a1 1 0 0 1-2 0v-6a1 1 0 0 1 2 0v6Zm4 0a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0v10Zm4 0a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0v4Z" id="poll_square_outline_28__Icon-Color" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"poll_square_outline_28"}}r.d(t,{getIcon28PollSquareOutline:()=>o})},387460:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="video_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="video_outline_28__video_outline_28" fill-rule="nonzero"><path d="M0 0h28v28H0z"/><path d="M14 2a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm-2.05 5.12c.35 0 .68.1.98.26l5.08 2.93a1.95 1.95 0 0 1 0 3.38l-5.08 2.93a1.95 1.95 0 0 1-2.93-1.7v-5.84c0-1.08.88-1.96 1.95-1.96Zm.05 2.03v5.7L16.94 14 12 11.15Z" id="video_outline_28__Icon-Color" fill="currentColor"/></g></g></svg>',name:"video_outline_28"}}r.d(t,{getIcon28VideoOutline:()=>o})},772562:(e,t,r)=>{"use strict";function o(){return{icon:'<svg width="56" height="56" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><g id="playlist_outline_56__Icons-56/playlist_outline_56" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="playlist_outline_56__playlist_outline_28"><path id="playlist_outline_56__playlist_outline_56" d="M0 0h56v56H0z"/><path d="M39 38.93c0 4.55-1.94 7.97-5.07 9.62-2.84 1.5-6.24 1.22-8.22-.76-2.04-2.04-2.3-5.5-.58-8.3C27 36.44 30.77 34.61 36 34.5V16.76a6.88 6.88 0 0 1 5.03-6.68c1.08-.36 3.24-.92 6.5-1.67l1.64-.37A1.5 1.5 0 0 1 51 9.5v4.2a6.7 6.7 0 0 1-4.97 6.48L39 22.05Zm-3-1.42h-.4c-4 .18-6.67 1.53-7.91 3.54-1.02 1.66-.88 3.6.14 4.62.98.98 2.96 1.14 4.7.22 2.12-1.11 3.47-3.5 3.47-6.96V37.5ZM27.5 22a1.5 1.5 0 0 1 0 3h-19a1.5 1.5 0 0 1 0-3h19ZM48 11.38a83.8 83.8 0 0 0-6.03 1.54l-.21.08c-1.93.71-2.8 2.05-2.76 4.33v1.62l6.25-1.67A3.7 3.7 0 0 0 48 13.71ZM30.5 10a1.5 1.5 0 0 1 0 3h-22a1.5 1.5 0 0 1 0-3h22Z" id="playlist_outline_56__Icon-Color" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"playlist_outline_56"}}r.d(t,{getIcon56PlaylistOutline:()=>o})},110163:(e,t,r)=>{"use strict";function o(){return{icon:'<svg fill="none" height="56" viewBox="0 0 56 56" width="56" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M29 39.5v2.93c0 4.55-1.94 7.97-5.07 9.62-2.84 1.5-6.24 1.22-8.22-.76-2.03-2.04-2.29-5.5-.57-8.3C17 39.94 20.77 38.11 26 38V11.76a6.88 6.88 0 0 1 5.03-6.68c1.08-.36 3.24-.92 6.5-1.67l1.64-.37A1.5 1.5 0 0 1 41 4.5v4.2a6.7 6.7 0 0 1-4.97 6.48L29 17.05V38zm6.25-27.22L29 13.95v-1.62c-.03-2.28.83-3.62 2.76-4.33l.21-.08A83.8 83.8 0 0 1 38 6.38v2.33a3.7 3.7 0 0 1-2.75 3.57zM26 42.42c0 3.47-1.35 5.85-3.46 6.97-1.75.91-3.73.76-4.7-.23-1.02-1.01-1.17-2.95-.15-4.61 1.24-2.02 3.9-3.36 7.92-3.54L26 41z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"song_outline_56"}}r.d(t,{getIcon56SongOutline:()=>o})},846197:(e,t,r)=>{"use strict";r.d(t,{ERRORS:()=>o});var o={NOT_FOUND_WEBGL_CONTEXT:"WebGL context not found",TEXTURE_CREATE_FAILED:"Create texture failed",SHADER_COMPILE_FAILED:"Shader compile failed",PROGRAM_CREATE_FAILED:"Create program failed",PROGRAM_CREATE_FRAMEBUFFER_FAILED:"Create framebuffer failed",PROGRAM_FRAMEBUFFER_INCOMPLETE:"Incomplete framebuffer",FILTER_NOT_FOUND:"Filter not found",FILTER_LOADING_TEXTURES_FAILED:"Filter loading textures failed"}},569820:(e,t,r)=>{"use strict";r.d(t,{Renderer:()=>T});r(66992),r(821249),r(241539),r(788674),r(454747),r(333948);var o=r(202248),i=r(526349),a=r(846197),s=r(405519),n=r(989900),l=r(175811),d=r(205483),c=r(5973),h=r(810151),u=r(217368),p=r(792072),g=r(538723),_=r(639481),v={preserveDrawingBuffer:!0,premultipliedAlpha:!1},m=document.createElement("canvas"),f=m.getContext("webgl",v)||m.getContext("experimental-webgl",v),y={};class T{constructor(){this.baseColorCorrectionProgram=new o.ShaderProgram(f,s.default,n.default),this.postProcessProgram=new o.ShaderProgram(f,s.default,l.default),this.flippedProgram=new o.ShaderProgram(f,s.default,d.default),this.triangleBlurProgram=new o.ShaderProgram(f,s.default,c.default),this.roundBlurProgram=new o.ShaderProgram(f,s.default,h.default),this.squareBlurProgram=new o.ShaderProgram(f,s.default,u.default),this.colorCorrectionTexture=new i.Texture(f),this.postProcessTexture=new i.Texture(f),this.blurTexture1=new i.Texture(f),this.blurTexture2=new i.Texture(f),this.resultBlurTexture=new i.Texture(f)}static getOrCreateTexture(e,t,r){var o=r?`${t.src}_auto`:t.src;if(!y[o]){var a;a=r?T.getAuto(t):t;var s=new i.Texture(e);s.attachImage(e,a),y[o]=s}return y[o]}static loadTextures(e,t){return new Promise((r=>{var o=[],i=t.map((e=>p.imageCacheGlobal.get(e)));Promise.all(i).then((t=>{t.forEach((t=>{var r=T.getOrCreateTexture(e,t);o.push(r)})),r(o)})).catch((()=>{}))}))}static getAuto(e){var t,r=document.createElement("canvas"),o=r.getContext("2d");if(!o)return r;r.width=e.width,r.height=e.height,o.drawImage(e,0,0,e.width,e.height);var i=e.width*e.height,a=255,s=o.getImageData(0,0,e.width,e.height),n=s.data;function l(e,t,r,o){t+r>=e&&(t=(e-1)/2,r=(e-1)/2);var i=function(e,t,r,o){for(var i,a=256,s=[],l=0;l<256;l++)s.push(0);for(i=0;i<e;i++)s[n[4*i+o]]+=1;for(i=1;i<a;i++)s[i]+=s[i-1];var d={};for(i=0;i<a&&s[i]<=t;)i++;for(d.min=i,i=255;i<a&&s[i]>e-r;)i--;return i<255&&i++,d.max=i,d}(e,t,r,o);!function(e,t,r,o){var i,s;if(r<=t)for(i=0;i<e;i++)n[(s=4*i)+o]=127.5;else{var l=new Array(256);for(i=0;i<t;i++)l[i]=0;for(i=t;i<r;i++)l[i]=(i-t)*a/(r-t)+.5;for(i=r;i<256;i++)l[i]=a;for(i=0;i<e;i++)n[(s=4*i)+o]=l[n[s+o]]}}(e,i.min,i.max,o)}!function(e,t,r){l(e,t,r,0),l(e,t,r,1),l(e,t,r,2)}(i,.01*i,.01*i),o.putImageData(s,0,0);var d=document.createElement("canvas");return d.width=e.width,d.height=e.height,null==(t=o=d.getContext("2d"))||t.drawImage(r,0,0,r.width,r.height),r}render(e,t,r,o,i,s,n){return void 0===i&&(i={}),new Promise((l=>{requestAnimationFrame((()=>{if(!f)throw new Error(a.ERRORS.NOT_FOUND_WEBGL_CONTEXT);var d=(0,g.getColorTable)(o);if(!d)throw new Error(a.ERRORS.FILTER_NOT_FOUND);var c=T.getOrCreateTexture(f,r,n);T.loadTextures(f,d).then((r=>{var o=this.postProcessTexture;if(this.baseColorCorrectionProgram.draw({width:e,height:t,uniforms:{u_exposure:i.exposure,u_contrast:i.contrast,u_warmth:i.warmth,u_saturation:i.saturation,u_amount:i.amount},textures:[c,...r]},this.colorCorrectionTexture),this.postProcessProgram.draw({width:e,height:t,uniforms:{u_vignette:i.vignette,u_sharpness:i.sharpness,u_sourceSize:i.sourceSize,u_grain:i.grain},textures:[this.colorCorrectionTexture]},this.postProcessTexture),s&&s.isEnabled){var a=s.form===_.BLUR_TYPES.ROUND?this.roundBlurProgram:this.squareBlurProgram;this.triangleBlurProgram.draw({width:e,height:t,uniforms:{u_delta:[s.size/e,0]},textures:[this.postProcessTexture]},this.blurTexture1),this.triangleBlurProgram.draw({width:e,height:t,uniforms:{u_delta:[0,s.size/t]},textures:[this.blurTexture1]},this.blurTexture2),o=this.blurTexture2,s.position&&(a.draw({width:e,height:t,uniforms:{u_position:s.position},textures:[this.blurTexture2,this.postProcessTexture]},this.resultBlurTexture),o=this.resultBlurTexture)}return this.flippedProgram.draw({width:e,height:t,uniforms:{},textures:[o]}),l(m)})).catch((e=>{console.error(new Error(e))}))}))}))}}},459351:(e,t,r)=>{"use strict";r.d(t,{Shader:()=>i});var o=r(846197);class i{constructor(e,t,r){var i=e.createShader(r);if(!i)throw new Error(o.ERRORS.SHADER_COMPILE_FAILED);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error(`${e.getShaderInfoLog(i)}`);this.shader=i}}},202248:(e,t,r)=>{"use strict";r.d(t,{ShaderProgram:()=>n});r(66992),r(319601),r(241539),r(444197),r(844731),r(812974),r(915016),r(454747);var o=r(459351),i=r(526349),a=r(846197),s=r(659397);class n{constructor(e,t,r){if(!e)throw new Error(a.ERRORS.NOT_FOUND_WEBGL_CONTEXT);var i=new o.Shader(e,t,e.VERTEX_SHADER).shader,s=new o.Shader(e,r,e.FRAGMENT_SHADER).shader;this.gl=e,this.program=this.createProgram(i,s),this.framebuffer=e.createFramebuffer()}createProgram(e,t){var r=this.gl.createProgram();if(!r)throw new Error(a.ERRORS.PROGRAM_CREATE_FAILED);if(this.gl.attachShader(r,e),this.gl.attachShader(r,t),this.gl.linkProgram(r),!this.gl.getProgramParameter(r,this.gl.LINK_STATUS))throw new Error(`${this.gl.getProgramInfoLog(r)}`);return r}destroy(){this.gl.deleteProgram(this.program)}attribute(e,t){var r=this.gl.getAttribLocation(this.program,e),o=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(r),this.gl.vertexAttribPointer(r,2,this.gl.FLOAT,!1,0,0)}uniforms(e){for(var t in this.gl.useProgram(this.program),e)if(e.hasOwnProperty(t)){var r=this.gl.getUniformLocation(this.program,t),o=e[t];if(Array.isArray(o))switch(o.length){case 1:this.gl.uniform1fv(r,new Float32Array(o));break;case 2:this.gl.uniform2fv(r,new Float32Array(o));break;case 3:this.gl.uniform3fv(r,new Float32Array(o));break;case 4:this.gl.uniform4fv(r,new Float32Array(o))}else(0,s.isNumber)(o)&&this.gl.uniform1f(r,o)}}textures(e,t){this.gl.useProgram(this.program),e.forEach(((e,r)=>{t?(e.use(this.gl,r),this.gl.uniform1i(this.gl.getUniformLocation(this.program,`u_image${r}`),r)):i.Texture.unuse(this.gl,r)}))}draw(e,t){this.gl.useProgram(this.program),t&&(t.updateSize(this.gl,e.width,e.height),this.bindTexture(t.texture)),this.gl.canvas.width=e.width,this.gl.canvas.height=e.height,this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight);var r=e.width,o=e.height;this.attribute("a_position",[0,0,r,0,0,o,0,o,r,0,r,o]),this.attribute("a_texCoord",[0,0,1,0,0,1,0,1,1,0,1,1]),this.uniforms(Object.assign(e.uniforms,{u_resolution:[e.width,e.height]})),e.textures&&this.textures(e.textures,!0),this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,6),e.textures&&this.textures(e.textures,!1),t&&this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}bindTexture(e,t){if(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,e,0),t){var r=this.gl.checkFramebufferStatus(this.gl.FRAMEBUFFER);if(r!==this.gl.FRAMEBUFFER_COMPLETE){var o="";switch(r){case this.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:o="The attachment types are mismatched or not all framebuffer attachment points are framebuffer attachment complete.";break;case this.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:o="There is no attachment.";break;case this.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:o="Height and width of the attachment are not the same.";break;case this.gl.FRAMEBUFFER_UNSUPPORTED:o="The format of the attachment is not supported or if depth and stencil attachments are not the same renderbuffer."}throw new Error(`${a.ERRORS.PROGRAM_FRAMEBUFFER_INCOMPLETE}. ${o}`)}}}}},526349:(e,t,r)=>{"use strict";r.d(t,{Texture:()=>i});var o=r(846197);class i{constructor(e,t,r){if(!e)throw new Error(o.ERRORS.NOT_FOUND_WEBGL_CONTEXT);var i=e.createTexture();if(!i)throw new Error(o.ERRORS.TEXTURE_CREATE_FAILED);this.texture=i,e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t&&r&&this.updateSize(e,t,r),e.bindTexture(e.TEXTURE_2D,null)}attachImage(e,t){e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.bindTexture(e.TEXTURE_2D,null)}updateSize(e,t,r){e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null)}use(e,t){e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)}static unuse(e,t){e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}destroy(e){e.deleteTexture(this.texture)}}},538723:(e,t,r)=>{"use strict";r.d(t,{getColorTable:()=>R});r(66992),r(333948);var o=r(502986),i=r(966617),a=r(446953),s=r(701651),n=r(524513),l=r(210313),d=r(928882),c=r(947011),h=r(139939),u=r(745898),p=r(104933),g=r(914289),_=r(548236),v=r(611661),m=r(807116),f=r(401631),y=r(106526),T=r(159114),S=r(235073),E=r(958006),x=r(745992),w=r(728337),C=r(794600),b={regular:o,nox:i,vesper:a,latona:s,liber:n,luna:l,minerva:d,mitra:c,pro:h,terra:u,veles:p,vesta:g,zaria:_,sepia:v,genius:m,horus:f,fortuna:y},I=[T,S,E,x,w,C];function R(e){var t=b[e];if(t)return[...I,t]}},792072:(e,t,r)=>{"use strict";r.d(t,{imageCacheGlobal:()=>i});r(241539),r(788674);var o=r(320398);var i=new class{constructor(){this.images={}}get(e){return new Promise(((t,r)=>{var i=this.images[e];i?t(i):(0,o.loadImage)(e).then((r=>{this.setImage(e,r),t(r)})).catch(r)}))}setImage(e,t){this.images[e]=t}}},175605:(e,t,r)=>{"use strict";r.d(t,{rendererScene:()=>n});r(66992),r(241539),r(788674),r(454747),r(333948);var o=r(986672),i=r(639481),a=r(320398),s=r(306625);var n=new class{constructor(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d")}draw(e,t,r,i,a,s){return new Promise(((n,l)=>{var d=r[0];this.canvas.width=e,this.canvas.height=t,(0,o.drawBlurFromImage)(this.canvas,d.canvas,d.avgColor);var c=d.width*d.scale,h=d.height*d.scale,u=d.x-c/2,p=d.y-h/2;this.drawImage(d.canvas,c*a,h*a,u*a,p*a,d.rotate),this.drawBrush(i,a),this.drawLayers(r,a,e,t,s).then((()=>{this.canvas.toBlob((e=>{n({blob:e,width:this.canvas.width,height:this.canvas.height})}),"image/jpeg",1)})).catch((e=>{l(e)}))}))}drawImage(e,t,r,o,i,a){this.context&&(this.context.save(),this.context.imageSmoothingEnabled=!0,this.context.translate(o,i),this.context.translate(t/2,r/2),this.context.rotate(a*Math.PI/180),this.context.translate(-t/2,-r/2),this.context.drawImage(e,0,0,t,r),this.context.restore())}drawBrush(e,t){var r=this.context;r&&(r.save(),r.lineCap="round",r.lineJoin="round",e.forEach((e=>{r.lineWidth=e.width*i.BRUSH_WIDTH_COEFFICIENT*t,r.strokeStyle=(0,o.hexToRgba)(e.color,e.opacity),r.beginPath(),r.moveTo(e.path[0][0]*t,e.path[0][1]*t),e.path.forEach((e=>{r.lineTo(e[0]*t,e[1]*t)})),r.stroke()})),r.restore())}drawLayers(e,t,r,o,a){return new Promise(((r,o)=>{var n=[];e.forEach(((e,r)=>{var o=null;if(e.type!==i.LAYER_TYPES.BACKGROUND){if(e.type===i.LAYER_TYPES.STICKER){var l=a(e.id,i.STICKER_LARGE);o=this.fetchImage(l,e.width*e.scale,e.height*e.scale,e.x,e.y,e.rotate)}else if(e.type===i.LAYER_TYPES.IMAGE)o=this.fetchImage(e.url,e.width*e.scale,e.height*e.scale,e.x,e.y,e.rotate);else if(e.type===i.LAYER_TYPES.TEXT){var d=document.querySelector(`[data-index="${r}"] [data-name="${s.layerSelector}"]`);d&&(o=this.drawTextLayer(e,d,t))}o&&n.push(o)}})),Promise.all(n).then((e=>{e.forEach((e=>{var r=e.width,o=e.height,i=e.x-r/2,a=e.y-o/2;this.drawImage(e.image,r*t,o*t,i*t,a*t,e.rotate)})),r()})).catch((e=>{o(e)}))}))}drawTextLayer(e,t,r){return new Promise(((a,s)=>{var n=document.createElement("canvas"),l=n.getContext("2d");if(!l)return s();var d=100;n.width=t.offsetWidth*i.CANVAS_SCALE*r+d,n.height=t.offsetHeight*i.CANVAS_SCALE*r+d;var c="";switch(e.fontStyle){case"classic":c="RobotoPE";break;case"cursive":c="PacificoPE";break;case"marker":c="AmaticPE";break;case"italics":c="TTCommonsPE";break;case"typewriter":c="GoraPE";break;case"poster":c="DinPE";break;case"retro":c="Rodchenko";break;case"impact":c="Impact";break;case"lobster":c="Lobster"}var h=e.fontSize*e.scale*i.FONT_SIZE_COEFFICIENT*i.CANVAS_SCALE*r;l.font=`${h}px ${c}, serif`,l.fillStyle=e.color,l.textAlign="center",l.textBaseline="top",(0,o.printAtWordWrap)(l,e.text,n.width/2,50,h,n.width-d),a({image:n,width:n.width/i.CANVAS_SCALE/r,height:n.height/i.CANVAS_SCALE/r,x:e.x,y:e.y,rotate:e.rotate})}))}fetchImage(e,t,r,o,i,s){return new Promise((n=>{(0,a.loadImage)(e).then((e=>{n({image:e,width:t,height:r,x:o,y:i,rotate:s})})).catch((e=>{console.error(e)}))}))}}},750067:(e,t,r)=>{"use strict";r.d(t,{SET_DATA_LOADED:()=>o,SET_SHOW_DROP_BOX:()=>i,SET_SAVE_LOADING:()=>a,SET_CURRENT_TAB:()=>s,SET_CURRENT_STICKER_PACK_INDEX:()=>n,SET_HEADER_SCROLL_POSITION:()=>l,SET_SETTING_COLOR:()=>d,SET_SETTING_BRUSH_WIDTH:()=>c,SET_SETTING_BRUSH_OPACITY:()=>h,SET_SETTING_FONT_SIZE:()=>u,SET_SETTING_FONT_FAMILY:()=>p,SET_SETTING_COLOR_CORRECTION:()=>g,SET_SETTING_FILTER:()=>_,SET_SETTING_FILTER_AMOUNT:()=>v,SET_SETTING_BLUR_ENABLE:()=>m,SET_SETTING_BLUR_FORM:()=>f,SET_SETTING_BLUR_SIZE:()=>y,SET_SETTING_BLUR_POSITION:()=>T,SET_SETTING_AUTO_CORRECTION:()=>S,SET_SETTING_CROP_ASPECT:()=>E,SET_SETTING_CROPPED:()=>x,SET_SETTING_FLIP_X:()=>w,SET_SETTING_FLIP_Y:()=>C,SET_SETTING_ROTATE:()=>b,SET_CURRENT_LAYER:()=>I,ADD_LAYER_STICKER:()=>R,ADD_LAYER_TEXT:()=>O,ADD_LAYER_IMAGE:()=>A,SET_LAYER_POSITION:()=>L,SET_LAYER_SCALE:()=>P,START_LAYER_SCALE:()=>k,SET_LAYER_COLOR:()=>N,SET_LAYER_FONT_SIZE:()=>D,SET_LAYER_FONT_STYLE:()=>B,SET_LAYER_TEXT:()=>M,TOGGLE_TEXT_EDIT:()=>j,UPDATE_BACKGROUND_LAYER:()=>F,DELETE_LAYER:()=>U,UPDATE_LAYERS_AFTER_CROP:()=>H,ADD_DRAWING:()=>W,UPDATE_DRAWING:()=>G,SET_CURRENT_BACKGROUND_TYPE:()=>z,SET_CURRENT_PHOTO_URL:()=>Y,SET_CURRENT_BACKGROUND_ID:()=>Z,SET_DATA:()=>X});var o="SET_DATA_LOADED",i="SET_SHOW_DROP_BOX",a="SET_SAVE_LOADING",s="SET_CURRENT_TAB",n="SET_CURRENT_STICKER_PACK_INDEX",l="SET_HEADER_SCROLL_POSITION",d="SET_SETTING_COLOR",c="SET_SETTING_BRUSH_WIDTH",h="SET_SETTING_BRUSH_OPACITY",u="SET_SETTING_FONT_SIZE",p="SET_SETTING_FONT_FAMILY",g="SET_SETTING_COLOR_CORRECTION",_="SET_SETTING_FILTER",v="SET_SETTING_FILTER_AMOUNT",m="SET_SETTING_BLUR_ENABLE",f="SET_SETTING_BLUR_FORM",y="SET_SETTING_BLUR_SIZE",T="SET_SETTING_BLUR_POSITION",S="SET_SETTING_AUTO_CORRECTION",E="SET_SETTING_CROP_ASPECT",x="SET_SETTING_CROPPED",w="SET_SETTING_FLIP_X",C="SET_SETTING_FLIP_Y",b="SET_SETTING_ROTATE",I="SET_CURRENT_LAYER",R="ADD_LAYER_STICKER",O="ADD_LAYER_TEXT",A="ADD_LAYER_IMAGE",L="SET_LAYER_POSITION",P="SET_LAYER_SCALE",k="START_LAYER_SCALE",N="SET_LAYER_COLOR",D="SET_LAYER_FONT_SIZE",B="SET_LAYER_FONT_STYLE",M="SET_LAYER_TEXT",j="TOGGLE_TEXT_EDITOR",F="UPDATE_BACKGROUND_LAYER",U="DELETE_LAYER",H="UPDATE_LAYERS_AFTER_CROP",W="ADD_VECTOR",G="UPDATE_DRAWING",z="SET_CURRENT_BACKGROUND_TYPE",Y="SET_CURRENT_PHOTO_URL",Z="SET_CURRENT_BACKGROUND_ID",X="SET_DATA"},277342:(e,t,r)=>{"use strict";r.d(t,{setBackgroundType:()=>i,setCurrentPhotoUrl:()=>a,setCurrentBackgroundId:()=>s});var o=r(750067),i=function(e,t){return void 0===t&&(t=!0),{type:o.SET_CURRENT_BACKGROUND_TYPE,value:e,canUndo:t}},a=function(e,t){return void 0===t&&(t=!0),{type:o.SET_CURRENT_PHOTO_URL,value:e,canUndo:t}},s=function(e,t){return void 0===t&&(t=!0),{type:o.SET_CURRENT_BACKGROUND_ID,value:e,canUndo:t}}},657304:(e,t,r)=>{"use strict";r.d(t,{setCrop:()=>d});var o=r(50533),i=r(277342),a=r(793213),s=r(425657),n=r(197419),l=r(465858),d=e=>t=>{(0,o.batch)((()=>{e.hasOwnProperty("url")&&t((0,i.setCurrentPhotoUrl)(e.url)),e.hasOwnProperty("data")&&t((0,a.setData)(e.data)),e.hasOwnProperty("isCropped")&&t((0,s.setCropped)(e.isCropped)),e.hasOwnProperty("flipX")&&t((0,s.setFlipX)(e.flipX)),e.hasOwnProperty("flipY")&&t((0,s.setFlipY)(e.flipY)),e.hasOwnProperty("rotate")&&t((0,s.setRotate)(e.rotate)),e.hasOwnProperty("layers")&&t((0,n.updateLayersAfterCrop)(e.layers)),e.hasOwnProperty("drawings")&&t((0,l.updateDrawings)(e.drawings))}))}},793213:(e,t,r)=>{"use strict";r.d(t,{setData:()=>i});var o=r(750067),i=e=>({type:o.SET_DATA,payload:e})},465858:(e,t,r)=>{"use strict";r.d(t,{addDrawing:()=>i,updateDrawings:()=>a});var o=r(750067),i=e=>({type:o.ADD_DRAWING,payload:e}),a=e=>({type:o.UPDATE_DRAWING,payload:e})},197419:(e,t,r)=>{"use strict";r.d(t,{setCurrentLayer:()=>d,addLayerSticker:()=>h,addLayerImage:()=>u,addLayerText:()=>p,setLayerPosition:()=>g,setLayerScale:()=>_,startLayerScale:()=>v,setLayerColor:()=>m,setLayerFontSize:()=>f,setLayerFontStyle:()=>y,setLayerText:()=>T,toggleTextEditor:()=>S,updateBackgroundLayer:()=>E,deleteLayer:()=>x,closeTextEditor:()=>w,updateLayersAfterCrop:()=>C});r(573210);var o=r(262782),i=r(582377),a=r(750067),s=r(659397),n=r(986672),l=r(639481),d=e=>({type:a.SET_CURRENT_LAYER,index:e}),c=function(e,t,r,o){return void 0===r&&(r=!0),(i,a)=>{var s=a().present.layers.items;i({type:e,payload:t,canUndo:o}),r&&i(d(s.length))}},h=function(e,t){return void 0===t&&(t=!0),c(a.ADD_LAYER_STICKER,{type:l.LAYER_TYPES.STICKER,id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,rotate:e.rotate,canDelete:e.canDelete,scale:e.scale},!0,t)},u=function(e,t){return void 0===t&&(t=!0),c(a.ADD_LAYER_IMAGE,{type:l.LAYER_TYPES.IMAGE,url:e.url,x:e.x,y:e.y,width:e.width,height:e.height,rotate:e.rotate,clickableZones:e.clickableZones,canDelete:e.canDelete,scale:e.scale},!0,t)},p=function(e,t,r){return void 0===r&&(r=!0),(d,h)=>{var u,p,g=h().present,_=g.data,v=g.settings,m=(0,o.getMarginTop)(h()),f=_.artboardWidth/2,y=_.artboardHeight/2-m,T=(0,s.decodeHTMLEntities)(_.placeholders[(0,n.irand)(0,_.placeholders.length-1)]),S=0,E=!1,x=v.fontStyle,w=v.color,C=v.fontSize,b=1;t&&(f=void 0!==t.x?t.x:f,y=void 0!==t.y?t.y:y,T=void 0!==t.text?t.text:T,S=void 0!==t.rotate?t.rotate:S,E=void 0!==t.isEdit?t.isEdit:E,x=void 0!==t.style?t.style:x,w=void 0!==t.color?t.color:w,C=void 0!==t.fontSize?t.fontSize:C,p=t.initialFontSize,b=void 0!==t.scale?t.scale:b),null==(u=_.helpers)||u.sendStat("add_text"),e&&d((0,i.setMode)(l.TABS.TEXT)),d(c(a.ADD_LAYER_TEXT,{type:l.LAYER_TYPES.TEXT,text:T,x:f,y,rotate:S,isEdit:E,fontSize:C,initialFontSize:p,fontStyle:x,color:w,scale:b,canDelete:!0},e,r))}},g=(e,t)=>(r,o)=>{var i=o().present.layers,s=i.currentIndex,n=i.items;null!==s&&n[s]&&r({type:a.SET_LAYER_POSITION,payload:{x:e,y:t}})},_=(e,t)=>(r,o)=>{var i=o().present.layers,s=i.currentIndex,n=i.items;null!==s&&n[s]&&r({type:a.SET_LAYER_SCALE,payload:{scale:e,rotate:t}})},v=()=>({type:a.START_LAYER_SCALE}),m=e=>(t,r)=>{var o=r().present.layers,i=o.currentIndex,s=o.items;null!==i&&s[i]&&t({type:a.SET_LAYER_COLOR,payload:{color:e}})},f=e=>(t,r)=>{var o=r().present.layers,i=o.currentIndex,s=o.items;null!==i&&s[i]&&t({type:a.SET_LAYER_FONT_SIZE,payload:{fontSize:e}})},y=e=>(t,r)=>{var o=r().present.layers,i=o.currentIndex,s=o.items;null!==i&&s[i]&&t({type:a.SET_LAYER_FONT_STYLE,payload:{fontStyle:e}})},T=e=>(t,r)=>{var o=r().present.layers,i=o.currentIndex,s=o.items;null!==i&&s[i]&&t({type:a.SET_LAYER_TEXT,payload:{text:e}})},S=e=>(t,r)=>{var o=r().present.layers,i=o.currentIndex,s=o.items;null!==i&&s[i]&&t({type:a.TOGGLE_TEXT_EDIT,payload:{isEdit:e}})},E=function(e,t){return void 0===t&&(t=!0),{type:a.UPDATE_BACKGROUND_LAYER,payload:e,canUndo:t}},x=()=>(e,t)=>{var r=t().present.layers,o=r.currentIndex,s=r.items,n=t().present.data.helpers;if(null!==o){var d=s[o];d&&(d.type===l.LAYER_TYPES.STICKER?null==n||n.sendStat("delete_sticker"):d.type===l.LAYER_TYPES.TEXT&&(null==n||n.sendStat("delete_text")),e((0,i.setShowDropBox)(!1)),e({type:a.DELETE_LAYER,index:o}))}},w=()=>(e,t)=>{var r=t().present.layers,o=r.currentIndex,i=r.items;if(null!==o){var a=i[o];a&&a.type===l.LAYER_TYPES.TEXT&&(i[o].text.trim()?e(S(!1)):e(x()))}},C=e=>({type:a.UPDATE_LAYERS_AFTER_CROP,items:e})},425657:(e,t,r)=>{"use strict";r.d(t,{setColor:()=>a,setBrushWidth:()=>s,setBrushOpacity:()=>n,setFontSize:()=>l,setFontStyle:()=>d,setColorCorrection:()=>c,setFilter:()=>h,setFilterAmount:()=>u,setBlurEnable:()=>p,setBlurForm:()=>g,setBlurSize:()=>_,setBlurPosition:()=>v,setAutoCorrection:()=>m,setAspect:()=>f,setCropped:()=>y,setFlipX:()=>T,setFlipY:()=>S,setRotate:()=>E});var o=r(197419),i=r(750067),a=e=>(t,r)=>{var a=r().present.layers,s=a.currentIndex,n=a.items;s&&!n[s]||t((0,o.setLayerColor)(e)),t({type:i.SET_SETTING_COLOR,color:e})},s=e=>({type:i.SET_SETTING_BRUSH_WIDTH,brushWidth:Math.max(.1,e)}),n=e=>({type:i.SET_SETTING_BRUSH_OPACITY,brushOpacity:e}),l=e=>(t,r)=>{var a=r().present.layers,s=a.currentIndex,n=a.items;s&&!n[s]||t((0,o.setLayerFontSize)(e)),t({type:i.SET_SETTING_FONT_SIZE,fontSize:e})},d=e=>(t,r)=>{var a=r().present.layers,s=a.currentIndex,n=a.items;s&&!n[s]||t((0,o.setLayerFontStyle)(e)),t({type:i.SET_SETTING_FONT_FAMILY,fontStyle:e})},c=(e,t)=>({type:i.SET_SETTING_COLOR_CORRECTION,filter:e,value:t}),h=e=>({type:i.SET_SETTING_FILTER,name:e}),u=e=>({type:i.SET_SETTING_FILTER_AMOUNT,value:e}),p=e=>({type:i.SET_SETTING_BLUR_ENABLE,isEnabled:e}),g=e=>({type:i.SET_SETTING_BLUR_FORM,form:e}),_=e=>({type:i.SET_SETTING_BLUR_SIZE,size:e}),v=e=>({type:i.SET_SETTING_BLUR_POSITION,position:e}),m=e=>({type:i.SET_SETTING_AUTO_CORRECTION,isAutoCorrection:e}),f=e=>({type:i.SET_SETTING_CROP_ASPECT,aspect:e}),y=e=>({type:i.SET_SETTING_CROPPED,isCropped:e}),T=e=>({type:i.SET_SETTING_FLIP_X,value:e}),S=e=>({type:i.SET_SETTING_FLIP_Y,value:e}),E=e=>({type:i.SET_SETTING_ROTATE,value:e})},582377:(e,t,r)=>{"use strict";r.d(t,{setDataLoaded:()=>s,setShowDropBox:()=>n,setSaveLoading:()=>l,setMode:()=>d,setCurrentStickerPackIndex:()=>c,setHeaderScrollPosition:()=>h});r(226699),r(132023);var o=r(197419),i=r(750067),a=r(639481),s=()=>({type:i.SET_DATA_LOADED}),n=e=>({type:i.SET_SHOW_DROP_BOX,value:e}),l=e=>({type:i.SET_SAVE_LOADING,value:e}),d=e=>(t,r)=>{var s=r().present.layers,n=s.items,l=s.currentIndex;null!==l&&(n[l].type===a.LAYER_TYPES.TEXT&&t((0,o.closeTextEditor)()),[a.TABS.PAINT,a.TABS.FILTERS,a.TABS.COLOR,a.TABS.CROP].includes(e)&&t((0,o.setCurrentLayer)(null))),t({type:i.SET_CURRENT_TAB,value:e})},c=e=>({type:i.SET_CURRENT_STICKER_PACK_INDEX,value:e}),h=e=>({type:i.SET_HEADER_SCROLL_POSITION,value:e})},981305:(e,t,r)=>{"use strict";r.d(t,{BackgroundCanvas:()=>s});var o=r(785893),i=r(667294),a=r(639481);class s extends i.PureComponent{constructor(e){super(e),this.canvasBg=(0,i.createRef)()}componentDidUpdate(){this.drawImage()}render(){var e=this.props.layer,t=e.width*e.scale,r=e.height*e.scale;return(0,o.jsx)("canvas",{ref:this.canvasBg,width:t*a.CANVAS_SCALE,height:r*a.CANVAS_SCALE,style:{width:t,height:r}},void 0)}drawImage(){var e=this.props.layer,t=this.canvasBg.current,r=null==t?void 0:t.getContext("2d");if(r){var o=e.width*e.scale,i=e.height*e.scale;r.drawImage(e.canvas,0,0,o*a.CANVAS_SCALE,i*a.CANVAS_SCALE)}}}},598651:(e,t,r)=>{"use strict";r.d(t,{ClickableZones:()=>s});r(821249);var o=r(785893),i=r(667294),a=r(63401);class s extends i.Component{render(){return this.props.isDev?this.props.clickableZones.map(((e,t)=>{var r=e.clickable_area,i=100*Math.abs(r[1].x-r[0].x),s=100*Math.abs(r[2].y-r[1].y);return(0,o.jsx)("div",{className:a.default.root,style:{top:100*r[0].y+"%",left:100*r[0].x+"%",width:`${i}%`,height:`${s}%`}},t)})):null}}},713924:(e,t,r)=>{"use strict";r.d(t,{ColorPicker:()=>c});r(66992),r(821249),r(747042),r(319601),r(454747),r(333948);var o=r(785893),i=r(667294),a=r(986672),s=r(659397),n=r(495707),l=r(639481),d=r(920090);class c extends i.Component{constructor(e){super(e),this.colors=this.getColors(e.avgColor)}shouldComponentUpdate(e){return JSON.stringify(e.avgColor)!==JSON.stringify(this.props.avgColor)&&(this.colors=this.getColors(e.avgColor)),!0}render(){return(0,o.jsx)("div",Object.assign({className:d.default.root},{children:this.colors.map(((e,t)=>{var r=e===this.props.color,i=(0,s.classNames)(d.default.item,"#FFFFFF"===e&&d.default.itemWhite);return(0,o.jsx)("div",Object.assign({className:i,style:{backgroundColor:e},onClick:()=>this.props.setColor(e)},{children:r&&(0,o.jsx)(n.default,{},void 0)}),t)}))}),void 0)}getColors(e){var t=(0,a.rgb2hsv)(e.r,e.g,e.b),r=[];return l.AVERAGE_COLORS_MAP.forEach((e=>{var o=Math.round(Math.min(Math.max(t.s+e.s,0),100)),i=Math.round(Math.min(Math.max(t.v+e.v,0),100));r.push((0,a.hsl2hex)(t.h,o,i).toUpperCase())})),(0,s.uniqueArray)([...l.COLORS,...r]).slice(0,30)}}},939922:(e,t,r)=>{"use strict";r.d(t,{DropBox:()=>n});r(319601);var o=r(785893),i=r(667294),a=r(659397),s=r(920199);class n extends i.PureComponent{constructor(e){super(e),this.state={onHover:!1}}render(){var e=(0,a.classNames)(s.default.root,this.state.onHover&&s.default.hover);return(0,o.jsx)("div",Object.assign({className:e,onMouseOver:()=>this.setState({onHover:!0}),onMouseOut:()=>this.setState({onHover:!1}),onMouseUp:this.props.onDelete},{children:n.renderIcon()}),void 0)}static renderIcon(){return(0,o.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",fill:"none"},{children:[(0,o.jsx)("path",{fill:"#fff",d:"M17.5 18.38a1 1 0 00-2 .24l1.8 15.23a3 3 0 002.98 2.65h9.44a3 3 0 002.98-2.65l1.8-15.23a1 1 0 10-2-.24l-1.78 15.24a1 1 0 01-1 .88h-9.44a1 1 0 01-1-.88L17.5 18.38z"},void 0),(0,o.jsx)("path",{fill:"#fff",d:"M22 21.45a1 1 0 00-2 .1l.5 10a1 1 0 102-.1l-.5-10zm8 .1a1 1 0 00-2-.1l-.5 10a1 1 0 102 .1l.5-10zm-4-.05a1 1 0 10-2 0v10a1 1 0 002 0v-10z"},void 0),(0,o.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M20.62 16.5c.08-.35.2-.77.42-1.2.32-.64.8-1.19 1.38-1.59A4.55 4.55 0 0125 13c1.05 0 1.9.27 2.58.71.59.4 1.06.95 1.38 1.6.21.42.34.84.42 1.19H36a1 1 0 010 2H14a1 1 0 010-2h6.63zm6.68 0a2.9 2.9 0 00-.13-.3c-.16-.33-.4-.61-.7-.82-.31-.2-.77-.38-1.47-.38s-1.16.17-1.47.38c-.32.2-.54.5-.7.82-.05.1-.1.2-.13.3h4.6z",className:s.default.cap,clipRule:"evenodd"},void 0)]}),void 0)}}},557894:(e,t,r)=>{"use strict";r.d(t,{EditorTabs:()=>v});r(66992),r(821249),r(319601),r(333948);var o=r(785893),i=r(667294),a=r(659397),s=r(86894),n=r(847829),l=r(767499),d=r(147650),c=r(526326),h=r(621748),u=r(274824),p=r(949151),g=r(591420),_=r(639481);class v extends i.Component{constructor(){super(...arguments),this.getHeaderItem=e=>{var t=e.props["data-disabled"],r=(0,a.classNames)(l.default.item,this.props.current===e.props["data-mode"]&&l.default.itemCurrent,t&&l.default.itemDisabled),i=(0,o.jsx)("div",Object.assign({className:r,onClick:()=>this.onTabClick(e.props["data-mode"],t)},{children:v.getIcon(e.props["data-mode"])}),e.props["data-mode"]);if(t){var d,c,h=(0,o.jsxs)("div",Object.assign({className:l.default.tooltip},{children:[(0,o.jsx)("span",Object.assign({className:l.default.tooltipText},{children:null==(d=this.props.langMap)?void 0:d.photos_pe_filters_disabled_text}),void 0),(0,o.jsx)(s.Link,Object.assign({onClick:()=>this.props.setMode(_.BACKGROUND_MODES.PHOTO)},{children:null==(c=this.props.langMap)?void 0:c.photos_pe_filters_disabled_button}),void 0)]}),void 0);return(0,o.jsx)(n.RichTooltip,Object.assign({content:h},{children:i}),void 0)}return i},this.getTabContentItem=e=>{var t=(0,a.classNames)(e.props.className,l.default.tab,this.props.current===e.props["data-mode"]&&l.default.tabCurrent);return(0,i.cloneElement)(e,{className:t})},this.onTabClick=(e,t)=>{t||this.props.change(e)}}render(){return(0,o.jsxs)("div",Object.assign({className:l.default.root},{children:[(0,o.jsx)("div",Object.assign({className:l.default.header},{children:i.Children.map(this.props.children,(e=>{if((0,i.isValidElement)(e))return this.getHeaderItem(e)}))}),void 0),(0,o.jsx)("div",Object.assign({className:l.default.content},{children:i.Children.map(this.props.children,(e=>{if((0,i.isValidElement)(e))return this.getTabContentItem(e)}))}),void 0)]}),void 0)}static getIcon(e){var t;switch(e){case _.TABS.STICKERS:t=(0,o.jsx)(d.default,{},void 0);break;case _.TABS.TEXT:t=(0,o.jsx)(c.default,{},void 0);break;case _.TABS.PAINT:t=(0,o.jsx)(h.default,{},void 0);break;case _.TABS.CROP:t=(0,o.jsx)(u.default,{},void 0);break;case _.TABS.COLOR:t=(0,o.jsx)(p.default,{},void 0);break;case _.TABS.FILTERS:t=(0,o.jsx)(g.default,{},void 0)}return t}}},359952:(e,t,r)=>{"use strict";r.d(t,{EditorText:()=>c});r(319601),r(115306);var o=r(785893),i=r(667294),a=r(659397),s=r(639481),n=r(986672),l=r(869356),d="editor-text-inner";class c extends i.Component{constructor(e){super(e),this.componentDidMount=()=>{var e=this.textareaEl.current;e&&(this.onChange(),e.select())},this.render=()=>{var e=this.props.layer,t=Math.max(10,e.fontSize*s.FONT_SIZE_COEFFICIENT);return e.initialFontSize&&(t=e.initialFontSize*s.FONT_SIZE_COEFFICIENT),(0,o.jsx)("div",Object.assign({className:l.default.root},{children:(0,o.jsx)("div",Object.assign({className:l.default.inner,"data-name":d},{children:(0,o.jsx)("textarea",{ref:this.textareaEl,className:(0,a.classNames)(l.default.textArea,(0,n.getComputedFontFamily)(e.fontStyle)),defaultValue:(0,a.decodeHTMLEntities)(e.text).replace(/(\v)/gm,""),autoFocus:!0,onKeyDown:this.onKeyDown,onChange:this.onChange,onInput:this.onChange,onPaste:this.onChange,style:{color:e.color,fontSize:t,height:this.state.height}},void 0)}),void 0)}),void 0)},this.onKeyDown=e=>{if("Enter"===e.key)if(e.preventDefault(),e.stopPropagation(),e.ctrlKey||e.metaKey||e.shiftKey){var t=this.textareaEl.current;if(t){var r=e.target.selectionStart,o=e.target.selectionEnd;t.value=t.value.substring(0,r)+"\n"+t.value.substring(o),t.selectionStart=t.selectionEnd=r+1,this.onChange()}}else this.props.closeTextEditor()},this.onChange=()=>{var e=this.textareaEl.current;e&&(this.setState({height:0},(()=>{this.setState({height:e.scrollHeight})})),this.props.onChange(this.applyLineBreaks(e)))},this.applyLineBreaks=e=>{var t=e.value,r=e.cloneNode(!0);document.querySelector('[data-name="editor-text-inner"]').appendChild(r),r.setAttribute("wrap","off"),r.value="";for(var o=r.scrollWidth,i=0,a=-1;i<t.length;i++){var s=t.charAt(i);if(" "!==s&&"-"!==s&&"+"!==s||(a=i),r.value+=s,r.scrollWidth>o){var n="";if(a>=0){for(var l=a+1;l<i;l++)n+=t.charAt(l);a=-1}n+=s,r.value=r.value.substr(0,r.value.length-n.length),r.value+="\n\v"+n}}return r.remove(),r.value.replace(/(\n\v)/gm,"\v")},this.state={height:0},this.textareaEl=(0,i.createRef)(),(0,a.isFunction)(this.props.sendStat)&&this.props.sendStat("edit_text")}componentDidUpdate(e){e.layer.fontSize===this.props.layer.fontSize&&e.layer.fontStyle===this.props.layer.fontStyle||this.onChange()}}},306625:(e,t,r)=>{"use strict";r.d(t,{layerSelector:()=>g,Layer:()=>_});r(66992),r(319601),r(115306),r(333948);var o=r(785893),i=r(667294),a=r(973935),s=r(981305),n=r(87989),l=r(598651),d=r(659397),c=r(639481),h=r(986672),u=r(116448),p=r(619173),g="editor-layer";class _ extends i.Component{constructor(){super(...arguments),this.handleDoubleClick=()=>{this.props.toggleTextEditor(!0)}}render(){var e=this.props,t=e.layer,r=e.index,o=null,i=(0,d.classNames)(u.default.root,t.locked&&u.default.locked,t.type===c.LAYER_TYPES.TEXT&&(0,h.getComputedFontFamily)(t.fontStyle));switch(t.type){case c.LAYER_TYPES.STICKER:o=this.renderLayerSticker(t,r,i);break;case c.LAYER_TYPES.TEXT:o=this.renderLayerText(t,r,i);break;case c.LAYER_TYPES.IMAGE:o=this.renderLayerImage(t,r,i);break;case c.LAYER_TYPES.BACKGROUND:o=this.renderLayerBackground(t,r,i)}if(t.isBackground){var s=document.querySelector(`[data-name="${p.layersSelector}"`);return s?a.createPortal(o,s):null}return o}renderLayerBackground(e,t,r){return(0,o.jsx)("div",Object.assign({"data-name":g,className:r,"data-index":t,style:{width:1,height:1,transform:`translate(${e.x}px, ${e.y}px) rotateZ(${e.rotate}deg)`}},{children:(0,o.jsxs)("div",Object.assign({className:u.default.inner,"data-name":g},{children:[(0,o.jsx)(s.BackgroundCanvas,{layer:e},void 0),this.props.currentIndex===t&&(0,o.jsx)(n.LayerControls,{layer:e,setLayerScale:this.props.setLayerScale,startLayerScale:this.props.startLayerScale},void 0)]}),void 0)}),t)}renderLayerSticker(e,t,r){var i=this.props,a=i.disabled,s=(0,i.getStickerUrlById)(e.id,c.STICKER_LARGE);return(0,o.jsx)("div",Object.assign({"data-name":g,className:r,"data-index":t,style:{width:1,height:1,transform:`translate(${e.x}px, ${e.y}px) rotateZ(${e.rotate}deg)`}},{children:(0,o.jsx)("div",Object.assign({className:(0,d.classNames)(u.default.inner,a&&u.default.innerDisabled),"data-name":g,style:{width:e.width*e.scale,height:e.height*e.scale,backgroundImage:`url('${s}')`}},{children:this.props.currentIndex===t&&(0,o.jsx)(n.LayerControls,{layer:e,setLayerScale:this.props.setLayerScale,startLayerScale:this.props.startLayerScale},void 0)}),void 0)}),t)}renderLayerImage(e,t,r){var i=this.props.disabled;return(0,o.jsx)("div",Object.assign({"data-name":g,className:r,"data-index":t,style:{width:1,height:1,transform:`translate(${e.x}px, ${e.y}px) rotateZ(${e.rotate}deg)`}},{children:(0,o.jsxs)("div",Object.assign({className:(0,d.classNames)(u.default.inner,i&&u.default.innerDisabled),"data-name":g,style:{width:e.width*e.scale,height:e.height*e.scale,backgroundImage:`url('${e.url}')`}},{children:[this.props.currentIndex===t&&(0,o.jsx)(n.LayerControls,{layer:e,setLayerScale:this.props.setLayerScale,startLayerScale:this.props.startLayerScale},void 0),e.clickableZones&&(0,o.jsx)(l.ClickableZones,{clickableZones:e.clickableZones},void 0)]}),void 0)}),t)}renderLayerText(e,t,r){var i=Math.max(10,e.fontSize*c.FONT_SIZE_COEFFICIENT),a=this.props.disabled,s={fontSize:i*e.scale,color:e.color};return this.props.currentIndex===t&&e.isEdit?null:(0,o.jsx)("div",Object.assign({"data-name":g,className:r,"data-index":t,style:{width:1,height:1,transform:`translate(${e.x}px, ${e.y}px) rotateZ(${e.rotate}deg)`}},{children:(0,o.jsxs)("div",Object.assign({className:(0,d.classNames)(u.default.inner,a&&u.default.innerDisabled),"data-name":g,style:s,onDoubleClick:this.handleDoubleClick},{children:[(0,o.jsx)("div",{children:(0,d.decodeHTMLEntities)(e.text.replace(/(\v)/gm,"\n"))},void 0),this.props.currentIndex===t&&(0,o.jsx)(n.LayerControls,{layer:e,setLayerScale:this.props.setLayerScale,startLayerScale:this.props.startLayerScale},void 0)]}),void 0)}),t)}}},87989:(e,t,r)=>{"use strict";r.d(t,{LayerControls:()=>h});r(66992),r(319601),r(333948);var o=r(785893),i=r(667294),a=r(986672),s=r(639481),n=r(659397),l=r(539970),d=r(306625),c=r(647446);class h extends i.Component{constructor(){super(...arguments),this.controlMouseDown=(e,t)=>{if(e.preventDefault(),e.stopPropagation(),this.props.startLayerScale(),this.layer=this.props.layer,this.layer.type===s.LAYER_TYPES.TEXT){var r=e.target.closest(`[data-name="${d.layerSelector}"]`);if(!r)return;this.width=r.offsetWidth/this.layer.scale,this.height=r.offsetHeight/this.layer.scale}else this.width=this.layer.width,this.height=this.layer.height;if(void 0!==this.width&&void 0!==this.height){switch(window.addEventListener("mousemove",this.controlMouseMove),window.addEventListener("mouseup",this.controlMouseUp),t){case"se":this.offsetFromCenter={x:this.width/2,y:this.height/2};break;case"sw":this.offsetFromCenter={x:-this.width/2,y:this.height/2};break;case"ne":this.offsetFromCenter={x:this.width/2,y:-this.height/2};break;case"nw":this.offsetFromCenter={x:-this.width/2,y:-this.height/2}}void 0!==this.offsetFromCenter&&(this.distanceToZero=Math.sqrt(this.offsetFromCenter.x*this.offsetFromCenter.x+this.offsetFromCenter.y*this.offsetFromCenter.y))}},this.controlMouseMove=e=>{var t,r,o=(0,a.getRelativeXY)(e,document.querySelector(`[data-name="${c.drawingLayerSelector}"]`)),i=o.x,n=o.y;if(void 0!==this.offsetFromCenter&&void 0!==this.distanceToZero&&void 0!==this.width&&void 0!==this.height){var l={x:i-((null==(t=this.layer)?void 0:t.x)||0),y:n-((null==(r=this.layer)?void 0:r.y)||0)},d=180*(Math.atan2(l.y,l.x)-Math.atan2(this.offsetFromCenter.y,this.offsetFromCenter.x))/Math.PI,h=Math.max(s.LAYER_MIN_SIZE,Math.sqrt(l.x*l.x+l.y*l.y))/this.distanceToZero;this.props.setLayerScale(h,d)}},this.controlMouseUp=()=>{window.removeEventListener("mousemove",this.controlMouseMove),window.removeEventListener("mouseup",this.controlMouseUp),delete this.width,delete this.height,delete this.centerCoordinates,delete this.offsetFromCenter,delete this.distanceToZero}}render(){return(0,o.jsxs)("div",Object.assign({className:l.default.root},{children:[(0,o.jsx)("div",{className:(0,n.classNames)(l.default.handler,l.default.handlerNw),onMouseDown:e=>this.controlMouseDown(e,"nw")},void 0),(0,o.jsx)("div",{className:(0,n.classNames)(l.default.handler,l.default.handlerNe),onMouseDown:e=>this.controlMouseDown(e,"ne")},void 0),(0,o.jsx)("div",{className:(0,n.classNames)(l.default.handler,l.default.handlerSw),onMouseDown:e=>this.controlMouseDown(e,"sw")},void 0),(0,o.jsx)("div",{className:(0,n.classNames)(l.default.handler,l.default.handlerSe),onMouseDown:e=>this.controlMouseDown(e,"se")},void 0)]}),void 0)}}},619173:(e,t,r)=>{"use strict";r.d(t,{layersSelector:()=>d,Layers:()=>c});r(226699),r(821249),r(319601),r(132023);var o=r(785893),i=r(667294),a=r(306625),s=r(659397),n=r(639481),l=r(522841),d="photo-editor-image-layer-bg";class c extends i.Component{render(){var e=this.props.layers,t=e.items,r=e.currentIndex,i=[n.TABS.PAINT,n.TABS.FILTERS,n.TABS.COLOR,n.TABS.CROP].includes(this.props.currentMode);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",Object.assign({className:(0,s.classNames)(l.default.root,l.default.items)},{children:t.map(((e,t)=>(0,o.jsx)(a.Layer,{index:t,currentIndex:r,layer:e,setLayerScale:this.props.setLayerScale,startLayerScale:this.props.startLayerScale,toggleTextEditor:this.props.toggleTextEditor,getStickerUrlById:this.props.getStickerUrlById,disabled:i},t)))}),void 0),(0,o.jsx)("div",{className:(0,s.classNames)(l.default.root,l.default.background),"data-name":d},void 0)]},void 0)}}},759212:(e,t,r)=>{"use strict";r.d(t,{switchModeSelector:()=>c,SwitchMode:()=>h});r(66992),r(821249),r(319601),r(426833),r(333948);var o=r(785893),i=r(667294),a=r(659397),s=r(784977),n=r(639481),l=r(961329),d=r(175223),c="switch-mode";class h extends i.PureComponent{constructor(){super(...arguments),this.setMode=e=>{(0,a.isFunction)(this.props.sendStat)&&(e===n.BACKGROUND_MODES.PHOTO?this.props.sendStat("click_to_camera_icon"):e===n.BACKGROUND_MODES.BACKGROUND&&this.props.sendStat("click_to_gradient_icon")),this.props.setMode(e)}}render(){return(0,o.jsx)("div",Object.assign({className:l.default.root,"data-name":c},{children:Object.values(n.BACKGROUND_MODES).map((e=>{var t=(0,a.classNames)(l.default.mode,e===this.props.current&&l.default.active),r=e===n.BACKGROUND_MODES.PHOTO?(0,o.jsx)(s.default,{},void 0):null;return(0,o.jsx)("span",Object.assign({className:t,onClick:()=>this.setMode(e)},{children:e===n.BACKGROUND_MODES.BACKGROUND?(0,o.jsx)("img",{src:d,className:l.default.icon},e):r}),e)}))}),void 0)}}},639481:(e,t,r)=>{"use strict";r.d(t,{TABS:()=>i,BACKGROUND_MODES:()=>a,COLORS:()=>s,AVERAGE_COLORS_MAP:()=>n,FONTS:()=>l,PHOTO_FILTERS:()=>d,BLUR_TYPES:()=>c,LAYER_TYPES:()=>h,CONTEXT_TYPES:()=>u,CROP_SIDES:()=>p,CROP_ASPECT_FREE:()=>g,CROP_ASPECT_ORIGINAL:()=>_,CROP_ASPECTS:()=>v,STORY_BASE_WIDTH:()=>m,STORY_BASE_HEIGHT:()=>f,BOTTOM_PANEL_HEIGHT:()=>y,CANVAS_SCALE:()=>T,STICKER_THUMB:()=>S,STICKER_MEDIUM:()=>E,STICKER_LARGE:()=>x,BRUSH_WIDTH_COEFFICIENT:()=>w,FONT_SIZE_COEFFICIENT:()=>C,LAYER_MIN_SIZE:()=>b,LAYER_DEFAULT_SIZE:()=>I,FILTER_PREVIEW_WIDTH:()=>R,FILTER_PREVIEW_HEIGHT:()=>O,DRAWING_PREVIEW_WIDTH:()=>A,DRAWING_PREVIEW_HEIGHT:()=>L,CROP_MIN_SIZE:()=>P});var o=r(659397),i={STICKERS:"stickers",TEXT:"text",PAINT:"paint",CROP:"crop",FILTERS:"filters",COLOR:"color"},a={NONE:"none",PHOTO:"photo",BACKGROUND:"background"},s=["#FFFFFF","#000000","#FF3301","#FF8C49","#F9D827","#2EBA48","#4189E8","#9F4BED","#69E4B3","#FF84A0","#F7A978","#F8786C","#8B3232","#93B658","#556E35","#5B4490","#1B1B1B","#333333","#4D4D4D","#666666","#808080","#999999","#B3B3B3","#CCCCCC"],n=[{s:12,v:-40},{s:9,v:-30},{s:6,v:-20},{s:3,v:-10},{s:0,v:0},{s:-3,v:10},{s:-6,v:20},{s:-9,v:30},{s:-12,v:40}],l=["classic","cursive","marker","italics","typewriter","poster","retro","impact","lobster"],d=["regular","nox","vesper","latona","liber","luna","minerva","mitra","pro","terra","veles","vesta","zaria","sepia","genius","horus","fortuna"],c={ROUND:"round",RECTANGULAR:"rectangular"},h={STICKER:"sticker",TEXT:"text",IMAGE:"image",BACKGROUND:"background"},u={PHOTO:"photo",STORY:"story"},p={CENTER:"center",NW:"nw",NE:"ne",SW:"sw",SE:"se",N:"n",S:"s",W:"w",E:"e"},g=0,_=-1,v=[{title:"photos_pe_crop_aspect_free",value:g},{title:"photos_pe_crop_aspect_original",value:_},{title:"photos_pe_crop_aspect_16_9",value:16/9},{title:"photos_pe_crop_aspect_4_3",value:4/3},{title:"photos_pe_crop_aspect_1_1",value:1},{title:"photos_pe_crop_aspect_3_4",value:3/4},{title:"photos_pe_crop_aspect_9_16",value:9/16}],m=1080,f=1920,y=50,T=(0,o.isRetina)()?2:1,S="thumb",E=(0,o.isRetina)()?"256":"128",x=512,w=40,C=100,b=30,I=128,R=127,O=95,A=270,L=110,P=100},847946:(e,t,r)=>{"use strict";r.d(t,{BaseEditor:()=>W});r(57327),r(226699),r(66992),r(821249),r(319601),r(241539),r(788674),r(132023),r(454747),r(333948),r(560285);var o=r(785893),i=r(667294),a=r(50533),s=r(21090),n=r(582377),l=r(197419),d=r(793213),c=r(425657),h=r(277342),u=r(639481),p=r(997284),g=r(557894),_=r(508155),v=r(793815),m=r(23187),f=r(49664),y=r(333320),T=r(966636),S=r(603156),E=r(175605),x=r(659397),w=r(986672),C=r(86894),b=r(602304),I=r(878628),R=r(743449),O=r(849403),A=r(251689),L=r(397846),P=r(302757),k=r(320398),N=r(169192),D=r(647446),B=r(759212),M=r(306625),j=r(56052);function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},F.apply(this,arguments)}class U extends i.Component{constructor(e){super(e),this.componentDidMount=()=>{var e,t,r;if(window.addEventListener("keydown",this.handleKeyDown,{capture:!0}),window.addEventListener("mousedown",this.canvasMouseDown),this.undoSub=j.undoAction.watch((()=>{this.props.undo()})),this.redoSub=j.redoAction.watch((()=>{this.props.redo()})),(0,x.isFunction)(null==(e=this.props.data)?void 0:e.saveCb)&&(this.getEditedPhotoSub=j.getEditedPhoto.watch((()=>{this.renderImageFromState().then(this.props.data.saveCb)}))),(0,x.isFunction)(null==(t=this.props.data)?void 0:t.undoRedoStatusCb)&&(this.undoRedoStatusSub=j.$undoRedoStatusFiltered.watch(this.props.data.undoRedoStatusCb)),(0,x.isFunction)(null==(r=this.props.data.helpers)?void 0:r.getPhotoEditorData))this.props.data.helpers.getPhotoEditorData((()=>this.props.data.close(!1,!0))).then((e=>{var t,r,o,i,a,s,n,l=e.stickers,d=e.backgrounds,c=e.storyUploadUrlHash,h=e.storySaveHash,p=this.setBackground(d,null==(t=this.props.data)?void 0:t.backgroundId,!1),g={};l.forEach((e=>{e.items.forEach((e=>{g[e.id]=e}))})),this.props.setData({stickers:l,stickersMap:g,backgrounds:d,placeholders:null==(r=this.props.data)||null==(o=r.langMap)?void 0:o.photos_pe_texts_placeholders,fontsPlaceholders:null==(i=this.props.data)||null==(a=i.langMap)?void 0:a.photos_pe_fonts,storyUploadUrlHash:c,storySaveHash:h}),this.props.setDataLoaded(),(null==(s=this.props.data)||null==(n=s.serviceInfo)?void 0:n.open_text_editor)?this.props.addLayerText(!0,{isEdit:!0,text:""},!1):this.props.stickers||this.props.background.currentBackgroundType!==u.BACKGROUND_MODES.BACKGROUND||(this.props.addLayerText(!0,{isEdit:!0,color:[201,206,203,207,205,202,204,303,306,307].includes(p)?"#333333":"#FFFFFF"},!1),this.props.closeTextEditor(),this.props.setCurrentLayer(null)),this.props.stickers&&this.prepareStickers(this.props.stickers)}));else{var o,i,a,s,n,l={colors:[],emojies:[],gradients:[],advice_gradients:[]};this.setBackground(l,null==(o=this.props.data)?void 0:o.backgroundId,!1),this.props.setMode(u.TABS.TEXT),this.props.setData({backgrounds:l,placeholders:null==(i=this.props.data)||null==(a=i.langMap)?void 0:a.photos_pe_texts_placeholders,fontsPlaceholders:null==(s=this.props.data)||null==(n=s.langMap)?void 0:n.photos_pe_fonts}),this.props.setDataLoaded()}},this.componentWillUnmount=()=>{var e,t,r,o;window.removeEventListener("keydown",this.handleKeyDown,{capture:!0}),window.removeEventListener("mousedown",this.canvasMouseDown),null==(e=this.undoSub)||e.unsubscribe(),null==(t=this.redoSub)||t.unsubscribe(),null==(r=this.undoRedoStatusSub)||r.unsubscribe(),null==(o=this.getEditedPhotoSub)||o.unsubscribe()},this.render=()=>{var e,t,r=this.props,i=r.ui,a=r.data,s=r.drawings,n=r.layers,l=r.settings,d=(null==a?void 0:a.showStatusActions)?u.BOTTOM_PANEL_HEIGHT:0,c=parseInt(a.artboardHeight)+d;if(a.artboardContainer||(t={width:a.artboardWidth,height:c}),this.isSaveDisabled=!0,a.context===u.CONTEXT_TYPES.STORY)this.isSaveDisabled=!1;else{var h=l.colorCorrection,g=l.filter,_=l.blur,v=l.isAutoCorrection,m=l.isCropped,f=l.flipX,y=l.flipY,T=l.rotation;this.isSaveDisabled=!(!(n.items.length<=1)||s.length||h.exposure||h.contrast||h.saturation||h.warmth||h.vignette||h.sharpness||h.grain||"regular"!==g.name||_.isEnabled||v||m||f||y||T)}var S=(null==(e=this.props.data)?void 0:e.showStatusActions)?(0,o.jsx)("div",Object.assign({className:P.default.canvas,style:t},{children:(0,o.jsx)(p.EditorCanvas,{getStickerUrlById:this.getStickerUrlById,uploadPhoto:this.uploadPhoto,setMode:this.setMode},void 0)}),void 0):(0,o.jsx)("div",Object.assign({className:P.default.imageContainer,style:{width:a.imageContainerWidth}},{children:(0,o.jsx)("div",Object.assign({className:P.default.canvas,style:t},{children:(0,o.jsx)(p.EditorCanvas,{getStickerUrlById:this.getStickerUrlById,uploadPhoto:this.uploadPhoto,setMode:this.setMode},void 0)}),void 0)}),void 0);return(0,o.jsxs)("div",Object.assign({className:P.default.root,style:{height:parseInt(a.artboardHeight)+d}},{children:[S,(0,o.jsx)("div",Object.assign({className:P.default.tabs},{children:i.isDataLoaded?this.renderTabs():(0,o.jsx)(C.Spinner,{},void 0)}),void 0),(0,o.jsx)("input",{type:"file",accept:"image/*",className:P.default.inputFile,onChange:this.handleChooseFile,ref:this.inputFile},void 0),!i.isDataLoaded&&this.renderFontsPreloading()]}),void 0)},this.renderTabs=()=>{var e,t,r,i,a,s,n,l,d,c,h=this.props,p=h.data,E=h.background,x=p.context===u.CONTEXT_TYPES.STORY&&E.currentBackgroundType===u.BACKGROUND_MODES.BACKGROUND,w=null==(e=this.props.data)||null==(t=e.langMap)?void 0:t.photos_pe_save_action;this.props.data.context===u.CONTEXT_TYPES.STORY&&(w=null==(d=this.props.data)||null==(c=d.langMap)?void 0:c.photos_pe_publish_action);return(0,o.jsxs)("div",Object.assign({className:P.default.inner},{children:[(0,o.jsxs)(g.EditorTabs,Object.assign({current:this.props.ui.currentMode,change:this.props.setMode,setMode:this.setMode,langMap:null==(r=this.props.data)?void 0:r.langMap},{children:[(null==(i=this.props.data.stickers)?void 0:i.length)&&(0,o.jsx)("div",Object.assign({"data-mode":u.TABS.STICKERS},{children:(0,o.jsx)(T.StickerPacksPanel,{stickerMouseDown:this.addSticker},void 0)}),void 0),(0,o.jsx)("div",Object.assign({"data-mode":u.TABS.TEXT},{children:(0,o.jsx)(m.TextPanel,{},void 0)}),void 0),(0,o.jsx)("div",Object.assign({"data-mode":u.TABS.PAINT},{children:(0,o.jsx)(_.DrawPanel,{},void 0)}),void 0),!(null==(a=p.addons)?void 0:a.disableCrop)&&p.context===u.CONTEXT_TYPES.PHOTO&&(0,o.jsx)("div",Object.assign({"data-mode":u.TABS.CROP},{children:(0,o.jsx)(v.CropPanel,{},void 0)}),void 0),(0,o.jsx)("div",Object.assign({"data-mode":u.TABS.FILTERS,"data-disabled":x},{children:(0,o.jsx)(y.FiltersPanel,{},void 0)}),void 0),(0,o.jsx)("div",Object.assign({"data-mode":u.TABS.COLOR,"data-disabled":x},{children:(0,o.jsx)(f.ColorCorrectionPanel,{},void 0)}),void 0)]}),void 0),(null==(s=this.props.data)?void 0:s.showStatusActions)&&(0,o.jsxs)("div",Object.assign({className:P.default.actions},{children:[(0,o.jsx)(S.UndoRedo,{},void 0),(0,o.jsxs)("div",Object.assign({className:P.default.buttons},{children:[(0,o.jsx)(C.Button,Object.assign({mode:"secondary",onClick:this.props.data.close},{children:null==(n=this.props.data)||null==(l=n.langMap)?void 0:l.photos_pe_cancel_action}),void 0),(0,o.jsx)("div",Object.assign({className:P.default.submit},{children:(0,o.jsx)(C.Button,Object.assign({mode:"primary",loading:this.props.ui.isSaveLoading,disabled:this.isSaveDisabled,onClick:this.save},{children:w}),void 0)}),void 0)]}),void 0)]}),void 0)]}),void 0)},this.renderFontsPreloading=()=>(0,o.jsx)("div",Object.assign({className:P.default.fontPreload},{children:u.FONTS.map((e=>(0,o.jsx)("span",{className:(0,w.getComputedFontFamily)(e)},e)))}),void 0),this.save=()=>{this.props.closeTextEditor(),this.props.setCurrentLayer(null),this.props.setSaveLoading(!0),setTimeout((()=>{this.renderImageFromState().then((e=>{var t,r,o,i,a=e.blob,s=e.width,n=e.height,l=this.props,d=l.layers,c=l.drawings,h=l.background,u=l.settings,p=null==(t=this.props.data)||null==(r=t.helpers)?void 0:r.prepareStat(d.items,c,h.currentBackgroundType,h.currentBackgroundId),g=null==(o=this.props.data)||null==(i=o.helpers)?void 0:i.prepareMediaEditorStat(d.items,u),_=[];this.props.layers.items.forEach((e=>{e.clickableZones&&e.clickableZones.forEach((t=>{_.push(this.getPreparedClickableZone(e,t))}))}));var v={original_width:s,original_height:n,clickable_stickers:_};this.props.data.save(a,(()=>{this.props.setSaveLoading(!1)}),{attachment:this.props.data.attachment,storyUploadUrlHash:this.props.data.storyUploadUrlHash,storySaveHash:this.props.data.storySaveHash,analytics:JSON.stringify(p),mediaEditorAnalytics:JSON.stringify(g),clickableStickers:JSON.stringify(v)})})).catch((e=>{this.props.setSaveLoading(!1),console.error(e)}))}),0)},this.renderImageFromState=()=>{var e=this.props,t=e.layers,r=e.drawings,o=e.data,i=o.artboardWidth,a=o.originalWidth,s=o.originalHeight,n=a/i;return new Promise(((e,o)=>{E.rendererScene.draw(a,s,t.items,r,n,this.getStickerUrlById).then((t=>{var r=t.blob,o=t.width,i=t.height;e({blob:r,width:o,height:i})})).catch((e=>{o(e)}))}))},this.getPreparedClickableZone=(e,t)=>{var r,o=this.props.data.originalWidth/this.props.data.artboardWidth,i=e.rotate*(Math.PI/180),a=e.width*e.scale,s=e.height*e.scale,n=e.x-a/2,l=e.y-s/2,d=parseFloat(e.x)+(n-e.x)*Math.cos(i)-(l-e.y)*Math.sin(i),c=parseFloat(e.y)+(l-e.y)*Math.cos(i)+(n-e.x)*Math.sin(i),h=null==(r=t.clickable_area)?void 0:r.map((e=>{var t=e.x*a,r=e.y*s,n=t*Math.cos(i)-r*Math.sin(i),l=t*Math.sin(i)+r*Math.cos(i);return{x:(d+n)*o,y:(c+l)*o}})),u={type:t.action_type,clickable_area:h};return"link"===t.action_type?(u.link=t.action.link,t.action.tooltip_text_key&&(u.tooltip_text_key=t.action.tooltip_text_key)):"app"===t.action_type?(u.app_id=t.action.app_id,t.action.app_context&&(u.app_context=t.action.app_context)):"music"===t.action_type?(u.audio_owner_id=t.action.audioOwnerId,u.audio_id=t.action.audioId):"playlist"===t.action_type&&(u.playlist_owner_id=t.action.playlistOwnerId,u.playlist_id=t.action.playlistId),u},this.handleKeyDown=e=>{if("Escape"===e.key&&this.props.layers.currentIndex&&this.props.layers.items[this.props.layers.currentIndex].isEdit&&(e.preventDefault(),e.stopPropagation(),this.props.closeTextEditor()),(e.ctrlKey||e.metaKey)&&"z"===e.key&&(e.shiftKey?this.props.redo():this.props.undo()),null!==this.props.layers.currentIndex&&"TEXTAREA"!==e.target.nodeName)if(["Backspace","Delete"].includes(e.key))e.preventDefault(),this.props.layers.items[this.props.layers.currentIndex].canDelete&&this.props.deleteLayer();else if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)){var t=this.getCurrentLayer();if(!t)return;var r={x:t.x,y:t.y},o=e.shiftKey?10:1;switch(e.key){case"ArrowUp":r.y-=o;break;case"ArrowDown":r.y+=o;break;case"ArrowLeft":r.x-=o;break;case"ArrowRight":r.x+=o}this.props.setLayerPosition(r.x,r.y)}},this.canvasMouseDown=e=>{var t=this.getCurrentLayer(),r=e.target;if("TEXTAREA"!==r.tagName)return!!r.closest(`[data-name="${p.editorCanvasSelector}"]`)&&(!r.closest(`[data-name="${B.switchModeSelector}"]`)&&void([u.TABS.PAINT,u.TABS.FILTERS].includes(this.props.ui.currentMode)||(t&&t.type===u.LAYER_TYPES.TEXT&&t.isEdit?this.props.closeTextEditor():(this.props.ui.currentMode===u.TABS.COLOR&&this.props.settings.blur.isEnabled&&this.moveBlurStart(e),r.closest(`[data-name="${M.layerSelector}"]`)?this.layerDragStart(e):t&&this.props.setCurrentLayer(null)))))},this.moveBlurStart=e=>{window.addEventListener("mousemove",this.moveBlurProcess),window.addEventListener("mouseup",this.moveBlurFinish),this.moveBlurProcess(e)},this.moveBlurProcess=e=>{var t=(0,w.getRelativeXY)(e,document.querySelector(`[data-name="${N.imageLayerSelector}"]`)),r=t.x,o=t.y,i=t.width,a=t.height,s=[Math.max(0,Math.min(r/i,1)),1-Math.max(0,Math.min(o/a,1))];this.props.setBlurPosition(s)},this.moveBlurFinish=()=>{window.removeEventListener("mousemove",this.moveBlurProcess),window.removeEventListener("mouseup",this.moveBlurFinish)},this.getCurrentLayer=()=>{var e=this.props.layers,t=e.items,r=e.currentIndex;return null===r?r:t[r]},this.layerDragStart=e=>{window.addEventListener("mousemove",this.layerDragProcess),window.addEventListener("mouseup",this.layerDragFinish);var t,r=e.target.closest("[data-index]");t=r?Number((0,w.domData)(r,"index")):this.props.layers.currentIndex,this.props.layers.currentIndex!==t&&this.props.setCurrentLayer(t);var o=(0,w.getRelativeXY)(e,document.querySelector(`[data-name="${D.drawingLayerSelector}"]`)),i=o.x,a=o.y;if(this.currentLayer=this.getCurrentLayer(),this.currentLayer){var s=this.currentLayer;s.isBackground&&s.locked?this.props.setCurrentLayer(null):(this.clientX=e.clientX,this.clientY=e.clientY,this.shiftX=i-this.currentLayer.x,this.shiftY=a-this.currentLayer.y)}},this.layerDragProcess=e=>{if(this.currentLayer){var t=document.querySelector(`[data-name="${D.drawingLayerSelector}"]`);if(t){var r=(0,w.getRelativeXY)(e,t),o=r.x,i=r.y;if(void 0!==this.shiftX&&void 0!==this.shiftY){var a=o-this.shiftX,s=i-this.shiftY;this.props.setLayerPosition(a,s),this.props.ui.isShowDropBox||this.props.setShowDropBox(!0)}}}},this.layerDragFinish=e=>{if(window.removeEventListener("mousemove",this.layerDragProcess),window.removeEventListener("mouseup",this.layerDragFinish),this.getCurrentLayer()&&this.currentLayer&&void 0!==this.shiftX&&void 0!==this.shiftY){var t=document.querySelector(`[data-name="${D.drawingLayerSelector}"]`);if(t){var r=(0,w.getRelativeXY)(e,t),o=r.x,i=r.y,a=o-this.shiftX,s=i-this.shiftY;this.props.setLayerPosition(Math.round(a),Math.round(s)),this.props.setShowDropBox(!1),delete this.currentLayer,delete this.shiftX,delete this.shiftY,delete this.clientX,delete this.clientY}}},this.getStickerUrlById=(e,t)=>{var r=this.props.data.stickersMap[e];return r?r.sizes[t]:""},this.addSticker=(e,t)=>{var r;e.persist();var o=document.querySelector(`[data-name="${D.drawingLayerSelector}"]`);if(o){var i=(0,w.getRelativeXY)(e.nativeEvent,o),a=i.width,s=i.height;this.props.addLayerSticker({id:t,x:a/2,y:s/2,width:u.LAYER_DEFAULT_SIZE,height:u.LAYER_DEFAULT_SIZE,rotate:0,canDelete:!0,scale:1}),null==(r=this.props.data.helpers)||r.sendStat("add_sticker")}},this.prepareStickers=e=>{var t=this.props.data,r=t.artboardWidth,o=t.artboardHeight;e.forEach((e=>{var t=e.sticker.transform||{},i=t.gravity,a=void 0===i?"center":i,s=t.rotation,n=void 0===s?0:s,l=t.translation_x,d=void 0===l?0:l,c=t.translation_y,h=void 0===c?0:c,p=t.relation_width;if(d=Math.min(Math.max(d,-1),1),h=Math.min(Math.max(h,-1),1),p&&(p=Math.min(Math.max(p,.1),1)),"renderable"===e.sticker_type)this.prepareRenderableSticker(e.sticker,a,d,h,p).then((t=>{var r=t.url,o=t.x,i=t.y,a=t.stickerWidth,s=t.stickerHeight,l=t.clickableZones;this.props.addLayerImage({url:r,x:o,y:i,width:Math.round(a),height:Math.round(s),rotate:-n,clickableZones:l,canDelete:Boolean(e.sticker.can_delete),scale:1},!1)})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}));else if("native"===e.sticker_type)switch(e.sticker.action_type){case"sticker":var g=p?r*p:u.LAYER_DEFAULT_SIZE,_=p?r*p:u.LAYER_DEFAULT_SIZE,v=`${e.sticker.action.pack_id}_${e.sticker.action.sticker_id}`;if(this.props.data.stickersMap[v]){var m,f=(0,w.getPositionWithGravity)(a,r,o,g/2,_/2,d*r,h*o),y=f.x,T=f.y;this.props.addLayerSticker({id:v,x:y,y:T,width:Math.round(g),height:Math.round(_),rotate:-n,canDelete:!0,scale:1}),null==(m=this.props.data.helpers)||m.sendStat("add_sticker")}break;case"text":var S=.5;p&&(S=this.getFontSize(e.sticker.action.text,r*p,e.sticker.action.style));var E=this.getTextRect(e.sticker.action.text,S*u.FONT_SIZE_COEFFICIENT,e.sticker.action.style),x=E.width,C=E.height,P=(0,w.getPositionWithGravity)(a,r,o,x/2,C/2,d*r,h*o),k=P.x,N=P.y;this.props.addLayerText(!0,{isEdit:!0,text:e.sticker.action.text,style:e.sticker.action.style,color:e.sticker.action.selection_color,fontSize:S,initialFontSize:S,rotate:-n,scale:1,x:k,y:N}),this.props.closeTextEditor(),this.props.setCurrentLayer(null);break;case"comment":var D=e.sticker.action,B=D.postRawId,M=D.replyId,j=new R.CommentSticker(e.sticker.action);j.render().then((()=>{j.toBlob().then((t=>{var i,s,n=(0,w.getPositionWithGravity)(a,r,o,j.getWidth()/2,j.getHeight()/2,d*r,h*o),l=n.x,c=n.y,u=j.getWidth()/r,p=j.getWidth()/u,g=j.getHeight()/u;this.props.addLayerImage({url:URL.createObjectURL(t),x:l,y:c,width:Math.round(p),height:Math.round(g),rotate:0,clickableZones:[{action_type:"link",action:{link:`https://${null==(i=this.props.data)||null==(s=i.helpers)?void 0:s.getHostName()}/wall${B}?reply=${M}`,tooltip_text_key:"tooltip_open_post"},clickable_area:[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1}]}],canDelete:Boolean(e.sticker.can_delete),scale:.8},!1)})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}))})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}));break;case"answer_question":var F=new L.AnswerQuestionSticker(e.sticker.action);F.render().then((()=>{F.toBlob().then((t=>{var i=F.getHeight()/F.getWidth(),s=p?r*p:F.getWidth()/4,l=p?s*i:F.getHeight()/4,c=(0,w.getPositionWithGravity)(a,r,o,s/2,l/2,d*r,h*o),u=c.x,g=c.y;this.props.addLayerImage({url:URL.createObjectURL(t),x:u,y:g,width:Math.round(s),height:Math.round(l),rotate:-n,canDelete:Boolean(e.sticker.can_delete),scale:1},!1)})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}))})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}));break;case"ask_question_avatar":var U=new I.AskQuestionAvatar(e.sticker.action);U.render().then((()=>{U.toBlob().then((t=>{var i=U.props.size,s=U.props.size,l=(0,w.getPositionWithGravity)(a,r,o,i/2,s/2,d*r,h*o),c=l.x,u=l.y;this.props.addLayerImage({url:URL.createObjectURL(t),x:c,y:u,width:Math.round(i),height:Math.round(s),rotate:-n,canDelete:Boolean(e.sticker.can_delete),scale:1},!1)})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}))})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}));break;case"ask_question_text":var H=new O.AskQuestionText(e.sticker.action);H.render().then((()=>{H.toBlob().then((t=>{var i=H.getWidth()/4,s=H.getHeight()/4,l=(0,w.getPositionWithGravity)(a,r,o,i/2,s/2,d*r,h*o),c=l.x,u=l.y;this.props.addLayerImage({url:URL.createObjectURL(t),x:c,y:u,width:Math.round(i),height:Math.round(s),rotate:-n,canDelete:Boolean(e.sticker.can_delete),scale:1},!1)})).catch((e=>{console.error(e)}))})).catch((e=>{console.error(e)}));break;case"music":var W=e.sticker.action,G=new A.MusicSticker(W);G.render().then((()=>{G.toBlob().then((t=>{var i=G.getWidth()+198,s=r*G.getWidth()/i,n=G.getWidth()/s,l=G.getHeight()/n,d=G.getClickableHeight()/n/l,c=(0,w.getPositionWithGravity)(a,r,o,G.getWidth()/2,G.getHeight()/2,0,0),h=c.x,u=c.y;this.props.addLayerImage({url:URL.createObjectURL(t),x:h,y:u,width:s,height:l,rotate:0,clickableZones:[{action_type:"music",action:{audioOwnerId:W.audioOwnerId,audioId:W.audioId},clickable_area:[{x:0,y:0},{x:1,y:0},{x:1,y:d},{x:0,y:d}]}],canDelete:Boolean(e.sticker.can_delete),scale:1},!1)})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}))})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}));break;case"playlist":var z=e.sticker.action,Y=new b.PlaylistSticker(z);Y.render().then((()=>{Y.toBlob().then((t=>{var i=Y.getWidth()+198,s=r*Y.getWidth()/i,n=Y.getWidth()/s,l=Y.getHeight()/n,d=Y.getClickableHeight()/n/l,c=(0,w.getPositionWithGravity)(a,r,o,Y.getWidth()/2,Y.getHeight()/2,0,0),h=c.x,u=c.y;this.props.addLayerImage({url:URL.createObjectURL(t),x:h,y:u,width:s,height:l,rotate:0,clickableZones:[{action_type:"playlist",action:{playlistOwnerId:z.playlistOwnerId,playlistId:z.playlistId},clickable_area:[{x:0,y:0},{x:1,y:0},{x:1,y:d},{x:0,y:d}]}],canDelete:Boolean(e.sticker.can_delete),scale:1},!1)})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}))})).catch((e=>{var t,r;null==(t=this.props.data)||null==(r=t.helpers)||r.logError(e,{environment:"photoEditor"})}))}}))},this.prepareRenderableSticker=(e,t,r,o,i)=>{var a=this.props.data,s=a.artboardWidth,n=a.artboardHeight,l=a.originalWidth/s;return new Promise(((a,d)=>{"string"!=typeof e.url&&"string"!=typeof e.blob&&d();var c=e.url||e.blob||"";(0,k.loadImage)(c).then((d=>{var h=d.height/d.width,u=0,p=0;i?p=(u=s*i)*h:(u=d.width/l,p=d.height/l,u>s&&(p=(u=s)*h));var g,_=(0,w.getPositionWithGravity)(t,s,n,u/2,p/2,r*s,o*n),v=_.x,m=_.y;e.clickable_zones&&(g=e.clickable_zones.map((e=>{var t;return t=e.clickable_area?e.clickable_area.map((e=>({x:e.x/d.width,y:e.y/d.height}))):[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1}],F({},e,{clickable_area:t})}))),a({url:c,x:v,y:m,stickerWidth:u,stickerHeight:p,clickableZones:g})})).catch((()=>{d()}))}))},this.getTextRect=(e,t,r)=>{var o=document.createElement("span");o.innerHTML=(0,w.clean)(e),o.style.display="inline-block",o.style.fontSize=`${t}px`,o.style.lineHeight="1em",o.style.whiteSpace="pre";var i=(0,w.getComputedFontFamily)(r);i&&o.classList.add(i),document.body.appendChild(o);var a=o.getBoundingClientRect();return o.remove(),a},this.getFontSize=(e,t,r)=>{var o=2*t,i=document.createElement("span");for(i.innerHTML=(0,w.clean)(e),i.style.display="inline-block",i.style.width=`${t}px`,i.style.fontSize=`${o}px`,i.style.lineHeight="1em",i.style.whiteSpace="pre",r&&i.classList.add(`PhotoEditorFontStyle--${r}`),document.body.appendChild(i);o&&i.scrollWidth>Math.round(t);)o--,i.style.fontSize=`${o}px`;return i.remove(),o/100},this.uploadPhoto=()=>{var e;null==(e=this.inputFile.current)||e.click()},this.setMode=e=>{var t=this.props.ui,r=this.props.background,o=r.currentBackgroundType,i=r.currentPhotoUrl;this.props.setCurrentLayer(null),e===u.BACKGROUND_MODES.PHOTO&&!i||o===u.BACKGROUND_MODES.PHOTO&&o===e?this.uploadPhoto():(this.props.setBackgroundType(e),e===u.BACKGROUND_MODES.BACKGROUND&&[u.TABS.COLOR,u.TABS.FILTERS].includes(t.currentMode)&&this.props.setMode(u.TABS.STICKERS))},this.handleChooseFile=e=>{var t,r=null==(t=e.target.files)?void 0:t.item(0);if(r){var o=URL.createObjectURL(r);(0,k.loadImage)(o).then((()=>{(0,w.getOrientation)(r).then((e=>{-1===e||-2===e||1===e?(this.props.setCurrentPhotoUrl(o),this.props.setBackgroundType(u.BACKGROUND_MODES.PHOTO,!1)):(0,w.resetOrientation)(o,e).then((e=>{this.props.setCurrentPhotoUrl(e),this.props.setBackgroundType(u.BACKGROUND_MODES.PHOTO,!1)})).catch((()=>{}))})).catch((()=>{}))})).catch((()=>{var e,t,r,o,i,a;null==(e=this.props.data)||null==(t=e.helpers)||t.showErrorBox({title:null==(r=this.props.data)||null==(o=r.langMap)?void 0:o.global_error},null==(i=this.props.data)||null==(a=i.langMap)?void 0:a.stories_create_image_incorrect)}))}else console.error("File not found")},this.inputFile=(0,i.createRef)()}setBackground(e,t,r){var o,i=e.advice_gradients,a=e.colors;void 0===r&&(r=!0);var s=u.BACKGROUND_MODES.PHOTO;this.props.data.context===u.CONTEXT_TYPES.STORY&&(s=this.props.data.photoUrl?u.BACKGROUND_MODES.PHOTO:u.BACKGROUND_MODES.BACKGROUND),this.props.setBackgroundType(s,r),this.props.data.photoUrl&&this.props.setCurrentPhotoUrl(this.props.data.photoUrl,r);var n,l,d=[...i,...a];t?n=t:n=(null==(l=d[Math.floor(Math.random()*d.length)])?void 0:l.id)||0;return this.props.setCurrentBackgroundId(n,r),null==(o=this.props.data.helpers)||o.sendStat("select_background"),n}}var H=Object.assign(s.ActionCreators,{setMode:n.setMode,addLayerSticker:l.addLayerSticker,addLayerText:l.addLayerText,addLayerImage:l.addLayerImage,setLayerPosition:l.setLayerPosition,deleteLayer:l.deleteLayer,setCurrentLayer:l.setCurrentLayer,setDataLoaded:n.setDataLoaded,setShowDropBox:n.setShowDropBox,setSaveLoading:n.setSaveLoading,closeTextEditor:l.closeTextEditor,setData:d.setData,setBlurPosition:c.setBlurPosition,setBackgroundType:h.setBackgroundType,setCurrentPhotoUrl:h.setCurrentPhotoUrl,setCurrentBackgroundId:h.setCurrentBackgroundId}),W=(0,a.connect)((e=>((0,j.undoRedoStatus)({canUndo:e.past.length>0,canRedo:e.future.length>0}),{ui:e.present.ui,settings:e.present.settings,layers:e.present.layers,drawings:e.present.drawings,background:e.present.background,data:e.present.data})),H,null,{forwardRef:!0})(U)},49664:(e,t,r)=>{"use strict";r.d(t,{ColorCorrectionPanel:()=>_});r(319601);var o=r(785893),i=r(667294),a=r(50533),s=r(425657),n=r(86894),l=r(418586),d=r(270640),c=r(431588),h=r(639481),u=r(15636);class p extends i.Component{render(){var e=this.props,t=e.settings,r=e.setColorCorrection,i=e.langMap;return(0,o.jsxs)("div",Object.assign({className:u.default.root},{children:[(0,o.jsxs)("div",Object.assign({className:u.default.items},{children:[(0,o.jsxs)("div",Object.assign({className:u.default.item},{children:[(0,o.jsx)("span",Object.assign({className:u.default.itemName},{children:null==i?void 0:i.photos_pe_correction_exposure}),void 0),(0,o.jsx)(c.Slider,{min:-1,max:1,gravity:2,isShowHandle:!0,isShowZero:!0,value:t.colorCorrection.exposure,onChange:e=>r("exposure",e),formatHint:e=>Math.round(100*e)},void 0)]}),void 0),(0,o.jsxs)("div",Object.assign({className:u.default.item},{children:[(0,o.jsx)("span",Object.assign({className:u.default.itemName},{children:null==i?void 0:i.photos_pe_correction_contrast}),void 0),(0,o.jsx)(c.Slider,{min:-1,max:1,gravity:2,isShowHandle:!0,isShowZero:!0,value:t.colorCorrection.contrast,onChange:e=>r("contrast",e),formatHint:e=>Math.round(100*e)},void 0)]}),void 0),(0,o.jsxs)("div",Object.assign({className:u.default.item},{children:[(0,o.jsx)("span",Object.assign({className:u.default.itemName},{children:null==i?void 0:i.photos_pe_correction_saturation}),void 0),(0,o.jsx)(c.Slider,{min:-1,max:1,gravity:2,isShowHandle:!0,isShowZero:!0,value:t.colorCorrection.saturation,onChange:e=>r("saturation",e),formatHint:e=>Math.round(100*e)},void 0)]}),void 0),(0,o.jsxs)("div",Object.assign({className:u.default.item},{children:[(0,o.jsx)("span",Object.assign({className:u.default.itemName},{children:null==i?void 0:i.photos_pe_correction_warmth}),void 0),(0,o.jsx)(c.Slider,{min:-1,max:1,gravity:2,isShowHandle:!0,isShowZero:!0,value:t.colorCorrection.warmth,onChange:e=>r("warmth",e),formatHint:e=>Math.round(100*e)},void 0)]}),void 0),(0,o.jsxs)("div",Object.assign({className:u.default.item},{children:[(0,o.jsx)("span",Object.assign({className:u.default.itemName},{children:null==i?void 0:i.photos_pe_correction_vignette}),void 0),(0,o.jsx)(c.Slider,{min:-1,max:1,gravity:2,isShowHandle:!0,isShowZero:!0,value:t.colorCorrection.vignette,onChange:e=>r("vignette",e),formatHint:e=>Math.round(100*e)},void 0)]}),void 0),(0,o.jsxs)("div",Object.assign({className:u.default.item},{children:[(0,o.jsx)("span",Object.assign({className:u.default.itemName},{children:null==i?void 0:i.photos_pe_correction_sharpness}),void 0),(0,o.jsx)(c.Slider,{min:0,max:1,gravity:2,isShowHandle:!0,isShowZero:!0,value:t.colorCorrection.sharpness,onChange:e=>r("sharpness",e),formatHint:e=>Math.round(100*e)},void 0)]}),void 0),(0,o.jsxs)("div",Object.assign({className:u.default.item},{children:[(0,o.jsx)("span",Object.assign({className:u.default.itemName},{children:null==i?void 0:i.photos_pe_correction_grain}),void 0),(0,o.jsx)(c.Slider,{min:0,max:1,gravity:2,isShowHandle:!0,isShowZero:!0,value:t.colorCorrection.grain,onChange:e=>r("grain",e),formatHint:e=>Math.round(100*e)},void 0)]}),void 0)]}),void 0),(0,o.jsx)("div",Object.assign({className:u.default.link},{children:this.renderAutoCorrectionPanel()}),void 0),(0,o.jsx)("div",Object.assign({className:u.default.link},{children:this.renderBlurPanel()}),void 0)]}),void 0)}renderAutoCorrectionPanel(){var e=this.props,t=e.settings,r=e.setAutoCorrection,i=e.helpers,a=e.langMap,s=e=>{e?null==i||i.sendStat("enable_autocorrection"):null==i||i.sendStat("disable_autocorrection"),r(e)};return t.isAutoCorrection?(0,o.jsx)("div",Object.assign({className:u.default.box},{children:(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:null==a?void 0:a.photos_pe_correction_auto_enabled}},void 0),(0,o.jsx)("span",{className:u.default.dvd},void 0),(0,o.jsx)(n.Link,Object.assign({onClick:()=>s(!1)},{children:null==a?void 0:a.photos_pe_cancel}),void 0)]},void 0)}),void 0):(0,o.jsx)(n.Button,Object.assign({mode:"tertiary",size:"s",before:(0,o.jsx)(l.default,{className:u.default.icon},void 0),onClick:()=>s(!0)},{children:null==a?void 0:a.photos_pe_correction_auto}),void 0)}renderBlurPanel(){var e=this.props,t=e.settings,r=e.setBlurEnable,i=e.setBlurForm,a=e.setBlurSize,s=e.helpers,l=e.langMap,p=t.blur,g=e=>{e?null==s||s.sendStat("enable_blur"):null==s||s.sendStat("disable_blur"),r(e)},_=[{label:null==l?void 0:l.photos_pe_correction_blur_type_round,value:h.BLUR_TYPES.ROUND},{label:null==l?void 0:l.photos_pe_correction_blur_type_rec,value:h.BLUR_TYPES.RECTANGULAR}];return p.isEnabled?(0,o.jsxs)("div",Object.assign({className:u.default.box},{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:null==l?void 0:l.photos_pe_correction_blur_enabled}},void 0),(0,o.jsx)("span",{className:u.default.dvd},void 0),(0,o.jsx)(n.Link,Object.assign({onClick:()=>g(!1)},{children:null==l?void 0:l.photos_pe_cancel}),void 0)]},void 0),(0,o.jsx)("div",Object.assign({className:u.default.slider},{children:(0,o.jsx)(c.Slider,{min:0,max:100,gravity:2,isShowHandle:!0,isShowZero:!0,value:t.blur.size,onChange:e=>a(e),formatHint:e=>Math.round(e)},void 0)}),void 0),(0,o.jsx)(n.CustomSelect,{className:u.default.select,value:p.form,options:_,onChange:e=>i(String(e.target.value))},void 0)]}),void 0):(0,o.jsx)(n.Button,Object.assign({mode:"tertiary",size:"s",before:(0,o.jsx)(d.default,{className:u.default.icon},void 0),onClick:()=>g(!0)},{children:null==l?void 0:l.photos_pe_correction_blur}),void 0)}}var g={setColorCorrection:s.setColorCorrection,setBlurEnable:s.setBlurEnable,setBlurForm:s.setBlurForm,setBlurSize:s.setBlurSize,setAutoCorrection:s.setAutoCorrection},_=(0,a.connect)((e=>({settings:e.present.settings,helpers:e.present.data.helpers,langMap:e.present.data.langMap})),g)(p)},999792:(e,t,r)=>{"use strict";r.d(t,{CropControls:()=>y});r(226699),r(66992),r(821249),r(319601),r(241539),r(132023),r(333948),r(560285);var o=r(785893),i=r(667294),a=r(425657),s=r(657304),n=r(50533),l=r(262782),d=r(986672),c=r(659397),h=r(792072),u=r(86894),p=r(639481),g=r(332582);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_.apply(this,arguments)}var v=(e,t,r)=>{[p.CROP_ASPECT_ORIGINAL,p.CROP_ASPECT_FREE].includes(e)&&(e=t/r);var o=t,i=o/e;return i>r&&(o=(i=r)*e),{x:t/2-o/2,y:r/2-i/2,width:o,height:i}};class m extends i.Component{constructor(e){super(e),this.controlMouseDown=(e,t)=>{e.stopPropagation();var r=this.areaEl.current;if(r){window.addEventListener("mousemove",this.controlMouseMove),window.addEventListener("mouseup",this.controlMouseUp);var o=(0,d.getRelativeXY)(e.nativeEvent,r),i=o.x,a=o.y;this.shiftX=i,this.shiftY=a,this.initCrop=this.state,this.side=t}},this.controlMouseMove=e=>{var t=this.containerEl.current;if(t&&void 0!==this.shiftX&&void 0!==this.shiftY&&void 0!==this.initCrop&&void 0!==this.side){var r=this.state,o=this.props,i=o.artboardWidth,a=o.artboardHeight,s=o.cropAspect,n=s===p.CROP_ASPECT_ORIGINAL?i/a:s,l=(0,d.getRelativeXY)(e,t),c=l.x,h=l.y,u=l.width,g=l.height,_=r.x,v=r.y,m=r.width,f=r.height,y=p.CROP_MIN_SIZE,T=p.CROP_MIN_SIZE;if(n&&(n>1?y=p.CROP_MIN_SIZE*n:n<1&&(T=p.CROP_MIN_SIZE/n)),this.side===p.CROP_SIDES.CENTER)_=Math.min(Math.max(0,c-this.shiftX),u-m),v=Math.min(Math.max(0,h-this.shiftY),g-f);else{var S=Math.max(0,c-this.shiftX),E=Math.max(0,h-this.shiftY);switch(this.side){case p.CROP_SIDES.S:f=h-v-(this.shiftY-this.initCrop.height);break;case p.CROP_SIDES.N:f-=(v=E)-r.y;break;case p.CROP_SIDES.W:m-=(_=S)-r.x;break;case p.CROP_SIDES.E:m=c-_-(this.shiftX-this.initCrop.width);break;case p.CROP_SIDES.NW:v=E,m-=(_=S)-r.x,f-=v-r.y;break;case p.CROP_SIDES.NE:v=E,m=c-_-(this.shiftX-this.initCrop.width),f-=v-r.y;break;case p.CROP_SIDES.SW:m-=(_=S)-r.x,f=h-v-(this.shiftY-this.initCrop.height);break;case p.CROP_SIDES.SE:m=c-_-(this.shiftX-this.initCrop.width),f=h-v-(this.shiftY-this.initCrop.height)}if(n){var x=Math.min(m,u-_)/n;if([p.CROP_SIDES.NW,p.CROP_SIDES.NE].includes(this.side)&&(v=Math.max(0,v+f-x)),g-(v+x)<0)return;f=x}m=Math.min(Math.max(y,m),u-_),f=Math.min(Math.max(T,f),g-v),m-y<=0&&(_=r.x,m=r.width),f-T<=0&&(v=r.y,f=r.height)}this.setState({x:_,y:v,width:m,height:f})}},this.controlMouseUp=()=>{window.removeEventListener("mousemove",this.controlMouseMove),window.removeEventListener("mouseup",this.controlMouseUp),delete this.shiftX,delete this.shiftY,delete this.initCrop,delete this.side},this.cropImage=()=>{var e=this.state,t=e.width,r=e.height,o=e.x,i=e.y,a=this.props,s=a.currentBackgroundUrl,n=a.artboardWidth,l=a.artboardHeight;this.setState({isButtonDisable:!0});var d=document.createElement("canvas"),c=d.getContext("2d");c&&h.imageCacheGlobal.get(s).then((e=>{var a=e.width/n,s=e.height/l;d.width=t*a,d.height=r*s,c.drawImage(e,o*a,i*s,t*a,r*s,0,0,d.width,d.height),d.toBlob((e=>{this.props.setCrop({url:URL.createObjectURL(e),isCropped:!0,data:{artboardWidth:t,originalWidth:d.width,originalHeight:d.height,addons:_({},this.props.addons,{photoHeight:r})},layers:this.props.layers.items.map((e=>_({},e,{x:e.x-o,y:e.y-i}))),drawings:this.props.drawings.map((e=>_({},e,{path:e.path.map((e=>[e[0]-o,e[1]-i]))})))}),this.reset(t,r)}),"image/jpeg",1)})).catch((e=>{console.error(e)}))},this.reset=(e,t)=>{this.props.setAspect(p.CROP_ASPECT_FREE),this.setState({x:0,y:0,width:e,height:t,isButtonDisable:!1})},this.containerEl=(0,i.createRef)(),this.areaEl=(0,i.createRef)();var t=e.cropAspect,r=e.artboardWidth,o=e.artboardHeight;this.state=_({isButtonDisable:!1},v(t,r,o))}shouldComponentUpdate(e){return e.cropAspect===this.props.cropAspect&&e.artboardWidth===this.props.artboardWidth&&e.artboardHeight===this.props.artboardHeight||this.setState(v(e.cropAspect,e.artboardWidth,e.artboardHeight)),!0}render(){var e=this.props,t=e.artboardWidth,r=e.artboardHeight,i=e.langMap,a=this.state,s=a.x,n=a.y,l=a.width,d=a.height,h=a.isButtonDisable,_=l<210,v=_?100:60,m=(0,c.classNames)(g.default.buttons,n+d+v>=r&&g.default.buttonsTop,_&&g.default.buttonsSmall),f=0!==s||0!==n||l!==t||d!==r;return(0,o.jsx)("div",Object.assign({className:g.default.root,ref:this.containerEl},{children:(0,o.jsxs)("div",Object.assign({className:g.default.inner,ref:this.areaEl,style:{top:n,left:s,width:l,height:d}},{children:[f&&(0,o.jsxs)("div",Object.assign({className:m},{children:[(0,o.jsx)(u.Button,Object.assign({size:"s",className:(0,c.classNames)(_&&g.default.buttonSmall),mode:"secondary",appearance:"overlay",onClick:()=>this.reset(this.props.artboardWidth,this.props.artboardHeight)},{children:null==i?void 0:i.photos_pe_crop_cancel}),void 0),(0,o.jsx)("div",{className:g.default.separator},void 0),(0,o.jsx)(u.Button,Object.assign({size:"s",className:(0,c.classNames)(_&&g.default.buttonSmall),onClick:this.cropImage,appearance:"overlay",disabled:h},{children:null==i?void 0:i.photos_pe_crop_apply}),void 0)]}),void 0),(0,o.jsxs)("div",Object.assign({className:g.default.grid,onMouseDown:e=>this.controlMouseDown(e,p.CROP_SIDES.CENTER)},{children:[(0,o.jsx)("div",{className:(0,c.classNames)(g.default.line,g.default.lineV),style:{left:"33.3333%"}},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.line,g.default.lineV),style:{left:"66.6666%"}},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.line,g.default.lineH),style:{top:"33.3333%"}},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.line,g.default.lineH),style:{top:"66.6666%"}},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.handleCorner,g.default.handleCornerNw),onMouseDown:e=>this.controlMouseDown(e,p.CROP_SIDES.NW)},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.handleCorner,g.default.handleCornerNe),onMouseDown:e=>this.controlMouseDown(e,p.CROP_SIDES.NE)},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.handleCorner,g.default.handleCornerSw),onMouseDown:e=>this.controlMouseDown(e,p.CROP_SIDES.SW)},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.handleCorner,g.default.handleCornerSe),onMouseDown:e=>this.controlMouseDown(e,p.CROP_SIDES.SE)},void 0),this.props.cropAspect===p.CROP_ASPECT_FREE&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:(0,c.classNames)(g.default.handle,g.default.handleN),onMouseDown:e=>this.controlMouseDown(e,p.CROP_SIDES.N)},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.handle,g.default.handleS),onMouseDown:e=>this.controlMouseDown(e,p.CROP_SIDES.S)},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.handle,g.default.handleW),onMouseDown:e=>this.controlMouseDown(e,p.CROP_SIDES.W)},void 0),(0,o.jsx)("div",{className:(0,c.classNames)(g.default.handle,g.default.handleE),onMouseDown:e=>this.controlMouseDown(e,p.CROP_SIDES.E)},void 0)]},void 0)]}),void 0)]}),void 0)}),void 0)}}var f={setAspect:a.setAspect,setCrop:s.setCrop},y=(0,n.connect)((e=>({currentBackgroundUrl:(0,l.getCurrentImageUrl)(e),cropAspect:e.present.settings.cropAspect,addons:e.present.data.addons,layers:e.present.layers,drawings:e.present.drawings,langMap:e.present.data.langMap})),f)(m)},793815:(e,t,r)=>{"use strict";r.d(t,{CropPanel:()=>S});r(66992),r(821249),r(319601),r(241539),r(333948),r(560285);var o=r(785893),i=r(667294),a=r(50533),s=r(262782),n=r(657304),l=r(425657),d=r(659397),c=r(792072),h=r(322298),u=r(777163),p=r(318422),g=r(402255),_=r(86894),v=r(639481),m=r(643617);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},f.apply(this,arguments)}class y extends i.Component{constructor(){super(...arguments),this.flip=(e,t)=>{var r=document.createElement("canvas"),o=null==r?void 0:r.getContext("2d"),i=this.props.currentBackgroundUrl;o&&c.imageCacheGlobal.get(i).then((i=>{r.width=i.width,r.height=i.height,e?(o.translate(r.width,0),o.scale(-1,1)):t&&(o.translate(0,r.height),o.scale(1,-1)),o.drawImage(i,0,0),r.toBlob((r=>{var o={url:URL.createObjectURL(r)};e&&(o.flipX=!this.props.flipX),t&&(o.flipY=!this.props.flipY),this.props.setCrop(o)}),"image/jpeg",1)})).catch((e=>{console.error(e)}))},this.rotate=e=>{var t=document.createElement("canvas"),r=null==t?void 0:t.getContext("2d"),o=this.props,i=o.currentBackgroundUrl,a=o.originalWidth,s=o.originalHeight;r&&c.imageCacheGlobal.get(i).then((o=>{t.width=o.height,t.height=o.width;var i=e?-90:90;r.translate(t.width/2,t.height/2),r.rotate(i*Math.PI/180),r.drawImage(o,-o.width/2,-o.height/2),t.toBlob((e=>{var r,o,n,l=t.height/t.width,c=((0,d.isNumber)(this.props.rotate)?this.props.rotate:0)+i;this.props.rotate>c?null==(o=this.props.helpers)||o.sendStat("turn_left"):null==(n=this.props.helpers)||n.sendStat("turn_right");var h,u,p=(null==(r=this.props.data)?void 0:r.showStatusActions)?v.BOTTOM_PANEL_HEIGHT:0,g=this.props.data.imageContainerWidth,_=this.props.data.imageContainerHeight?this.props.data.imageContainerHeight-p:this.props.data.artboardHeight;l>=.67?(h=_/l,u=_):(h=g,u=g*l),this.props.setCrop({url:URL.createObjectURL(e),data:{artboardWidth:h,originalWidth:s,originalHeight:a,addons:f({},this.props.addons,{photoHeight:u})},rotate:c>270?0:c})}),"image/jpeg",1)})).catch((e=>{console.error(e)}))}}render(){var e=this.props.langMap;return(0,o.jsxs)("div",Object.assign({className:m.default.root},{children:[(0,o.jsx)("span",Object.assign({className:m.default.title},{children:null==e?void 0:e.photos_pe_crop_aspect_title}),void 0),(0,o.jsx)("ul",Object.assign({className:m.default.tabs},{children:v.CROP_ASPECTS.map((t=>{var r=(0,d.classNames)(m.default.tabsButton,this.props.cropAspect===t.value&&m.default.tabsButtonActive);return(0,o.jsx)("li",Object.assign({className:m.default.tabsItem},{children:(0,o.jsx)("button",Object.assign({className:r,onClick:()=>this.props.setAspect(t.value)},{children:e&&e[t.title]}),void 0)}),t.title)}))}),void 0),(0,o.jsxs)("ul",Object.assign({className:m.default.settings},{children:[(0,o.jsx)("li",Object.assign({className:m.default.settingsItem},{children:(0,o.jsx)(_.Button,Object.assign({mode:"tertiary",size:"s",before:(0,o.jsx)(h.default,{},void 0),onClick:()=>this.rotate(!1)},{children:null==e?void 0:e.photos_pe_rotate_right}),void 0)}),void 0),(0,o.jsx)("li",Object.assign({className:m.default.settingsItem},{children:(0,o.jsx)(_.Button,Object.assign({mode:"tertiary",size:"s",before:(0,o.jsx)(u.default,{},void 0),onClick:()=>this.rotate(!0)},{children:null==e?void 0:e.photos_pe_rotate_left}),void 0)}),void 0),(0,o.jsx)("li",Object.assign({className:m.default.settingsItem},{children:(0,o.jsx)(_.Button,Object.assign({mode:"tertiary",size:"s",before:(0,o.jsx)(p.default,{},void 0),onClick:()=>this.flip(!0,!1)},{children:null==e?void 0:e.photos_pe_flip_horizontal}),void 0)}),void 0),(0,o.jsx)("li",Object.assign({className:m.default.settingsItem},{children:(0,o.jsx)(_.Button,Object.assign({mode:"tertiary",size:"s",before:(0,o.jsx)(g.default,{},void 0),onClick:()=>this.flip(!1,!0)},{children:null==e?void 0:e.photos_pe_flip_vertical}),void 0)}),void 0)]}),void 0)]}),void 0)}}var T={setCrop:n.setCrop,setAspect:l.setAspect},S=(0,a.connect)((e=>({flipX:e.present.settings.flipX,flipY:e.present.settings.flipY,rotate:e.present.settings.rotation,cropAspect:e.present.settings.cropAspect,currentBackgroundUrl:(0,s.getCurrentImageUrl)(e),addons:e.present.data.addons,artboardWidth:e.present.data.artboardWidth,artboardHeight:e.present.data.artboardHeight,originalWidth:e.present.data.originalWidth,originalHeight:e.present.data.originalHeight,helpers:e.present.data.helpers,langMap:e.present.data.langMap,data:e.present.data})),T)(y)},508155:(e,t,r)=>{"use strict";r.d(t,{DrawPanel:()=>g});r(319601);var o=r(785893),i=r(667294),a=r(50533),s=r(425657),n=r(713924),l=r(986672),d=r(431588),c=r(639481),h=r(739223);class u extends i.Component{constructor(e){super(e),this.componentDidMount=()=>{this.updateDrawingPreview()},this.render=()=>{var e=this.props,t=e.settings,r=e.setColor,i=e.setBrushWidth,a=e.setBrushOpacity,s=e.avgColor,l=e.langMap;return this.updateDrawingPreview(),(0,o.jsxs)("div",Object.assign({className:h.default.root},{children:[(0,o.jsx)("canvas",{ref:this.previewCanvas,width:c.DRAWING_PREVIEW_WIDTH*c.CANVAS_SCALE,height:c.DRAWING_PREVIEW_HEIGHT*c.CANVAS_SCALE,style:{width:c.DRAWING_PREVIEW_WIDTH,height:c.DRAWING_PREVIEW_HEIGHT}},void 0),(0,o.jsxs)("div",Object.assign({className:h.default.sliders},{children:[(0,o.jsxs)("div",Object.assign({className:h.default.slider},{children:[(0,o.jsx)("div",Object.assign({className:h.default.title},{children:null==l?void 0:l.photos_pe_intensity}),void 0),(0,o.jsx)(d.Slider,{min:0,max:1,isShowHandle:!0,defaultValue:t.brushOpacity,formatHint:e=>`${Math.round(100*e)}%`,onChange:e=>a(e)},void 0)]}),void 0),(0,o.jsxs)("div",Object.assign({className:h.default.slider},{children:[(0,o.jsx)("div",Object.assign({className:h.default.title},{children:null==l?void 0:l.photos_pe_line_width}),void 0),(0,o.jsx)(d.Slider,{min:0,max:1,isShowHandle:!0,defaultValue:t.brushWidth,formatHint:e=>`${Math.round(100*e)}%`,onChange:e=>i(e)},void 0)]}),void 0)]}),void 0),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",Object.assign({className:h.default.title},{children:null==l?void 0:l.photos_pe_color}),void 0),(0,o.jsx)(n.ColorPicker,{color:t.color,avgColor:s,setColor:r},void 0)]},void 0)]}),void 0)},this.updateDrawingPreview=()=>{var e=this.previewCanvas.current,t=this.props.settings;if(e){var r=e.getContext("2d");if(r){var o=r.canvas,i=o.width,a=o.height;r.clearRect(0,0,i,a);var s=c.CANVAS_SCALE,n=new Path2D(`M${69*s} ${65*s}L${93*s} ${41*s}L${121*s} ${69*s}L${149*s} ${41*s}L${177*s} ${69*s}L${201*s} ${45*s}`),d="#FFFFFF"===t.color?"#F1F1F1":t.color;r.lineWidth=t.brushWidth*c.BRUSH_WIDTH_COEFFICIENT*s,r.strokeStyle=(0,l.hexToRgba)(d,t.brushOpacity),r.lineJoin=r.lineCap="round",r.stroke(n)}}},this.previewCanvas=(0,i.createRef)()}}var p={setColor:s.setColor,setBrushWidth:s.setBrushWidth,setBrushOpacity:s.setBrushOpacity},g=(0,a.connect)((e=>({settings:e.present.settings,drawings:e.present.drawings,avgColor:e.present.layers.items[0].avgColor,langMap:e.present.data.langMap})),p)(u)},647446:(e,t,r)=>{"use strict";r.d(t,{drawingLayerSelector:()=>u,DrawingLayer:()=>_});r(454747);var o=r(785893),i=r(667294),a=r(50533),s=r(465858),n=r(197419),l=r(986672),d=r(659397),c=r(639481),h=r(802383),u="photo-editor-drawing-layer";class p extends i.PureComponent{constructor(e){super(e),this.renderDrawings=()=>{var e=this.props.drawings,t=this.canvas.current;if(t){var r=t.getContext("2d");if(r){var o=this.props.data.originalHeight/this.props.height;r.clearRect(0,0,t.width,t.height),r.lineCap="round",r.lineJoin="round",e.forEach((e=>{r.lineWidth=e.width*c.BRUSH_WIDTH_COEFFICIENT*o,r.strokeStyle=(0,l.hexToRgba)(e.color,e.opacity),r.beginPath(),r.moveTo(e.path[0][0]*o,e.path[0][1]*o),e.path.forEach((e=>{r.lineTo(e[0]*o,e[1]*o)})),r.stroke()}))}}},this.drawStart=e=>{var t;if(this.props.ui.currentMode===c.TABS.PAINT){window.addEventListener("mousemove",this.drawProcess),window.addEventListener("mouseup",this.drawFinish);var r=(0,l.getRelativeXY)(e.nativeEvent,this.canvas.current),o=r.x,i=r.y;this.currentDrawing=[[o,i]];var a=this.props.settings;this.props.addDrawing({color:a.color,width:a.brushWidth,opacity:a.brushOpacity,path:this.currentDrawing}),null==(t=this.props.data.helpers)||t.sendStat("add_graffiti"),this.renderDrawings()}},this.drawProcess=e=>{var t=(0,l.getRelativeXY)(e,this.canvas.current),r=t.x,o=t.y;this.currentDrawing.push([r,o]),this.renderDrawings()},this.drawFinish=()=>{window.removeEventListener("mousemove",this.drawProcess),window.removeEventListener("mouseup",this.drawFinish),this.currentDrawing=[]},this.canvas=(0,i.createRef)(),this.currentDrawing=[]}render(){var e=this.props,t=e.data,r=e.width,i=e.height,a=e.ui,s=(0,d.classNames)(h.default.canvas,h.default.draw,a.currentMode!==c.TABS.PAINT&&h.default.disabled);return(0,o.jsx)("canvas",{ref:this.canvas,className:s,onMouseDown:this.drawStart,width:t.originalWidth,height:t.originalHeight,"data-name":u,style:{width:r,height:i}},void 0)}componentDidMount(){this.renderDrawings()}componentDidUpdate(){this.renderDrawings()}}var g={addDrawing:s.addDrawing,addLayerText:n.addLayerText},_=(0,a.connect)((e=>({ui:e.present.ui,settings:e.present.settings,drawings:e.present.drawings,data:e.present.data})),g)(p)},997284:(e,t,r)=>{"use strict";r.d(t,{editorCanvasSelector:()=>C,EditorCanvas:()=>R});r(226699),r(66992),r(319601),r(132023),r(333948);var o=r(785893),i=r(667294),a=r(973935),s=r(50533),n=r(262782),l=r(277342),d=r(197419),c=r(647446),h=r(169192),u=r(713100),p=r(999792),g=r(619173),_=r(359952),v=r(759212),m=r(939922),f=r(847829),y=r(659397),T=r(943302),S=r(815204),E=r(601352),x=r(639481),w=r(588133),C="editor-canvas";class b extends i.Component{constructor(){super(...arguments),this.render=()=>{var e=this.props.data.artboardContainer;return e?a.createPortal(this.renderCanvas(),e):this.renderCanvas()},this.renderCanvas=()=>{var e,t,r,a,s=this.props,n=s.layers,l=s.background,d=s.data,b=s.ui,I=s.settings,R=s.langMap,O=d.addons,A=d.artboardWidth,L=d.artboardHeight,P=d.attachment,k=this.props.layers,N=k.currentIndex,D=k.items,B=null!==N&&D[N],M=!n.items[0].locked,j=B&&B.type===x.LAYER_TYPES.TEXT&&B.isEdit,F=this.props.ui.isDataLoaded&&this.props.data.context===x.CONTEXT_TYPES.STORY,U=this.props.marginTop,H=L;O&&O.photoHeight&&(H=O.photoHeight);var W=(0,y.classNames)(w.default.root,x.TABS.COLOR===b.currentMode&&I.blur.isEnabled&&w.default.blurCursor);return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsxs)("div",Object.assign({style:{width:A,height:H,marginTop:U},"data-name":C,className:W},{children:[this.props.ui.isDataLoaded&&b.currentMode===x.TABS.CROP&&(0,o.jsx)(p.CropControls,{artboardWidth:A,artboardHeight:H},void 0),(0,o.jsx)(g.Layers,{setLayerScale:this.props.setLayerScale,startLayerScale:this.props.startLayerScale,toggleTextEditor:this.props.toggleTextEditor,currentMode:this.props.ui.currentMode,getStickerUrlById:this.props.getStickerUrlById,layers:n},void 0),j&&B?(0,o.jsx)(_.EditorText,{layer:B,onChange:this.onChangeText,closeTextEditor:this.props.closeTextEditor,sendStat:null==(e=this.props.data.helpers)?void 0:e.sendStat},void 0):F&&(0,o.jsxs)(i.Fragment,{children:[!!P&&!b.isShowDropBox&&(0,o.jsx)(f.RichTooltip,Object.assign({content:null==R?void 0:R.photos_pe_attached_post},{children:(0,o.jsx)("span",Object.assign({className:w.default.postIcon},{children:(0,o.jsx)(T.default,{},void 0)}),void 0)}),void 0),!b.isShowDropBox&&!this.props.data.locked&&this.props.background.currentBackgroundType===x.BACKGROUND_MODES.PHOTO&&[x.TABS.STICKERS,x.TABS.TEXT].includes(this.props.ui.currentMode)&&(0,o.jsx)("button",Object.assign({className:w.default.scaleButton,onClick:this.onClickScaleButton},{children:M?(0,o.jsx)(S.default,{},void 0):(0,o.jsx)(E.default,{},void 0)}),void 0),!b.isShowDropBox&&(0,o.jsx)(v.SwitchMode,{current:l.currentBackgroundType,setMode:this.props.setMode,sendStat:null==(t=this.props.data)||null==(r=t.helpers)?void 0:r.sendStat},void 0)]},void 0),b.isShowDropBox&&B&&B.canDelete&&(0,o.jsx)(m.DropBox,{onDelete:this.props.deleteLayer},void 0),this.props.ui.isDataLoaded&&(0,o.jsx)(c.DrawingLayer,{width:A,height:H},void 0),this.props.ui.isDataLoaded&&(0,o.jsx)(h.ImageLayer,{width:A,height:H},void 0)]}),void 0),this.props.ui.isDataLoaded&&(null==(a=this.props.data)?void 0:a.showStatusActions)&&(0,o.jsx)(u.StatusPanel,{currentBackgroundId:l.currentBackgroundId,setCurrentBackgroundId:this.props.setCurrentBackgroundId,currentBackgroundType:l.currentBackgroundType,uploadPhoto:this.props.uploadPhoto,backgrounds:this.props.data.backgrounds},void 0)]},void 0)},this.onClickScaleButton=()=>{var e,t,r=this.props.layers.items[0],o={},i=this.props.data,a=i.artboardWidth,s=i.artboardHeight,n=r.height/r.width;n>1.77?e=(t=s)/n:(e=a,t=a*n);var l,d,c=a/2,h=s/2;r.locked?(null==(l=this.props.data.helpers)||l.sendStat("zoom"),Object.assign(o,{locked:!1,scale:.7})):(null==(d=this.props.data.helpers)||d.sendStat("unzoom"),Object.assign(o,{locked:!0,rotate:0,x:c,y:h,width:e,height:t,scale:1}));this.props.updateBackgroundLayer(o),this.props.setCurrentLayer(r.locked?0:null)},this.onChangeText=e=>{this.props.setLayerText(e)}}}var I={setCurrentBackgroundId:l.setCurrentBackgroundId,setLayerScale:d.setLayerScale,startLayerScale:d.startLayerScale,setLayerText:d.setLayerText,toggleTextEditor:d.toggleTextEditor,deleteLayer:d.deleteLayer,updateBackgroundLayer:d.updateBackgroundLayer,setCurrentLayer:d.setCurrentLayer,setBackgroundType:l.setBackgroundType,closeTextEditor:d.closeTextEditor},R=(0,s.connect)((e=>({ui:e.present.ui,settings:e.present.settings,layers:e.present.layers,drawings:e.present.drawings,background:e.present.background,data:e.present.data,marginTop:(0,n.getMarginTop)(e),langMap:e.present.data.langMap})),I)(b)},967242:(e,t,r)=>{"use strict";r.d(t,{FiltersItem:()=>m});r(57327),r(556977),r(319601);var o=r(785893),i=r(667294),a=r(262782),s=r(50533),n=r(569820),l=r(792072),d=r(425657),c=r(986672),h=r(659397),u=r(416259),p=r(639481),g=r(949887);class _ extends i.Component{constructor(e){super(e),this.shouldComponentUpdate=e=>{var t=this.props,r=t.currentBackgroundUrl,o=t.currentFilterName,i=r!==e.currentBackgroundUrl;return o!==e.currentFilterName||(i&&this.update(e.currentBackgroundUrl),!1)},this.handleClick=()=>{var e,t;(this.props.setFilter(this.props.filter),"regular"===this.props.filter)?null==(e=this.props.helpers)||e.sendStat("remove_filter"):null==(t=this.props.helpers)||t.sendStat("add_filter")},this.canvas=(0,i.createRef)(),this.renderer=new n.Renderer}componentDidMount(){this.update(this.props.currentBackgroundUrl)}render(){var e=this.props.langMap,t=this.props.currentFilterName===this.props.filter,r=(0,h.classNames)(g.default.root,t&&g.default.active),i=t?(0,o.jsx)("div",Object.assign({className:g.default.checked},{children:(0,o.jsx)(u.default,{},void 0)}),void 0):null;return(0,o.jsx)("div",Object.assign({className:r,onClick:this.handleClick},{children:(0,o.jsxs)("div",Object.assign({className:g.default.inner,style:{width:p.FILTER_PREVIEW_WIDTH}},{children:[(0,o.jsx)("canvas",{className:g.default.image,ref:this.canvas,width:p.FILTER_PREVIEW_WIDTH*p.CANVAS_SCALE,height:p.FILTER_PREVIEW_HEIGHT*p.CANVAS_SCALE,style:{width:p.FILTER_PREVIEW_WIDTH,height:p.FILTER_PREVIEW_HEIGHT}},void 0),(0,o.jsx)("span",Object.assign({className:g.default.name},{children:this.getFilterLang(this.props.filter,e)}),void 0),i]}),void 0)}),void 0)}getFilterLang(e,t){if(t)switch(e){case"regular":return t.photos_pe_filter_regular;case"nox":return t.photos_pe_filter_nox;case"vesper":return t.photos_pe_filter_vesper;case"latona":return t.photos_pe_filter_latona;case"liber":return t.photos_pe_filter_liber;case"luna":return t.photos_pe_filter_luna;case"minerva":return t.photos_pe_filter_minerva;case"mitra":return t.photos_pe_filter_mitra;case"pro":return t.photos_pe_filter_pro;case"terra":return t.photos_pe_filter_terra;case"veles":return t.photos_pe_filter_veles;case"vesta":return t.photos_pe_filter_vesta;case"zaria":return t.photos_pe_filter_zaria;case"sepia":return t.photos_pe_filter_sepia;case"genius":return t.photos_pe_filter_genius;case"horus":return t.photos_pe_filter_horus;case"fortuna":return t.photos_pe_filter_fortuna;default:return}}update(e){e&&l.imageCacheGlobal.get(e).then((e=>{this.renderImage(e)})).catch((e=>{console.error(e)}))}renderImage(e){this.renderer.render(p.FILTER_PREVIEW_WIDTH*p.CANVAS_SCALE,p.FILTER_PREVIEW_HEIGHT*p.CANVAS_SCALE,e,this.props.filter,{amount:.75,sourceSize:[e.width,e.height]}).then((t=>{if(t){var r=this.canvas.current;if(r){var o=r.getContext("2d");if(o){var i,a,s=+(e.height/e.width).toFixed(2);s>1.77?(i=r.height/s,a=r.height):(i=r.width,a=r.width*s);var n=r.width/2-i/2,l=r.height/2-a/2;(0,c.drawBlurFromImage)(r,t,this.props.avgColor),o.drawImage(t,n,l,i,a)}}}})).catch((e=>{console.error(new Error(e))}))}}var v={setFilter:d.setFilter},m=(0,s.connect)((e=>({currentFilterName:e.present.settings.filter.name,currentBackgroundUrl:(0,a.getCurrentImageUrl)(e),helpers:e.present.data.helpers,langMap:e.present.data.langMap})),v)(_)},333320:(e,t,r)=>{"use strict";r.d(t,{FiltersPanel:()=>p});r(57327),r(821249),r(319601);var o=r(785893),i=r(667294),a=r(967242),s=r(425657),n=r(50533),l=r(431588),d=r(639481),c=r(845897);class h extends i.Component{render(){return(0,o.jsxs)("div",Object.assign({className:c.default.root},{children:[(0,o.jsx)("div",Object.assign({className:c.default.header},{children:this.renderHeader()}),void 0),(0,o.jsx)("div",Object.assign({className:c.default.inner},{children:d.PHOTO_FILTERS.map((e=>(0,o.jsx)(a.FiltersItem,{avgColor:this.props.avgColor,filter:e},e)))}),void 0)]}),void 0)}renderHeader(){var e=this.props,t=e.settings,r=e.langMap;return"regular"===t.filter.name?(0,o.jsx)("span",{children:null==r?void 0:r.photos_pe_filter_disabled},void 0):(0,o.jsxs)("div",Object.assign({className:c.default.slider},{children:[(0,o.jsx)("span",Object.assign({className:c.default.title},{children:null==r?void 0:r.photos_pe_filter_enabled}),void 0),(0,o.jsx)(l.Slider,{min:0,max:1,value:t.filter.value,isShowHandle:!0,onChange:this.props.setFilterAmount,formatHint:e=>`${Math.round(100*e)}%`},void 0)]}),void 0)}}var u={setFilterAmount:s.setFilterAmount},p=(0,n.connect)((e=>({settings:e.present.settings,avgColor:e.present.layers.items[0].avgColor,langMap:e.present.data.langMap})),u)(h)},169192:(e,t,r)=>{"use strict";r.d(t,{imageLayerSelector:()=>g,ImageLayer:()=>m});r(57327),r(319601);var o=r(785893),i=r(667294),a=r(50533),s=r(262782),n=r(197419),l=r(986672),d=r(792072),c=r(569820),h=r(639481),u=r(803608),p={},g="photo-editor-image-layer";class _ extends i.PureComponent{constructor(e){super(e),this.canvas=(0,i.createRef)(),this.renderer=new c.Renderer,this.needUpdateSize=!0}componentDidMount(){this.update(!1)}componentDidUpdate(e){var t=this.props,r=t.originalWidth,o=t.originalHeight,i=t.background,a=r!==e.originalWidth||o!==e.originalHeight;this.needUpdateSize=a||JSON.stringify(i)!==JSON.stringify(e.background),this.update()}render(){var e=this.props,t=e.originalWidth,r=e.originalHeight;return(0,o.jsx)("canvas",{ref:this.canvas,className:u.default.root,width:t,height:r,"data-name":g,style:{width:this.props.width,height:this.props.height}},void 0)}update(e){void 0===e&&(e=!0);var t=this.props.currentBackgroundUrl;t&&d.imageCacheGlobal.get(t).then((t=>{this.renderImage(t,e)})).catch((e=>{console.error(e)}))}renderImage(e,t){var r=this.canvas.current;if(r&&r.getContext("2d")){var o=this.props.background,i=this.props,a=i.colorCorrection,s=i.filter,n=i.blur,d=i.isAutoCorrection;o.currentBackgroundType===h.BACKGROUND_MODES.BACKGROUND&&(s={name:h.PHOTO_FILTERS[0],value:0},a={exposure:0,contrast:0,saturation:0,warmth:0,vignette:0,sharpness:0,grain:0},n={isEnabled:!1,form:n.form,size:n.size,position:n.position},d=!1);var c={exposure:a.exposure,contrast:a.contrast,saturation:a.saturation,warmth:a.warmth,amount:s.value,vignette:a.vignette,sharpness:a.sharpness,grain:a.grain,sourceSize:[e.width,e.height]};this.renderer.render(e.width,e.height,e,s.name,c,n,d).then((o=>{if(o){var i,a,s=e.height/e.width;s>1.77?(i=this.props.height/s,a=this.props.height):(i=this.props.width,a=this.props.width*s);var n=Math.floor(this.props.width/2),d=Math.floor(this.props.height/2),c=(0,l.copyCanvas)(o),h=p[e.src];h||(p[e.src]=(0,l.getAverageRGB)(c),h=p[e.src]),(0,l.drawBlurFromImage)(r,c,h);var u={canvas:c,width:i,height:a,avgColor:h};this.needUpdateSize&&Object.assign(u,{x:n,y:d,locked:!0,rotate:0,scale:1}),this.props.updateBackgroundLayer(u,t)}})).catch((e=>{console.error(new Error(e))}))}}}var v={updateBackgroundLayer:n.updateBackgroundLayer},m=(0,a.connect)((e=>({currentBackgroundUrl:(0,s.getCurrentImageUrl)(e),originalWidth:e.present.data.originalWidth,originalHeight:e.present.data.originalHeight,background:e.present.background,isAutoCorrection:e.present.settings.isAutoCorrection,colorCorrection:e.present.settings.colorCorrection,filter:e.present.settings.filter,blur:e.present.settings.blur})),v)(_)},713100:(e,t,r)=>{"use strict";r.d(t,{StatusPanel:()=>p});r(66992),r(821249),r(319601),r(333948);var o=r(785893),i=r(667294),a=r(50533),s=r(197419),n=r(659397),l=r(783199),d=r(639481),c=r(336130);class h extends i.Component{constructor(e){super(e),this.componentDidUpdate=()=>{this.scrollWithAnimation=!1},this.render=()=>{var e,t=this.props.langMap,r=this.props.layers,i=r.currentIndex,a=r.items,s=null!==i&&a[i],l=s&&s.type===d.LAYER_TYPES.TEXT&&s.isEdit,h="";return s&&(s.type===d.LAYER_TYPES.STICKER?h=null==t?void 0:t.photos_pe_delete_sticker:s.type===d.LAYER_TYPES.TEXT&&(h=null==t?void 0:t.photos_pe_delete_text)),this.props.currentBackgroundType!==d.BACKGROUND_MODES.BACKGROUND||s||(e=!0),(0,o.jsx)("div",Object.assign({className:(0,n.classNames)(c.default.root,c.default.square)},{children:e?this.renderBackgrounds():(0,o.jsxs)("div",Object.assign({className:c.default.inner},{children:[this.renderLeftBlock(),(0,o.jsxs)("div",{children:[s&&!l&&(0,o.jsx)("a",Object.assign({className:c.default.link,onClick:this.props.deleteLayer},{children:h}),void 0),s&&l&&(0,o.jsx)("a",Object.assign({className:c.default.link,onClick:this.props.closeTextEditor},{children:null==t?void 0:t.photos_pe_save_text}),void 0)]},void 0)]}),void 0)}),void 0)},this.renderLeftBlock=()=>{var e=this.props,t=e.addons,r=e.langMap;return"photo"===this.props.context?(0,o.jsxs)("div",{children:[t&&t.edited&&t.canEdit&&(0,o.jsx)("a",Object.assign({className:c.default.link,onClick:t.restore},{children:null==r?void 0:r.photos_filtered_restore}),void 0),t&&!t.canEdit&&(0,o.jsx)("span",Object.assign({className:c.default.info},{children:null==r?void 0:r.photos_will_be_saved_to_pe_album}),void 0)]},void 0):(0,o.jsx)("div",{children:this.props.currentBackgroundType===d.BACKGROUND_MODES.PHOTO&&(0,o.jsx)("a",Object.assign({className:c.default.link,onClick:()=>this.props.uploadPhoto()},{children:null==r?void 0:r.photos_pe_change_photo}),void 0)},void 0)},this.renderBackgrounds=()=>{var e=this.state.scrollBlockPosition,t=this.props.backgrounds,r=t.advice_gradients,i=t.colors,a=this.scrollElement.current,s=a?e+a.offsetWidth:0,d=!!e,h=!a||!!(a.scrollWidth-s),u=[...r,...i];return(0,o.jsxs)("div",Object.assign({className:c.default.backgrounds,onWheel:this.panelMouseWheel},{children:[(0,o.jsx)("div",Object.assign({style:{transform:`translateX(-${e}px)`,transition:""+(this.scrollWithAnimation?"transform .3s ease-out":"")},ref:this.scrollElement},{children:u.map((e=>{var t=e.id,r=e.preview,i=e.background;return(0,o.jsx)("a",{className:(0,n.classNames)(c.default.background,t===this.props.currentBackgroundId&&c.default.backgroundActive),"data-status-active":t===this.props.currentBackgroundId,style:{backgroundColor:i,backgroundImage:`url(${r})`},onClick:()=>{var e;this.props.setCurrentBackgroundId(t),null==(e=this.props.helpers)||e.sendStat("select_background")}},t)}))}),void 0),d&&(0,o.jsx)("div",Object.assign({className:(0,n.classNames)(c.default.arrow,c.default.arrowLeft),onClick:()=>this.handleArrowClick(!0)},{children:(0,o.jsx)(l.default,{className:c.default.arrowIcon},void 0)}),void 0),h&&(0,o.jsx)("div",Object.assign({className:(0,n.classNames)(c.default.arrow,c.default.arrowRight),onClick:()=>this.handleArrowClick(!1)},{children:(0,o.jsx)(l.default,{className:c.default.arrowIcon},void 0)}),void 0)]}),void 0)},this.panelMouseWheel=e=>{this.setPosition(Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX)},this.setPosition=(e,t)=>{var r=this.scrollElement.current;if(r){var o=this.state.scrollBlockPosition,i=r.offsetWidth,a=Math.max(0,Math.min(o+e,r.scrollWidth-i));t&&(this.scrollWithAnimation=!0),this.setState({scrollBlockPosition:a})}},this.handleArrowClick=e=>{var t=this.scrollElement.current;if(t){var r=t.offsetWidth/2;e&&(r=-r),this.setPosition(r,!0)}},this.state={scrollBlockPosition:0},this.scrollElement=(0,i.createRef)(),this.scrollWithAnimation=!1}componentDidMount(){var e=this.scrollElement.current,t=document.querySelector('[data-status-active="true"]');if(e&&t){t.offsetLeft+30>e.offsetWidth&&this.setPosition(e.offsetWidth)}}}var u={deleteLayer:s.deleteLayer,closeTextEditor:s.closeTextEditor},p=(0,a.connect)((e=>({context:e.present.data.context,layers:e.present.layers,addons:e.present.data.addons,helpers:e.present.data.helepers,langMap:e.present.data.langMap})),u)(h)},966636:(e,t,r)=>{"use strict";r.d(t,{StickerPacksPanel:()=>m});r(226699),r(821249),r(747042),r(319601),r(241539),r(339714),r(923157),r(454747);var o=r(785893),i=r(667294),a=r(50533),s=r(582377),n=r(793213),l=r(659397),d=r(569456),c=r(94566),h=r(147650),u=r(783199),p=r(639481),g=r(1799);class _ extends i.Component{constructor(e){super(e),this.componentDidMount=()=>{this.fetchStickers()},this.componentDidUpdate=()=>{this.scrollWithAnimation=!1},this.render=()=>{var e="vkcom_dark"===document.body.getAttribute("scheme"),t=this.props,r=t.stickers,i=t.stickerMouseDown,a=this.props.ui,s=a.stickerHeaderScrollPosition,n=a.currentStickerPackIndex,_=this.scrollElement.current,v=!!s,m=!1,f=0;_&&(f=((0,l.isNumber)(s)?s:0)+_.offsetWidth,m=!!(_.scrollWidth-f));for(var y=r[n]?r[n].items:[],T=[],S=0,E=y.length;S<E;S+=3)T.push(y.slice(S,S+3));return(0,o.jsxs)("div",Object.assign({className:g.default.root},{children:[(0,o.jsxs)("div",Object.assign({className:g.default.header},{children:[(0,o.jsxs)("div",Object.assign({className:g.default.scroll,style:{transform:`translateX(-${s}px)`,transition:""+(this.scrollWithAnimation?"transform .3s ease-out":"")},ref:this.scrollElement,onWheel:this.tabsMouseWheel},{children:[(0,o.jsx)("div",Object.assign({className:g.default.tab,onClick:()=>this.showStickerShop()},{children:(0,o.jsx)(d.default,{},void 0)}),void 0),r.map(((e,t)=>{var r=e.id,i=this.getTabPreviewUrl(t);if(!i)return null;var a=!["recent","editor"].includes(r.toString()),s=(0,l.classNames)(g.default.tab,t===n&&g.default.tabSelected),d=a?null:"recent"===r?(0,o.jsx)(c.default,{},void 0):(0,o.jsx)(h.default,{},void 0);return(0,o.jsx)("div",Object.assign({className:s,style:a?{backgroundImage:`url('${i}')`}:void 0,onClick:()=>this.selectStickerPack(t)},{children:d}),r)}))]}),void 0),v&&(0,o.jsx)("div",Object.assign({className:(0,l.classNames)(g.default.arrow,g.default.arrowLeft,e&&g.default.arrowLeftDark),onClick:()=>this.handleTabArrowClick(!0)},{children:(0,o.jsx)(u.default,{className:g.default.arrowIcon},void 0)}),void 0),m&&(0,o.jsx)("div",Object.assign({className:(0,l.classNames)(g.default.arrow,g.default.arrowRight,e&&g.default.arrowRightDark),onClick:()=>this.handleTabArrowClick(!1)},{children:(0,o.jsx)(u.default,{className:g.default.arrowIcon},void 0)}),void 0)]}),void 0),(0,o.jsx)("div",Object.assign({className:g.default.content},{children:T.map(((t,r)=>(0,o.jsx)("div",{children:t.map((t=>{var r=t.id,a=t.sizes,s=e&&!r.startsWith("editor_"),n=a[p.STICKER_MEDIUM+(s?"b":"")];return(0,o.jsx)("div",Object.assign({className:g.default.preview,onMouseDown:e=>i(e,r)},{children:(0,o.jsx)("img",{src:n,className:g.default.previewImage},void 0)}),r)}))},r)))}),void 0)]}),void 0)},this.getTabPreviewUrl=e=>{var t=this.props.stickers[e].items,r=(t||[])[0],o=void 0===r?null:r;return!(!t||!o)&&o.sizes[p.STICKER_THUMB]},this.selectStickerPack=e=>{this.props.setCurrentStickerPackIndex(e)},this.tabsMouseWheel=e=>{this.setPosition(Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX)},this.handleTabArrowClick=e=>{var t=this.scrollElement.current;if(t){var r=t.offsetWidth;e&&(r=-r),this.setPosition(r,!0)}},this.setPosition=(e,t)=>{var r=this.scrollElement.current,o=this.props.ui.stickerHeaderScrollPosition;if(r){var i=r.offsetWidth,a=Math.max(0,Math.min(((0,l.isNumber)(o)?o:0)+e,r.scrollWidth-i));t&&(this.scrollWithAnimation=!0),this.props.setHeaderScrollPosition(a)}},this.loadingLimit=25,this.scrollElement=(0,i.createRef)(),this.scrollWithAnimation=!1}fetchStickers(){this.props.helpers.fetchStickers((e=>{var t={};e.stickers.forEach((e=>{e.items.forEach((e=>{t[e.id]=e}))})),this.props.setData({stickers:e.stickers,stickersMap:t})}),(e=>(console.error(e),!0)))}showStickerShop(){this.props.helpers.showStickerShop((()=>this.fetchStickers()))}}var v={setCurrentStickerPackIndex:s.setCurrentStickerPackIndex,setHeaderScrollPosition:s.setHeaderScrollPosition,setData:n.setData},m=(0,a.connect)((e=>({ui:e.present.ui,stickers:e.present.data.stickers,helpers:e.present.data.helpers})),v)(_)},23187:(e,t,r)=>{"use strict";r.d(t,{TextPanel:()=>m});r(66992),r(821249),r(319601),r(333948);var o=r(785893),i=r(667294),a=r(50533),s=r(197419),n=r(425657),l=r(713924),d=r(86894),c=r(713652),h=r(431588),u=r(639481),p=r(604409),g=r(986672);class _ extends i.Component{constructor(){super(...arguments),this.render=()=>{var e=this.props,t=e.settings,r=e.setColor,i=e.setFontSize,a=e.layer,s=e.fontsPlaceholders,n=e.avgColor,_=e.langMap,v=a&&a.isEdit,m=a&&a.fontStyle,f=a&&a.fontSize,y=a&&a.color,T=e=>{switch(e){case"typewriter":return"18px";case"poster":return"24px";case"retro":return"19px";case"marker":return"26px";case"italics":return"22px";default:return"20px"}};return(0,o.jsxs)("div",Object.assign({className:p.default.root},{children:[v?(0,o.jsx)(d.Button,Object.assign({mode:"primary",onClick:this.props.closeTextEditor},{children:null==_?void 0:_.photos_pe_save_text}),void 0):(0,o.jsx)(d.Button,Object.assign({mode:"primary",before:(0,o.jsx)(c.default,{},void 0),onClick:()=>this.props.addLayerText(!0,{isEdit:!0})},{children:null==_?void 0:_.photos_pe_add_text}),void 0),(0,o.jsxs)("div",Object.assign({className:p.default.fonts},{children:[(0,o.jsx)("div",Object.assign({className:p.default.title},{children:null==_?void 0:_.photos_pe_font}),void 0),u.FONTS.map(((e,r)=>(0,o.jsx)(d.Radio,Object.assign({className:p.default.radio,value:e,name:"photo_editor_fonts",onChange:()=>this.props.setFontStyle(e),checked:m?m===e:t.fontStyle===e},{children:(0,o.jsx)("span",Object.assign({style:{fontSize:T(e)},className:(0,g.getComputedFontFamily)(e)},{children:s&&s[r]}),void 0)}),e)))]}),void 0),(0,o.jsxs)("div",Object.assign({className:p.default.fontSize},{children:[(0,o.jsx)("div",Object.assign({className:p.default.title},{children:null==_?void 0:_.photos_pe_font_size}),void 0),(0,o.jsx)(h.Slider,{min:0,max:1,isShowHandle:!0,value:f||t.fontSize,formatHint:e=>`${Math.round(100*e)}`,onChange:e=>i(e)},void 0)]}),void 0),(0,o.jsxs)("div",Object.assign({className:p.default.colors},{children:[(0,o.jsx)("div",Object.assign({className:p.default.title},{children:null==_?void 0:_.photos_pe_color}),void 0),(0,o.jsx)(l.ColorPicker,{color:y||t.color,avgColor:n,setColor:r},void 0)]}),void 0)]}),void 0)}}}var v={addLayerText:s.addLayerText,setColor:n.setColor,setFontSize:n.setFontSize,setFontStyle:n.setFontStyle,closeTextEditor:s.closeTextEditor},m=(0,a.connect)((e=>{var t=e.present.layers,r=t.items,o=t.currentIndex,i=null;return null!==o&&(i=r[o]),{settings:e.present.settings,layer:i,fontsPlaceholders:e.present.data.fontsPlaceholders,avgColor:e.present.layers.items[0].avgColor,langMap:e.present.data.langMap}}),v)(_)},603156:(e,t,r)=>{"use strict";r.d(t,{UndoRedo:()=>c});r(319601);var o=r(785893),i=r(21090),a=r(50533),s=r(456775),n=r(699111),l=r(361704),d=i.ActionCreators,c=(0,a.connect)((e=>({canUndo:e.past.length>0,canRedo:e.future.length>0,helpers:e.present.data.helpers})),d)((e=>{var t=e.canUndo,r=e.canRedo,i=e.undo,a=e.redo,d=e.helpers;return(0,o.jsxs)("div",Object.assign({className:l.default.root},{children:[(0,o.jsx)("button",Object.assign({className:l.default.button,onClick:()=>{null==d||d.sendStat("undo"),i()},disabled:!t},{children:(0,o.jsx)(s.default,{},void 0)}),void 0),(0,o.jsx)("button",Object.assign({className:l.default.button,onClick:()=>{null==d||d.sendStat("redo"),a()},disabled:!r},{children:(0,o.jsx)(n.default,{},void 0)}),void 0)]}),void 0)}))},56052:(e,t,r)=>{"use strict";r.d(t,{undoAction:()=>s,redoAction:()=>n,getEditedPhoto:()=>l,undoRedoStatus:()=>d,$undoRedoStatusFiltered:()=>c});var o=r(210929),i=r(659397),a=(0,o.createDomain)("PhotoEditorDesktop"),s=a.createEvent(),n=a.createEvent(),l=a.createEvent(),d=a.createEvent(),c=a.createStore({canUndo:!1,canRedo:!1}).on(d,((e,t)=>(0,i.isEqual)(e,t)?e:t))},936297:(e,t,r)=>{"use strict";r.d(t,{PhotoEditor:()=>u});r(66992),r(319601),r(333948);var o=r(785893),i=r(667294),a=r(50533),s=r(391775),n=r(659397),l=r(639481),d=r(847946);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},c.apply(this,arguments)}class h extends i.Component{constructor(){super(...arguments),this.componentWillUnmount=()=>{(0,n.isFunction)(this.props.onDestroy)&&this.props.onDestroy()}}render(){var e=(0,s.createPhotoEditorStore)({data:c({},this.props,{imageContainerWidth:this.props.imageContainerWidth||this.props.artboardWidth,context:this.props.context||"photo"})});return(0,n.isFunction)(this.props.storeInit)&&this.props.storeInit(e),(0,o.jsx)(a.Provider,Object.assign({store:e},{children:(0,o.jsx)(d.BaseEditor,{stickers:this.props.stickers,ref:e=>{(0,n.isFunction)(this.props.refCb)&&this.props.refCb(e)}},void 0)}),void 0)}}h.defaultProps={originalWidth:l.STORY_BASE_WIDTH,originalHeight:l.STORY_BASE_HEIGHT};var u=h},63703:(e,t,r)=>{"use strict";r.d(t,{background:()=>s});r(319601);var o=r(750067);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i.apply(this,arguments)}var a={currentBackgroundType:r(639481).BACKGROUND_MODES.NONE,currentPhotoUrl:null,currentBackgroundId:null},s=function(e,t){switch(void 0===e&&(e=a),t.type){case o.SET_CURRENT_BACKGROUND_TYPE:return i({},e,{currentBackgroundType:t.value});case o.SET_CURRENT_PHOTO_URL:return i({},e,{currentPhotoUrl:t.value});case o.SET_CURRENT_BACKGROUND_ID:return i({},e,{currentBackgroundId:t.value});default:return e}}},793205:(e,t,r)=>{"use strict";r.d(t,{data:()=>a});r(319601);var o=r(750067);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i.apply(this,arguments)}var a=function(e,t){return void 0===e&&(e={}),t.type===o.SET_DATA?i({},e,{},t.payload):e}},321151:(e,t,r)=>{"use strict";r.d(t,{drawings:()=>i});r(66992),r(333948);var o=r(750067),i=function(e,t){switch(void 0===e&&(e=[]),t.type){case o.ADD_DRAWING:return[...e,t.payload];case o.UPDATE_DRAWING:return t.payload;default:return e}}},921956:(e,t,r)=>{"use strict";r.d(t,{reducers:()=>g});r(226699),r(132023);var o=r(14890),i=r(21090),a=r(927342),s=r(598254),n=r(184828),l=r(321151),d=r(63703),c=r(793205),h=r(750067);var u,p=!1;var g=((null==i?void 0:i.default)?i.default:i)((0,o.combineReducers)({ui:a.ui,settings:s.settings,layers:n.layers,drawings:l.drawings,background:d.background,data:c.data}),{limit:100,syncFilter:!0,filter:(0,i.combineFilters)((function(e){return![h.SET_CURRENT_BACKGROUND_ID,h.SET_CURRENT_BACKGROUND_TYPE,h.ADD_LAYER_TEXT,h.ADD_LAYER_IMAGE,h.ADD_LAYER_STICKER,h.SET_CURRENT_PHOTO_URL].includes(e.type)||e.canUndo}),(0,i.includeAction)([h.SET_SETTING_COLOR_CORRECTION,h.SET_SETTING_BLUR_SIZE,h.SET_SETTING_BLUR_POSITION,h.SET_SETTING_BLUR_ENABLE,h.SET_SETTING_BLUR_FORM,h.SET_SETTING_AUTO_CORRECTION,h.SET_SETTING_FILTER,h.SET_SETTING_FILTER_AMOUNT,h.ADD_LAYER_STICKER,h.ADD_LAYER_TEXT,h.DELETE_LAYER,h.ADD_DRAWING,h.SET_CURRENT_BACKGROUND_TYPE,h.SET_CURRENT_PHOTO_URL,h.SET_CURRENT_BACKGROUND_ID,h.SET_LAYER_COLOR,h.SET_LAYER_FONT_SIZE,h.SET_LAYER_FONT_STYLE,h.TOGGLE_TEXT_EDIT,h.SET_SHOW_DROP_BOX,h.START_LAYER_SCALE]),(function(e){return e.type===h.TOGGLE_TEXT_EDIT?e.payload.isEdit:e.type===h.SET_SHOW_DROP_BOX?e.value:![h.SET_SETTING_COLOR_CORRECTION,h.SET_SETTING_FILTER_AMOUNT,h.SET_SETTING_BLUR_SIZE,h.SET_SETTING_BLUR_POSITION,h.SET_LAYER_FONT_SIZE].includes(e.type)||(e.type!==u?(p=!1,u=e.type,!0):!p&&(p=!0,setTimeout((()=>{p=!1}),500),!0))}))})},184828:(e,t,r)=>{"use strict";r.d(t,{layers:()=>n});r(57327),r(66992),r(821249),r(319601),r(333948);var o=r(750067),i=r(639481);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a.apply(this,arguments)}var s={currentIndex:null,items:[{canvas:document.createElement("canvas"),type:i.LAYER_TYPES.BACKGROUND,width:1,height:1,isBackground:!0,locked:!0,x:0,y:0,rotate:0,canDelete:!1,scale:1,avgColor:{r:128,g:128,b:128}}]},n=function(e,t){switch(void 0===e&&(e=s),t.type){case o.SET_CURRENT_LAYER:return a({},e,{currentIndex:t.index});case o.ADD_LAYER_STICKER:case o.ADD_LAYER_TEXT:case o.ADD_LAYER_IMAGE:return a({},e,{items:[...e.items,t.payload]});case o.SET_LAYER_POSITION:case o.SET_LAYER_SCALE:case o.SET_LAYER_COLOR:case o.SET_LAYER_FONT_SIZE:case o.SET_LAYER_FONT_STYLE:case o.SET_LAYER_TEXT:case o.TOGGLE_TEXT_EDIT:return a({},e,{items:e.items.map(((r,o)=>e.currentIndex===o?a({},r,{},t.payload):r))});case o.START_LAYER_SCALE:return a({},e);case o.UPDATE_BACKGROUND_LAYER:return a({},e,{items:e.items.map(((e,r)=>0===r?a({},e,{},t.payload):e))});case o.DELETE_LAYER:return a({},e,{currentIndex:null,items:e.items.filter(((e,r)=>r!==t.index))});case o.UPDATE_LAYERS_AFTER_CROP:return a({},e,{items:t.items});default:return e}}},598254:(e,t,r)=>{"use strict";r.d(t,{settings:()=>n});r(57327),r(319601);var o=r(750067),i=r(639481);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a.apply(this,arguments)}var s={color:i.COLORS[0],brushWidth:.5,brushOpacity:1,fontSize:.5,fontStyle:i.FONTS[0],filter:{name:i.PHOTO_FILTERS[0],value:.5},colorCorrection:{exposure:0,contrast:0,saturation:0,warmth:0,vignette:0,sharpness:0,grain:0},blur:{isEnabled:!1,form:i.BLUR_TYPES.ROUND,size:50,position:[.5,.5]},isAutoCorrection:!1,cropAspect:i.CROP_ASPECT_FREE,isCropped:!1,flipX:!1,flipY:!1,rotation:0},n=function(e,t){switch(void 0===e&&(e=s),t.type){case o.SET_SETTING_COLOR:return a({},e,{color:t.color});case o.SET_SETTING_BRUSH_WIDTH:return a({},e,{brushWidth:t.brushWidth});case o.SET_SETTING_BRUSH_OPACITY:return a({},e,{brushOpacity:t.brushOpacity});case o.SET_SETTING_FONT_SIZE:return a({},e,{fontSize:t.fontSize});case o.SET_SETTING_FONT_FAMILY:return a({},e,{fontStyle:t.fontStyle});case o.SET_SETTING_COLOR_CORRECTION:return a({},e,{colorCorrection:a({},e.colorCorrection,{[t.filter]:t.value})});case o.SET_SETTING_FILTER:return a({},e,{filter:a({},e.filter,{name:t.name})});case o.SET_SETTING_FILTER_AMOUNT:return a({},e,{filter:a({},e.filter,{value:t.value})});case o.SET_SETTING_BLUR_ENABLE:return a({},e,{blur:a({},e.blur,{isEnabled:t.isEnabled})});case o.SET_SETTING_BLUR_FORM:return a({},e,{blur:a({},e.blur,{form:t.form})});case o.SET_SETTING_BLUR_SIZE:return a({},e,{blur:a({},e.blur,{size:t.size})});case o.SET_SETTING_BLUR_POSITION:return a({},e,{blur:a({},e.blur,{position:t.position})});case o.SET_SETTING_AUTO_CORRECTION:return a({},e,{isAutoCorrection:t.isAutoCorrection});case o.SET_SETTING_CROP_ASPECT:return a({},e,{cropAspect:t.aspect});case o.SET_SETTING_CROPPED:return a({},e,{isCropped:t.isCropped});case o.SET_SETTING_FLIP_X:return a({},e,{flipX:t.value});case o.SET_SETTING_FLIP_Y:return a({},e,{flipY:t.value});case o.SET_SETTING_ROTATE:return a({},e,{rotation:t.value});default:return e}}},927342:(e,t,r)=>{"use strict";r.d(t,{ui:()=>s});r(319601);var o=r(750067);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i.apply(this,arguments)}var a={isDataLoaded:!1,isShowDropBox:!1,isSaveLoading:!1,currentMode:r(639481).TABS.STICKERS,currentStickerPackIndex:0,stickerHeaderScrollPosition:0},s=function(e,t){switch(void 0===e&&(e=a),t.type){case o.SET_DATA_LOADED:return i({},e,{isDataLoaded:!0});case o.SET_SHOW_DROP_BOX:return i({},e,{isShowDropBox:t.value});case o.SET_SAVE_LOADING:return i({},e,{isSaveLoading:t.value});case o.SET_CURRENT_TAB:return i({},e,{currentMode:t.value});case o.SET_CURRENT_STICKER_PACK_INDEX:return i({},e,{currentStickerPackIndex:t.value});case o.SET_HEADER_SCROLL_POSITION:return i({},e,{stickerHeaderScrollPosition:t.value});default:return e}}},391775:(e,t,r)=>{"use strict";r.d(t,{createPhotoEditorStore:()=>l});var o=r(14890),i=r(21090),a=r(929804),s=r(753894),n=r(921956),l=e=>{var t=(0,i.newHistory)([],e,[]),r=a.composeWithDevTools((0,o.applyMiddleware)(s.default));return(0,o.createStore)(n.reducers,t,r)}},262782:(e,t,r)=>{"use strict";r.d(t,{getCurrentImageUrl:()=>a,getMarginTop:()=>s});r(57327),r(66992),r(333948);var o=r(639481),i={};function a(e){var t=e.present.background,r=t.currentBackgroundType,a=t.currentPhotoUrl,s=t.currentBackgroundId,n="";if(r===o.BACKGROUND_MODES.PHOTO)n=a||"";else{var l=e.present.data.backgrounds,d=[...l.gradients,...l.emojies,...l.advice_gradients,...l.colors].filter((e=>e.id===s))[0];if(d.url)n=d.url;else if(i[d.id])n=i[d.id];else{var c=e.present.data,h=c.originalWidth,u=c.originalHeight,p=document.createElement("canvas"),g=p.getContext("2d");p.width=h,p.height=u,g.fillStyle=d.background,g.fillRect(0,0,h,u),i[d.id]=p.toDataURL(),n=i[d.id]}}return n}function s(e){var t=e.present.data,r=t.addons,o=t.artboardHeight,i=o;return r&&r.photoHeight&&(i=r.photoHeight),o/2-i/2}},986672:(e,t,r)=>{"use strict";r.d(t,{getRelativeXY:()=>i,hexToRgba:()=>a,getAverageRGB:()=>s,getOrientation:()=>n,resetOrientation:()=>l,getPositionWithGravity:()=>d,drawBlurFromImage:()=>c,rgb2hsv:()=>h,hsl2hex:()=>u,copyCanvas:()=>p,printAtWordWrap:()=>g,clean:()=>_,domData:()=>v,irand:()=>m,getComputedFontFamily:()=>f});r(57327),r(747042),r(140561),r(241539),r(788674),r(339714),r(115306),r(323123);var o=r(37209);function i(e,t){if(!t)return{x:0,y:0,xOrigin:0,yOrigin:0,width:0,height:0};var r=t.getBoundingClientRect(),o=r.left,i=r.top,a=r.width,s=r.height;return{x:e.clientX-o,y:e.clientY-i,xOrigin:o,yOrigin:i,width:a,height:s}}function a(e,t){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?`rgba(${parseInt(r[1],16)}, ${parseInt(r[2],16)}, ${parseInt(r[3],16)}, ${t})`:"rgba(0, 0, 0, 1)"}function s(e){var t,r=e.getContext("2d"),o={r:0,g:0,b:0};if(!r)return o;try{t=r.getImageData(0,0,r.canvas.width,r.canvas.height)}catch(e){return o}for(var i=-4,a=0;(i+=20)<t.data.length;)++a,o.r+=t.data[i],o.g+=t.data[i+1],o.b+=t.data[i+2];return o.r=~~(o.r/a),o.g=~~(o.g/a),o.b=~~(o.b/a),o}function n(e){return new Promise((t=>{var r=new FileReader;r.onload=e=>{if(e.target){var r=e.target,o=new DataView(r.result);if(65496!==o.getUint16(0,!1))return t(-2);for(var i=o.byteLength,a=2;a<i;){if(o.getUint16(a+2,!1)<=8)return t(-1);var s=o.getUint16(a,!1);if(a+=2,65505===s){if(1165519206!==o.getUint32(a+=2,!1))return t(-1);var n=18761===o.getUint16(a+=6,!1);a+=o.getUint32(a+4,n);var l=o.getUint16(a,n);a+=2;for(var d=0;d<l;d++)if(274===o.getUint16(a+12*d,n))return t(o.getUint16(a+12*d+8,n))}else{if(65280!=(65280&s))break;a+=o.getUint16(a,!1)}}return t(-1)}},r.readAsArrayBuffer(e)}))}function l(e,t){return new Promise(((r,o)=>{var i=new Image;i.onload=()=>{var e=i.width,a=i.height,s=document.createElement("canvas"),n=s.getContext("2d");if(!n)return o();switch(4<t&&t<9?(s.width=a,s.height=e):(s.width=e,s.height=a),t){case 2:n.transform(-1,0,0,1,e,0);break;case 3:n.transform(-1,0,0,-1,e,a);break;case 4:n.transform(1,0,0,-1,0,a);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,a,0);break;case 7:n.transform(0,-1,-1,0,a,e);break;case 8:n.transform(0,-1,1,0,0,e)}n.drawImage(i,0,0),r(s.toDataURL())},i.src=e}))}function d(e,t,r,o,i,a,s){var n=0,l=0;switch(e){case"left_top":n=o+a,l=i+s;break;case"left_center":n=o+a,l=r/2+s;break;case"left_bottom":n=o+a,l=r-i+s;break;case"center_top":n=t/2+a,l=i+s;break;case"center":n=t/2+a,l=r/2+s;break;case"center_bottom":n=t/2+a,l=r-i+s;break;case"right_top":n=t-o+a,l=i+s;break;case"right_center":n=t-o+a,l=r/2+s;break;case"right_bottom":n=t-o+a,l=r-i+s}return{x:Math.round(n),y:Math.round(l)}}function c(e,t,r){var o=e.getContext("2d");o&&(o.clearRect(0,0,e.width,e.height),o.fillStyle="rgb(30, 30, 30)",o.fillRect(0,0,e.width,e.height),o.save(),o.filter="blur(135px)",o.drawImage(t,0,0,e.width,e.height),o.restore(),"none"!==o.filter&&(o.fillStyle=`rgb(${r.r}, ${r.g}, ${r.b})`,o.fillRect(0,0,e.width,e.height)))}function h(e,t,r){var o=0,i=0,a=e/255,s=t/255,n=r/255,l=Math.max(a,s,n),d=l-Math.min(a,s,n),c=e=>(l-e)/6/d+.5,h=e=>Math.round(100*e)/100;if(0!==d){i=d/l;var u=c(a),p=c(s),g=c(n);a===l?o=g-p:s===l?o=1/3+u-g:n===l&&(o=2/3+p-u),o<0?o+=1:o>1&&(o-=1)}return{h:Math.round(360*o),s:h(100*i),v:h(100*l)}}function u(e,t,r){t/=100,r/=100;var o=(1-Math.abs(2*r-1))*t,i=o*(1-Math.abs(e/60%2-1)),a=r-o/2,s=0,n=0,l=0;return 0<=e&&e<60?(s=o,n=i,l=0):60<=e&&e<120?(s=i,n=o,l=0):120<=e&&e<180?(s=0,n=o,l=i):180<=e&&e<240?(s=0,n=i,l=o):240<=e&&e<300?(s=i,n=0,l=o):300<=e&&e<360&&(s=o,n=0,l=i),s=Math.round(255*(s+a)).toString(16),n=Math.round(255*(n+a)).toString(16),l=Math.round(255*(l+a)).toString(16),1===s.length&&(s="0"+s),1===n.length&&(n="0"+n),1===l.length&&(l="0"+l),"#"+s+n+l}function p(e){var t=document.createElement("canvas"),r=t.getContext("2d");return t.width=e.width,t.height=e.height,null==r||r.drawImage(e,0,0,e.width,e.height),t}function g(e,t,r,o,i,a){if((a=a||0)<=0)e.fillText(t,r,o);else{for(var s=t.replace(/(\v)/gm,"\n").split("\n"),n=0,l=1;s.length>0&&l<=s.length;){var d=s.slice(0,l).join(" ");e.measureText(d).width>a?(1===l&&(l=2),e.fillText(s.slice(0,l-1).join(" "),r,o+i*n),n++,s=s.splice(l-1),l=1):l++}l>0&&e.fillText(s.join(" "),r,o+i*n)}}function _(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function v(e,t,r){return e?void 0!==r?(null===r?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,r),r):e.getAttribute("data-"+t):null}var m=(e,t)=>Math.floor(((e,t)=>Math.random()*(t-e+1)+e)(e,t)),f=e=>{switch(e){case"typewriter":return o.default.typewriter;case"poster":return o.default.poster;case"retro":return o.default.retro;case"marker":return o.default.marker;case"italics":return o.default.italics;case"cursive":return o.default.cursive;case"classic":return o.default.classic;case"impact":return o.default.impact;case"lobster":return o.default.lobster;default:return}}},733536:(e,t,r)=>{"use strict";r.d(t,{isSafari:()=>i});var o=navigator.userAgent.toLowerCase(),i=!/chrome/i.test(o)&&/webkit|safari|khtml/i.test(o)},320398:(e,t,r)=>{"use strict";r.d(t,{loadImage:()=>o});r(241539),r(788674);var o=(e,t)=>new Promise(((r,o)=>{var i=new Image;i.crossOrigin="Anonymous",t&&(i.dataset.name=t),i.onerror=()=>{o(new Error(`Failed to load image's URL: ${e}`))},i.onload=()=>{r(i)},i.src=e}))},108679:(e,t,r)=>{"use strict";var o=r(121296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},n={};function l(e){return o.isMemo(e)?s:n[e.$$typeof]||i}n[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n[o.Memo]=s;var d=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,r,o){if("string"!=typeof r){if(g){var i=p(r);i&&i!==g&&e(t,i,o)}var s=c(r);h&&(s=s.concat(h(r)));for(var n=l(t),_=l(r),v=0;v<s.length;++v){var m=s[v];if(!(a[m]||o&&o[m]||_&&_[m]||n&&n[m])){var f=u(r,m);try{d(t,m,f)}catch(e){}}}}return t}},396103:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,n=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,u=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,_=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,f=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,T=r?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case c:case h:case a:case n:case s:case p:return e;default:switch(e=e&&e.$$typeof){case d:case u:case v:case _:case l:return e;default:return t}}case i:return t}}}function E(e){return S(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=d,t.ContextProvider=l,t.Element=o,t.ForwardRef=u,t.Fragment=a,t.Lazy=v,t.Memo=_,t.Portal=i,t.Profiler=n,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||S(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return S(e)===d},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===u},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===v},t.isMemo=function(e){return S(e)===_},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===n},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===n||e===s||e===p||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===_||e.$$typeof===l||e.$$typeof===d||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===T||e.$$typeof===m)},t.typeOf=S},121296:(e,t,r)=>{"use strict";e.exports=r(396103)},441143:e=>{"use strict";e.exports=function(e,t,r,o,i,a,s,n){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,o,i,a,s,n],c=0;(l=new Error(t.replace(/%s/g,(function(){return d[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},63401:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"ClickableZones-module__root--JbouG"}},920090:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"ColorPicker-module__root--r18Mp",item:"ColorPicker-module__item--roRJI",itemWhite:"ColorPicker-module__itemWhite--iXviw"}},920199:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"DropBox-module__root--XvPl7",cap:"DropBox-module__cap--vK2Ix",hover:"DropBox-module__hover--xhKtQ"}},767499:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"EditorTabs-module__root--xC9mO",header:"EditorTabs-module__header--DebHh",item:"EditorTabs-module__item--NJSRV",disabled:"EditorTabs-module__disabled--SikJz",current:"EditorTabs-module__current--D4ZAT",itemDisabled:"EditorTabs-module__itemDisabled--uOB_1",itemCurrent:"EditorTabs-module__itemCurrent--mJ4ln",content:"EditorTabs-module__content--Qao2B",tab:"EditorTabs-module__tab--DkCUn",tabCurrent:"EditorTabs-module__tabCurrent--UZeU4",tooltip:"EditorTabs-module__tooltip--m9G_N",tooltipText:"EditorTabs-module__tooltipText--r6TB7"}},869356:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"EditorText-module__root--Ap_Wv",inner:"EditorText-module__inner--H0by8",textArea:"EditorText-module__textArea--vLhVk"}},116448:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"Layer-module__root--hzi3n",locked:"Layer-module__locked--KSVgJ",inner:"Layer-module__inner--t3OnO",innerDisabled:"Layer-module__innerDisabled--FSGs2"}},539970:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"LayerControls-module__root--X0SFG",handler:"LayerControls-module__handler--uzMf3",handlerNw:"LayerControls-module__handlerNw--rMcI2",handlerNe:"LayerControls-module__handlerNe--Ia8mp",handlerSw:"LayerControls-module__handlerSw--Oz0CA",handlerSe:"LayerControls-module__handlerSe--npGgd"}},522841:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"Layers-module__root--eily2",background:"Layers-module__background--ydZUY",items:"Layers-module__items--FSD3C"}},961329:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"SwitchMode-module__root--oTay5",mode:"SwitchMode-module__mode--lhDUq",icon:"SwitchMode-module__icon--j8CUy",active:"SwitchMode-module__active--Ybzc9"}},302757:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"BaseEditor-module__root--ScwNM",canvas:"BaseEditor-module__canvas--hETaA",tabs:"BaseEditor-module__tabs--zXkfR",inner:"BaseEditor-module__inner--szKEE",actions:"BaseEditor-module__actions--QG8Jk",preview:"BaseEditor-module__preview--CD2f8",fontPreload:"BaseEditor-module__fontPreload--XcwPT",inputFile:"BaseEditor-module__inputFile--ADnv8",submit:"BaseEditor-module__submit--eOpk6",buttons:"BaseEditor-module__buttons--x8ltN",imageContainer:"BaseEditor-module__imageContainer--C6bpE"}},15636:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"ColorCorrectionPanel-module__root--D3NbM",items:"ColorCorrectionPanel-module__items--IDy2f",item:"ColorCorrectionPanel-module__item--zL1cr",itemName:"ColorCorrectionPanel-module__itemName--zg83d",linkBox:"ColorCorrectionPanel-module__linkBox--Hbxma",link:"ColorCorrectionPanel-module__link--aNa88",icon:"ColorCorrectionPanel-module__icon--xXzja",box:"ColorCorrectionPanel-module__box--v3Es0",select:"ColorCorrectionPanel-module__select--Mex4R",slider:"ColorCorrectionPanel-module__slider--eT07G",dvd:"ColorCorrectionPanel-module__dvd--UCU8R"}},332582:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"CropControls-module__root--H8I9i",inner:"CropControls-module__inner--KU1Uq",grid:"CropControls-module__grid--ivPFa",line:"CropControls-module__line--pMh2g",lineH:"CropControls-module__lineH--wdxFO",lineV:"CropControls-module__lineV--p4FUg",handle:"CropControls-module__handle--GejlP",handleCorner:"CropControls-module__handleCorner--fIPLE",handleCornerNw:"CropControls-module__handleCornerNw--xDBXB",handleCornerNe:"CropControls-module__handleCornerNe--jp0Zz",handleCornerSw:"CropControls-module__handleCornerSw--aIj8P",handleCornerSe:"CropControls-module__handleCornerSe--PALix",handleN:"CropControls-module__handleN--yiyfp",handleS:"CropControls-module__handleS--k9lLC",handleW:"CropControls-module__handleW--hPDOR",handleE:"CropControls-module__handleE--Am5Y2",buttons:"CropControls-module__buttons--s94Wf",buttonsTop:"CropControls-module__buttonsTop--L8ZRw",buttonsSmall:"CropControls-module__buttonsSmall--uF93l",buttonSmall:"CropControls-module__buttonSmall--YWtui",separator:"CropControls-module__separator--YtezU"}},643617:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"CropPanel-module__root--tPtdx",title:"CropPanel-module__title--HbJBi",tabs:"CropPanel-module__tabs--wAcZT",tabsItem:"CropPanel-module__tabsItem--WOHBc",tabsButton:"CropPanel-module__tabsButton--QHS8K",tabsButtonActive:"CropPanel-module__tabsButtonActive--zjq1D",settings:"CropPanel-module__settings--w9rLR",settingsItem:"CropPanel-module__settingsItem--LyajM"}},739223:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"DrawPanel-module__root--IQZp0",sliders:"DrawPanel-module__sliders--tq_JM",slider:"DrawPanel-module__slider--Hm9l2",title:"DrawPanel-module__title--e5zY7"}},802383:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={canvas:"DrawingLayer-module__canvas--tCyu_",draw:"DrawingLayer-module__draw--Q5Eri",disabled:"DrawingLayer-module__disabled--Ldslr"}},588133:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"EditorCanvas-module__root--infnd",scaleButton:"EditorCanvas-module__scaleButton--jcypR",blurCursor:"EditorCanvas-module__blurCursor--eCGWc",postIcon:"EditorCanvas-module__postIcon--ZmI28"}},949887:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"FilterItem-module__root--UrDGu",active:"FilterItem-module__active--QXr2V",checked:"FilterItem-module__checked--Y0hS6",inner:"FilterItem-module__inner--gpZss",image:"FilterItem-module__image--Z6oLx",name:"FilterItem-module__name--AM3Ky"}},845897:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"FiltersPanel-module__root--pQY8D",header:"FiltersPanel-module__header--h9jZX",inner:"FiltersPanel-module__inner--iYIz5",slider:"FiltersPanel-module__slider--JaUNA",title:"FiltersPanel-module__title--bOk8X"}},803608:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"ImageLayer-module__root--Vieye"}},336130:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"StatusPanel-module__root--vhrMI",inner:"StatusPanel-module__inner--go05j",link:"StatusPanel-module__link--dXiXs",info:"StatusPanel-module__info--MWMSO",backgrounds:"StatusPanel-module__backgrounds--zDEX8",background:"StatusPanel-module__background--BSnzI",backgroundActive:"StatusPanel-module__backgroundActive--VSWEi",arrow:"StatusPanel-module__arrow--aFZUw",arrowIcon:"StatusPanel-module__arrowIcon--Mbxy3",arrowLeft:"StatusPanel-module__arrowLeft--sDnlK",arrowRight:"StatusPanel-module__arrowRight--DPN2B",square:"StatusPanel-module__square--YYlnf"}},1799:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"StickerPacksPanel-module__root--u4dlz",header:"StickerPacksPanel-module__header--onwOG",scroll:"StickerPacksPanel-module__scroll--KlA8j",tab:"StickerPacksPanel-module__tab--W_3in",tabSelected:"StickerPacksPanel-module__tabSelected--edFNA",arrow:"StickerPacksPanel-module__arrow--Cr_BC",arrowIcon:"StickerPacksPanel-module__arrowIcon--Ps327",arrowLeft:"StickerPacksPanel-module__arrowLeft--AztrR",arrowRight:"StickerPacksPanel-module__arrowRight--eiZOC",arrowRightDark:"StickerPacksPanel-module__arrowRightDark--gvJNL",arrowLeftDark:"StickerPacksPanel-module__arrowLeftDark--Tq8Xu",content:"StickerPacksPanel-module__content--KXzIc",preview:"StickerPacksPanel-module__preview--JgCBI",previewImage:"StickerPacksPanel-module__previewImage--6ExeP"}},604409:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"TextPanel-module__root--R00ld",button:"TextPanel-module__button--AAqOf",fonts:"TextPanel-module__fonts--fF2QW",fontSize:"TextPanel-module__fontSize--SxbI7",title:"TextPanel-module__title--_ejy8",radio:"TextPanel-module__radio--oUXPu",colors:"TextPanel-module__colors--qmM1M"}},361704:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={root:"UndoRedo-module__root--MmZ4W",button:"UndoRedo-module__button--DwckD"}},37209:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={classic:"font-style-module__classic--HY3X2",cursive:"font-style-module__cursive--GVFer",marker:"font-style-module__marker--O6ULI",italics:"font-style-module__italics--OppJ8",typewriter:"font-style-module__typewriter--BpS5v",poster:"font-style-module__poster--UA3tl",retro:"font-style-module__retro--ZdORQ",impact:"font-style-module__impact--Babvc",lobster:"font-style-module__lobster--lqyWe"}},405519:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o="attribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform vec2 u_resolution;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\t// convert the rectangle from pixels to 0.0 to 1.0\n\tvec2 zeroToOne = a_position / u_resolution;\n\n\t// convert from 0->1 to 0->2\n\tvec2 zeroToTwo = zeroToOne * 2.0;\n\n\t// convert from 0->2 to -1->+1 (clipspace)\n\tvec2 clipSpace = zeroToTwo - 1.0;\n\n\tgl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n\n\t// pass the texCoord to the fragment shader\n\t// The GPU will interpolate this value between points.\n\tv_texCoord = a_texCoord;\n}\n"},989900:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o="precision mediump float;\n\nvarying vec2 v_texCoord;\n\nuniform sampler2D u_image0; // image\nuniform sampler2D u_image1; // contrast_negative.png\nuniform sampler2D u_image2; // contrast_positive.png\nuniform sampler2D u_image3; // exposure_negative.png\nuniform sampler2D u_image4; // exposure_positive.png\nuniform sampler2D u_image5; // warm_negative_lut.png\nuniform sampler2D u_image6; // warm_positive_lit.png\nuniform sampler2D u_image7; // color table\n\nuniform float u_exposure;\nuniform float u_contrast;\nuniform float u_saturation;\nuniform float u_warmth;\nuniform float u_amount;\n\nvec3 ContrastSaturationBrightness(vec3 color, float brt, float sat, float con) {\n\tconst float AvgLumR = 0.5;\n\tconst float AvgLumG = 0.5;\n\tconst float AvgLumB = 0.5;\n\n\tconst vec3 LumCoeff = vec3(0.2125, 0.7154, 0.0721);\n\n\tvec3 AvgLumin = vec3(AvgLumR, AvgLumG, AvgLumB);\n\tvec3 brtColor = color * brt;\n\tvec3 intensity = vec3(dot(brtColor, LumCoeff));\n\tvec3 satColor = mix(intensity, brtColor, sat);\n\tvec3 conColor = mix(AvgLumin, satColor, con);\n\n\treturn conColor;\n}\n\nfloat BF_SoftLight(float base, float blend) {\n\treturn 2.0 * base * blend + base * base * (1.0 - 2.0 * blend);\n}\n\nvec3 BF_SoftLight(vec3 base, vec3 blend) {\n\treturn vec3(BF_SoftLight(base.r, blend.r), BF_SoftLight(base.g, blend.g), BF_SoftLight(base.b, blend.b));\n}\n\nvec3 Exposure(vec3 view, float intensity) {\n\tvec3 exposure1;\n\texposure1.r = texture2D(u_image3, vec2(view.r, 0.5)).r;\n\texposure1.g = texture2D(u_image3, vec2(view.g, 0.5)).g;\n\texposure1.b = texture2D(u_image3, vec2(view.b, 0.5)).b;\n\n\tvec3 exposure2;\n\texposure2.r = texture2D(u_image4, vec2(view.r, 0.5)).r;\n\texposure2.g = texture2D(u_image4, vec2(view.g, 0.5)).g;\n\texposure2.b = texture2D(u_image4, vec2(view.b, 0.5)).b;\n\n\tvec3 result;\n\tif (intensity >= 0.0) {\n\t\tresult = mix(view, exposure2, intensity);\n\t} else {\n\t\tresult = mix(view, exposure1, -intensity);\n\t}\n\n\treturn result;\n}\n\nvec3 Contrast(vec3 view, float intensity) {\n\tvec3 contrast1;\n\tcontrast1.r = texture2D(u_image1, vec2(view.r, 0.5)).r;\n\tcontrast1.g = texture2D(u_image1, vec2(view.g, 0.5)).g;\n\tcontrast1.b = texture2D(u_image1, vec2(view.b, 0.5)).b;\n\n\tvec3 contrast2;\n\tcontrast2.r = texture2D(u_image2, vec2(view.r, 0.5)).r;\n\tcontrast2.g = texture2D(u_image2, vec2(view.g, 0.5)).g;\n\tcontrast2.b = texture2D(u_image2, vec2(view.b, 0.5)).b;\n\n\tvec3 result;\n\tif (intensity >= 0.0) {\n\t\tresult = mix(view, contrast2, intensity);\n\t} else {\n\t\tresult = mix(view, contrast1, -intensity);\n\t}\n\n\treturn result;\n}\n\nvec3 ColorTemp(vec3 view, float intensity) {\n\tfloat blueColor = view.b * 63.0;\n\n\tvec2 quad1;\n\tquad1.y = floor(floor(blueColor) / 8.0);\n\tquad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n\tvec2 quad2;\n\tquad2.y = floor(ceil(blueColor) / 8.0);\n\tquad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n\tvec2 texPos1;\n\ttexPos1.x = (quad1.x * 0.125) + 0.5 / 960.0 + ((0.125 - 1.0 / 960.0) * view.r);\n\ttexPos1.y = (quad1.y * 0.125) + 0.5 / 960.0 + ((0.125 - 1.0 / 960.0) * view.g);\n\n\tvec2 texPos2;\n\ttexPos2.x = (quad2.x * 0.125) + 0.5 / 960.0 + ((0.125 - 1.0 / 960.0) * view.r);\n\ttexPos2.y = (quad2.y * 0.125) + 0.5 / 960.0 + ((0.125 - 1.0 / 960.0) * view.g);\n\n\tvec3 coldColor1 = texture2D(u_image5, texPos1).rgb;\n\tvec3 coldColor2 = texture2D(u_image5, texPos2).rgb;\n\tvec3 coldColor = mix(coldColor1, coldColor2, fract(blueColor));\n\n\tvec3 warmColor1 = texture2D(u_image6, texPos1).rgb;\n\tvec3 warmColor2 = texture2D(u_image6, texPos2).rgb;\n\tvec3 warmColor = mix(warmColor1, warmColor2, fract(blueColor));\n\n\tvec3 result;\n\n\tif (intensity >= 0.0) {\n\t\tresult = mix(view, warmColor, intensity);\n\t} else {\n\t\tresult = mix(view, coldColor, -intensity);\n\t}\n\n\treturn result;\n}\n\nvec3 Saturation(vec3 view, float intensity) {\n\treturn ContrastSaturationBrightness(view, 1.0, intensity, 1.0);\n}\n\nvec3 Lut(vec3 view, sampler2D tex, float intensity) {\n\tfloat blueColor = view.b * 63.0;\n\n\tvec2 quad1;\n\tquad1.y = floor(floor(blueColor) / 8.0);\n\tquad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n\tvec2 quad2;\n\tquad2.y = floor(ceil(blueColor) / 8.0);\n\tquad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n\tvec2 texPos1;\n\ttexPos1.x = (quad1.x * 0.125) + 0.5 / 512.0 + ((0.125 - 1.0 / 512.0) * view.r);\n\ttexPos1.y = (quad1.y * 0.125) + 0.5 / 512.0 + ((0.125 - 1.0 / 512.0) * view.g);\n\n\tvec2 texPos2;\n\ttexPos2.x = (quad2.x * 0.125) + 0.5 / 512.0 + ((0.125 - 1.0 / 512.0) * view.r);\n\ttexPos2.y = (quad2.y * 0.125) + 0.5 / 512.0 + ((0.125 - 1.0 / 512.0) * view.g);\n\n\tvec3 newColor1 = texture2D(tex, texPos1).rgb;\n\tvec3 newColor2 = texture2D(tex, texPos2).rgb;\n\n\tvec3 newColor = mix(newColor1, newColor2, fract(blueColor));\n\tvec3 color = mix(view, newColor, intensity);\n\n\treturn color;\n}\n\n// [-1.0; 1.0]\nvec3 pExposure(vec3 view, float intensity) {\n\tintensity = clamp(intensity, -1.0, 1.0);\n\treturn Exposure(view, intensity);\n}\n\n// [-1.0; 1.0]\nvec3 pContrast(vec3 view, float intensity) {\n\tintensity = clamp(intensity, -1.0, 1.0);\n\treturn Contrast(view, intensity);\n}\n\n// [-1.0; 1.0]\nvec3 pColorTemp(vec3 view, float intensity) {\n\tintensity = clamp(intensity, -1.0, 1.0);\n\treturn ColorTemp(view, intensity);\n}\n\n// [-1.0; 1.0]\nvec3 pSaturation(vec3 view, float intensity) {\n\tvec2 range = vec2(0.0, 1.6);\n\tintensity = clamp(intensity, -1.0, 1.0);\n\tintensity = (intensity >= 0.0) ? 1.0 + (range.y - 1.0) * intensity : range.x + (1.0 - range.x) * (intensity + 1.0);\n\treturn Saturation(view, intensity);\n}\n\n// [0.0; 1.0]\nvec3 pLut(vec3 view,sampler2D tex, float intensity) {\n\tvec2 range = vec2(0.0, 1.0);\n\tintensity = clamp(intensity, 0.0, 1.0);\n\treturn Lut(view, tex, intensity);\n}\n\nvoid main() {\n\t// Хак для того, чтобы перевернуть текстуру\n\tvec2 texelCoord = v_texCoord;\n\ttexelCoord.y = 1. - texelCoord.y;\n\n\tvec4 texture = texture2D(u_image0, texelCoord);\n\n\ttexture.rgb = pColorTemp(texture.rgb, u_warmth);\n\ttexture.rgb = pLut(texture.rgb, u_image7, u_amount);\n\ttexture.rgb = pExposure(texture.rgb, u_exposure);\n\ttexture.rgb = pContrast(texture.rgb, u_contrast);\n\ttexture.rgb = pSaturation(texture.rgb, u_saturation);\n\n\tgl_FragColor = texture;\n}\n"},810151:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o="precision mediump float;\n\nuniform sampler2D u_image0; // blurred image\nuniform sampler2D u_image1; // original image\nuniform vec2 u_position;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\t// Хак для того, чтобы перевернуть текстуру\n\tvec2 texelCoord = v_texCoord;\n\ttexelCoord.y = 1. - texelCoord.y;\n\n\tvec4 color = texture2D(u_image0, texelCoord);\n\tfloat distanceFromCenter = distance(u_position, texelCoord);\n\n\tcolor = mix(texture2D(u_image1, texelCoord), color, clamp(smoothstep(0.3 - 0.2, 0.3, distanceFromCenter), 0.0, 1.0));\n\tgl_FragColor = color;\n}\n"},217368:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o="precision mediump float;\n\nuniform sampler2D u_image0; // blurred image\nuniform sampler2D u_image1; // original image\nuniform vec2 u_position;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\t// Хак для того, чтобы перевернуть текстуру\n\tvec2 texelCoord = v_texCoord;\n\ttexelCoord.y = 1. - texelCoord.y;\n\n\tvec4 color = texture2D(u_image0, texelCoord);\n\tvec2 realPosition = u_position;\n\trealPosition.x = texelCoord.x;\n\n\tfloat distanceFromCenter = distance(realPosition, texelCoord);\n\tcolor = mix(texture2D(u_image1, texelCoord), color, clamp(smoothstep(0.2 - 0.1, 0.2, distanceFromCenter), 0.0, 1.0));\n\n\tgl_FragColor = color;\n}\n"},205483:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o="precision mediump float;\n\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\n\nvoid main() {\n\tvec4 color = texture2D(u_texture, vec2(v_texCoord.x, 1.0 - v_texCoord.y));\n\tgl_FragColor = color;\n}\n"},175811:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o="precision mediump float;\n\nvarying vec2 v_texCoord;\n\nuniform sampler2D u_image0;\n\nuniform float u_vignette;\nuniform float u_sharpness;\nuniform float u_grain;\n\nuniform vec2 u_sourceSize;\n\nvec4 rnm(in vec2 tc) {\n\tfloat timer = 0.4;\n\tfloat noise = sin(dot(tc + vec2(timer, timer), vec2(12.9898, 78.233))) * 43758.5453;\n\n\tfloat noiseR = fract(noise) * 2.0 - 1.0;\n\tfloat noiseG = fract(noise * 1.2154) * 2.0 - 1.0;\n\tfloat noiseB = fract(noise * 1.3453) * 2.0 - 1.0;\n\tfloat noiseA = fract(noise * 1.3647) * 2.0 - 1.0;\n\n\treturn vec4(noiseR,noiseG,noiseB,noiseA);\n}\n\nfloat fade(in float t) {\n\treturn t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n\nfloat pnoise3D(in vec3 p) {\n\tvec3 pi = 0.00195313 * floor(p) + 0.00195313;\n\tvec3 pf = fract(p); // Fractional part for interpolation\n\n\t// Noise contributions from (x=0, y=0), z=0 and z=1\n\tfloat perm00 = rnm(pi.xy).a ;\n\tvec3  grad000 = rnm(vec2(perm00, pi.z)).rgb * 4.0 - 1.0;\n\tfloat n000 = dot(grad000, pf);\n\tvec3  grad001 = rnm(vec2(perm00, pi.z + 0.00195313)).rgb * 4.0 - 1.0;\n\tfloat n001 = dot(grad001, pf - vec3(0.0, 0.0, 1.0));\n\n\t// Noise contributions from (x=0, y=1), z=0 and z=1\n\tfloat perm01 = rnm(pi.xy + vec2(0.0, 0.00195313)).a ;\n\tvec3  grad010 = rnm(vec2(perm01, pi.z)).rgb * 4.0 - 1.0;\n\tfloat n010 = dot(grad010, pf - vec3(0.0, 1.0, 0.0));\n\tvec3  grad011 = rnm(vec2(perm01, pi.z + 0.00195313)).rgb * 4.0 - 1.0;\n\tfloat n011 = dot(grad011, pf - vec3(0.0, 1.0, 1.0));\n\n\t// Noise contributions from (x=1, y=0), z=0 and z=1\n\tfloat perm10 = rnm(pi.xy + vec2(0.00195313, 0.0)).a ;\n\tvec3  grad100 = rnm(vec2(perm10, pi.z)).rgb * 4.0 - 1.0;\n\tfloat n100 = dot(grad100, pf - vec3(1.0, 0.0, 0.0));\n\tvec3  grad101 = rnm(vec2(perm10, pi.z + 0.00195313)).rgb * 4.0 - 1.0;\n\tfloat n101 = dot(grad101, pf - vec3(1.0, 0.0, 1.0));\n\n\t// Noise contributions from (x=1, y=1), z=0 and z=1\n\tfloat perm11 = rnm(pi.xy + vec2(0.00195313, 0.00195313)).a ;\n\tvec3  grad110 = rnm(vec2(perm11, pi.z)).rgb * 4.0 - 1.0;\n\tfloat n110 = dot(grad110, pf - vec3(1.0, 1.0, 0.0));\n\tvec3  grad111 = rnm(vec2(perm11, pi.z + 0.00195313)).rgb * 4.0 - 1.0;\n\tfloat n111 = dot(grad111, pf - vec3(1.0, 1.0, 1.0));\n\n\t// Blend contributions along x\n\tvec4 n_x = mix(vec4(n000, n001, n010, n011), vec4(n100, n101, n110, n111), fade(pf.x));\n\n\t// Blend contributions along y\n\tvec2 n_xy = mix(n_x.xy, n_x.zw, fade(pf.y));\n\n\t// Blend contributions along z\n\tfloat n_xyz = mix(n_xy.x, n_xy.y, fade(pf.z));\n\n\t// We're done, return the final noise value.\n\treturn n_xyz;\n}\n\n//2d coordinate orientation thing\nvec2 coordRot(in vec2 tc, in float angle) {\n\tfloat aspect = u_sourceSize.x / u_sourceSize.y;\n\tvec2 uv = (tc * 2.0) - 1.0;\n\tfloat rotX = (uv.x * aspect * cos(angle)) - (uv.y * sin(angle));\n\tfloat rotY = (uv.y * cos(angle)) + (uv.x * aspect * sin(angle));\n\trotX = ((rotX / aspect) * 0.5 + 0.5);\n\trotY = rotY * 0.5 + 0.5;\n\treturn vec2(rotX, rotY);\n}\n\nvec3 BF_Multiply(vec3 base, vec3 blend) {\n\treturn base * blend;\n}\n\nfloat BF_Screen(float base, float blend) {\n\treturn 1.0 - ((1.0 - base) * (1.0 - blend));\n}\n\nvec3 BF_Screen(vec3 base, vec3 blend) {\n\treturn 1.0 - ((1.0 - base) * (1.0 - blend));\n}\n\nvec3 Sharpness(vec3 view, float intensity) {\n\tvec2 uv = v_texCoord;\n\tvec2 step = 1.0 / u_sourceSize;\n\n\tvec3 texA = texture2D(u_image0, uv + vec2(-step.x, -step.y) * 1.0).rgb;\n\tvec3 texB = texture2D(u_image0, uv + vec2( step.x, -step.y) * 1.0).rgb;\n\tvec3 texC = texture2D(u_image0, uv + vec2(-step.x,  step.y) * 1.0).rgb;\n\tvec3 texD = texture2D(u_image0, uv + vec2( step.x,  step.y) * 1.0).rgb;\n\n\tvec3 around = 0.25 * (texA + texB + texC + texD);\n\tvec3 center  = texture2D(u_image0, uv ).rgb;\n\tvec3 col = center + (center - around) * intensity;\n\n\treturn col;\n}\n\nvec3 Grain(vec3 view, float intensity) {\n\tvec2 texCoord = v_texCoord;\n\n\tfloat timer = 0.4;\n\tfloat coloramount = 0.4;\n\tfloat grainsize = 2.0;\n\tfloat lumamount = 0.3;\n\n\tbool colored = true;\n\n\tvec3 rotOffset = vec3(1.425, 3.892, 5.835); // rotation offset values\n\tvec2 rotCoordsR = coordRot(texCoord, timer + rotOffset.x);\n\tvec3 noise = vec3(pnoise3D(vec3(rotCoordsR * vec2(u_sourceSize.x / grainsize, u_sourceSize.y / grainsize), 0.0)));\n\n\tif (colored) {\n\t\tvec2 rotCoordsG = coordRot(texCoord, timer + rotOffset.y);\n\t\tvec2 rotCoordsB = coordRot(texCoord, timer + rotOffset.z);\n\t\tnoise.g = mix(noise.r, pnoise3D(vec3(rotCoordsG * vec2(u_sourceSize.x / grainsize, u_sourceSize.y / grainsize), 1.0)), coloramount);\n\t\tnoise.b = mix(noise.r, pnoise3D(vec3(rotCoordsB * vec2(u_sourceSize.x / grainsize, u_sourceSize.y / grainsize), 2.0)), coloramount);\n\t}\n\n\tvec3 col = view.rgb;\n\tvec3 lumcoeff = vec3(0.299, 0.587, 0.114);\n\tfloat luminance = lumamount * dot(col, lumcoeff);\n\tfloat lum = smoothstep(0.2, 0.0, luminance);\n\n\tlum += luminance;\n\tnoise = mix(noise, vec3(0.0), pow(lum, 4.0));\n\tcol = col + noise * intensity;\n\n\treturn col;\n}\n\nvec3 Vignette(vec3 view, float intensity) {\n\tfloat inten = abs(intensity);\n\tfloat dist = distance(v_texCoord, vec2(0.5, 0.5));\n\tfloat size = 0.5 - inten * 0.4;\n\tfloat amount = inten * inten * 0.1 + 0.5 * inten;\n\tfloat vignette = smoothstep(0.8, size * 0.799, dist * (amount + size));\n\treturn (intensity >= 0.0) ? view * vignette : BF_Screen(view,vec3(1.0-vignette));\n}\n\n// [-1; 1]\nvec3 pSharpness(vec3 view, float intensity) {\n\tvec2 range = vec2(0.0, 1.5);\n\tintensity = clamp(intensity, 0.0, 1.0);\n\tintensity = (intensity >= 0.0) ? range.y * intensity : -range.x * (intensity+1.0) + range.x;\n\treturn Sharpness(view, intensity);\n}\n\n// [0; 1]\nvec3 pGrain(vec3 view, float intensity) {\n\tvec2 range = vec2(0.0, 0.2);\n\n\tintensity = clamp(intensity, 0.0, 1.0);\n\tintensity = (intensity >= 0.0) ? range.y * intensity : -range.x * (intensity + 1.0) + range.x;\n\treturn Grain(view, intensity);\n}\n\n// [-1; 1]\nvec3 pVignette(vec3 view, float intensity) {\n\tvec2 range = vec2(-1.0, 1.0);\n\tintensity = clamp(intensity, -1.0, 1.0);\n\tintensity = (intensity >= 0.0) ? range.y * intensity : -range.x * (intensity + 1.0) + range.x;\n\treturn Vignette(view, intensity);\n}\n\nvoid main() {\n\tvec4 texture = texture2D(u_image0, v_texCoord);\n\n\ttexture.rgb = pSharpness(texture.rgb, u_sharpness);\n\ttexture.rgb = pVignette(texture.rgb, u_vignette);\n\ttexture.rgb = pGrain(texture.rgb, u_grain);\n\n\tgl_FragColor = texture;\n}\n"},5973:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o="precision mediump float;\n\nuniform sampler2D u_image0; // original image\nuniform vec2 u_delta;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\tvec4 color = vec4(0.0);\n\tfloat total = 0.0;\n\tfloat offset = fract(sin(dot(gl_FragCoord.xyz, vec3(12.9898, 78.233, 151.7182))) * 43758.5453);\n\n\tfor (float t = -30.0; t <= 30.0; t++) {\n\t\tfloat percent = (t + offset - 0.5) / 30.0;\n\t\tfloat weight = 1.0 - abs(percent);\n\t\tvec4 sampleColor = texture2D(u_image0, v_texCoord + u_delta * percent);\n\t\tsampleColor.rgb *= sampleColor.a;\n\n\t\tcolor += sampleColor * weight;\n\t\ttotal += weight;\n\t}\n\n\tcolor = color / total;\n\tcolor.rgb /= color.a + 0.00001;\n\tgl_FragColor = color;\n}\n"},929804:(e,t,r)=>{"use strict";var o=r(14890).compose;t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?o:o.apply(null,arguments)}},942236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionCreators=t.ActionTypes=void 0;var r={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionTypes=r;var o={undo:function(){return{type:r.UNDO}},redo:function(){return{type:r.REDO}},jumpToFuture:function(e){return{type:r.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:r.JUMP_TO_PAST,index:e}},jump:function(e){return{type:r.JUMP,index:e}},clearHistory:function(){return{type:r.CLEAR_HISTORY}}};t.ActionCreators=o},18823:(e,t)=>{"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e){o=e},t.start=function(e,t){void(i={header:[],prev:[],action:[],next:[],msgs:[]}),o&&(console.group?(i.header=["%credux-undo","font-style: italic","action",e.type],i.action=l("action",s,e),i.prev=l("prev history",a,t)):(i.header=["redux-undo action",e.type],i.action=["action",e],i.prev=["prev history",t]))},t.end=function(e){o&&(console.group?i.next=l("next history",n,e):i.next=["next history",e],function(){var e=i,t=e.header,o=e.prev,a=e.next,s=e.action,n=e.msgs;if(console.group){var l,d,c,h,u;(l=console).groupCollapsed.apply(l,r(t)),(d=console).log.apply(d,r(o)),(c=console).log.apply(c,r(s)),(h=console).log.apply(h,r(a)),(u=console).log.apply(u,r(n)),console.groupEnd()}else{var p,g,_,v,m;(p=console).log.apply(p,r(t)),(g=console).log.apply(g,r(o)),(_=console).log.apply(_,r(s)),(v=console).log.apply(v,r(a)),(m=console).log.apply(m,r(n))}}())},t.log=function(){if(o){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.msgs=i.msgs.concat([].concat(t,["\n"]))}};var a="#9E9E9E",s="#03A9F4",n="#4CAF50";function l(e,t,r){return["%c".concat(e),"color: ".concat(t,"; font-weight: bold"),r]}},891619:(e,t)=>{"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=r,t.isHistory=function(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)},t.includeAction=function(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0}},t.excludeAction=function(e){var t=r(e);return function(e){return t.indexOf(e.type)<0}},t.combineFilters=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return function(r,o,i){return e(r,o,i)&&t(r,o,i)}}),(function(){return!0}))},t.groupByActionTypes=function(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}},t.newHistory=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:t,future:r,group:o,_latestUnfiltered:t,index:e.length,limit:e.length+r.length+1}}},21090:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return i.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return i.ActionCreators}}),Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return a.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return a.isHistory}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return a.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return a.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return a.combineFilters}}),Object.defineProperty(t,"groupByActionTypes",{enumerable:!0,get:function(){return a.groupByActionTypes}}),Object.defineProperty(t,"newHistory",{enumerable:!0,get:function(){return a.newHistory}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s.default}});var o,i=r(942236),a=r(891619),s=(o=r(582479))&&o.__esModule?o:{default:o}},582479:(e,t,r)=>{"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.set(t.debug);var r,o=d({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:a.ActionTypes.UNDO,redoType:a.ActionTypes.REDO,jumpToPastType:a.ActionTypes.JUMP_TO_PAST,jumpToFutureType:a.ActionTypes.JUMP_TO_FUTURE,jumpType:a.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},t,{initTypes:(0,s.parseActions)(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,s.parseActions)(t.clearHistoryType,[a.ActionTypes.CLEAR_HISTORY])}),n=o.neverSkipReducer?function(t,r){for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return d({},t,{present:e.apply(void 0,[t.present,r].concat(i))})}:function(e){return e};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.start(a,t);for(var l,d=t,c=arguments.length,h=new Array(c>2?c-2:0),f=2;f<c;f++)h[f-2]=arguments[f];if(!r){if(i.log("history is uninitialized"),void 0===t){var y={type:"@@redux-undo/CREATE_HISTORY"},T=e.apply(void 0,[t,y].concat(h));return d=u(T,o.ignoreInitialState),i.log("do not set initialState on probe actions"),i.end(d),d}(0,s.isHistory)(t)?(d=r=o.ignoreInitialState?t:(0,s.newHistory)(t.past,t.present,t.future),i.log("initialHistory initialized: initialState is a history",r)):(d=r=u(t,o.ignoreInitialState),i.log("initialHistory initialized: initialState is not a history",r))}switch(a.type){case void 0:return d;case o.undoType:return l=v(d,-1),i.log("perform undo"),i.end(l),n.apply(void 0,[l,a].concat(h));case o.redoType:return l=v(d,1),i.log("perform redo"),i.end(l),n.apply(void 0,[l,a].concat(h));case o.jumpToPastType:return l=_(d,a.index),i.log("perform jumpToPast to ".concat(a.index)),i.end(l),n.apply(void 0,[l,a].concat(h));case o.jumpToFutureType:return l=g(d,a.index),i.log("perform jumpToFuture to ".concat(a.index)),i.end(l),n.apply(void 0,[l,a].concat(h));case o.jumpType:return l=v(d,a.index),i.log("perform jump to ".concat(a.index)),i.end(l),n.apply(void 0,[l,a].concat(h));case m(a.type,o.clearHistoryType):return l=u(d.present,o.ignoreInitialState),i.log("perform clearHistory"),i.end(l),n.apply(void 0,[l,a].concat(h));default:if(l=e.apply(void 0,[d.present,a].concat(h)),o.initTypes.some((function(e){return e===a.type})))return i.log("reset history due to init action"),i.end(r),r;if(d._latestUnfiltered===l)return d;var S="function"==typeof o.filter&&!o.filter(a,l,d);if(S){var E=(0,s.newHistory)(d.past,l,d.future,d.group);return o.syncFilter||(E._latestUnfiltered=d._latestUnfiltered),i.log("filter ignored action, not storing it in past"),i.end(E),E}var x=o.groupBy(a,l,d);if(null!=x&&x===d.group){var w=(0,s.newHistory)(d.past,l,d.future,d.group);return i.log("groupBy grouped the action with the previous action"),i.end(w),w}return d=p(d,l,o.limit,x),i.log("inserted new state into history"),i.end(d),d}}};var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(18823)),a=r(942236),s=r(891619);function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){var r=(0,s.newHistory)([],e,[]);return t&&(r._latestUnfiltered=null),r}function p(e,t,r,o){var a=e.past.length+1;i.log("inserting",t),i.log("new free: ",r-a);var n=e.past,l=e._latestUnfiltered,d=r&&r<=a,c=n.slice(d?1:0),u=null!=l?[].concat(h(c),[l]):c;return(0,s.newHistory)(u,t,[],o)}function g(e,t){if(t<0||t>=e.future.length)return e;var r=e.past,o=e.future,i=e._latestUnfiltered,a=[].concat(h(r),[i],h(o.slice(0,t))),n=o[t],l=o.slice(t+1);return(0,s.newHistory)(a,n,l)}function _(e,t){if(t<0||t>=e.past.length)return e;var r=e.past,o=e.future,i=e._latestUnfiltered,a=r.slice(0,t),n=[].concat(h(r.slice(t+1)),[i],h(o)),l=r[t];return(0,s.newHistory)(a,l,n)}function v(e,t){return t>0?g(e,t-1):t<0?_(e,e.past.length+t):e}function m(e,t){return t.indexOf(e)>-1?e:!e}},427164:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var o,i=r(310396);e=r.hmd(e),o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:e;const a=(0,i.default)(o)},310396:(e,t,r)=>{"use strict";function o(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,{default:()=>o})},117709:(e,t,r)=>{"use strict";r.d(t,{fetchStickers:()=>n,showStickerShop:()=>l,getPhotoEditorData:()=>d});var o=r(514191),i=r(146143),a=r(501389),s=r(70162),n=function(e,t){window.ajax.post("al_photos.php",{act:"get_editor_data"},{onDone:e,onFail:t})},l=function(e){(0,i.showBox)("al_im.php",{act:"stickers_store",box:1},{stat:["im.css","imn.js","page_help.css",window.jsc("web/sorter.js")],params:{onDestroy:function(){e()}}})},d=function(e){return new Promise((function(t,r){o.ajax.post("al_photos.php",{act:"get_editor_data"},{onDone:function(e){t(e)},onFail:function(){return(0,i.showFastBox)({title:(0,s.getLang)("global_error")},(0,s.getLang)("global_error"),(0,s.getLang)("global_close"),(function(){(0,a.curBox)().hide(),null==e||e()})),r(),!0}})}))}},463005:(e,t,r)=>{"use strict";r.d(t,{getPhotoEditorLangMap:()=>i,loadPhotoEditorLangs:()=>a});var o=r(70162),i=function(){return{photos_pe_texts_placeholders:(0,o.getLang)("photos_pe_texts_placeholders").split("<br>"),photos_pe_fonts:(0,o.getLang)("photos_pe_fonts").split("<br>"),photos_pe_save_action:(0,o.getLang)("photos_pe_save_action"),photos_pe_publish_action:(0,o.getLang)("photos_pe_publish_action"),global_error:(0,o.getLang)("global_error"),stories_create_image_incorrect:(0,o.getLang)("stories_create_image_incorrect"),photos_pe_filters_disabled_text:(0,o.getLang)("photos_pe_filters_disabled_text"),photos_pe_filters_disabled_button:(0,o.getLang)("photos_pe_filters_disabled_button"),photos_pe_correction_exposure:(0,o.getLang)("photos_pe_correction_exposure"),photos_pe_correction_contrast:(0,o.getLang)("photos_pe_correction_contrast"),photos_pe_correction_saturation:(0,o.getLang)("photos_pe_correction_saturation"),photos_pe_correction_warmth:(0,o.getLang)("photos_pe_correction_warmth"),photos_pe_correction_vignette:(0,o.getLang)("photos_pe_correction_vignette"),photos_pe_correction_sharpness:(0,o.getLang)("photos_pe_correction_sharpness"),photos_pe_correction_grain:(0,o.getLang)("photos_pe_correction_grain"),photos_pe_correction_auto:(0,o.getLang)("photos_pe_correction_auto"),photos_pe_correction_auto_enabled:(0,o.getLang)("photos_pe_correction_auto_enabled"),photos_pe_cancel:(0,o.getLang)("photos_pe_cancel"),photos_pe_correction_blur_type_round:(0,o.getLang)("photos_pe_correction_blur_type_round"),photos_pe_correction_blur_type_rec:(0,o.getLang)("photos_pe_correction_blur_type_rec"),photos_pe_correction_blur:(0,o.getLang)("photos_pe_correction_blur"),photos_pe_correction_blur_enabled:(0,o.getLang)("photos_pe_correction_blur_enabled"),photos_pe_crop_cancel:(0,o.getLang)("photos_pe_crop_cancel"),photos_pe_crop_apply:(0,o.getLang)("photos_pe_crop_apply"),photos_pe_crop_aspect_title:(0,o.getLang)("photos_pe_crop_aspect_title"),photos_pe_crop_aspect_free:(0,o.getLang)("photos_pe_crop_aspect_free"),photos_pe_crop_aspect_original:(0,o.getLang)("photos_pe_crop_aspect_original"),photos_pe_crop_aspect_16_9:(0,o.getLang)("photos_pe_crop_aspect_16_9"),photos_pe_crop_aspect_4_3:(0,o.getLang)("photos_pe_crop_aspect_4_3"),photos_pe_crop_aspect_1_1:(0,o.getLang)("photos_pe_crop_aspect_1_1"),photos_pe_crop_aspect_3_4:(0,o.getLang)("photos_pe_crop_aspect_3_4"),photos_pe_crop_aspect_9_16:(0,o.getLang)("photos_pe_crop_aspect_9_16"),photos_pe_rotate_right:(0,o.getLang)("photos_pe_rotate_right"),photos_pe_rotate_left:(0,o.getLang)("photos_pe_rotate_left"),photos_pe_flip_horizontal:(0,o.getLang)("photos_pe_flip_horizontal"),photos_pe_flip_vertical:(0,o.getLang)("photos_pe_flip_vertical"),photos_pe_intensity:(0,o.getLang)("photos_pe_intensity"),photos_pe_line_width:(0,o.getLang)("photos_pe_line_width"),photos_pe_color:(0,o.getLang)("photos_pe_color"),photos_pe_attached_post:(0,o.getLang)("photos_pe_attached_post"),photos_pe_filter_regular:(0,o.getLang)("photos_pe_filter_regular"),photos_pe_filter_nox:(0,o.getLang)("photos_pe_filter_nox"),photos_pe_filter_vesper:(0,o.getLang)("photos_pe_filter_vesper"),photos_pe_filter_latona:(0,o.getLang)("photos_pe_filter_latona"),photos_pe_filter_liber:(0,o.getLang)("photos_pe_filter_liber"),photos_pe_filter_luna:(0,o.getLang)("photos_pe_filter_luna"),photos_pe_filter_minerva:(0,o.getLang)("photos_pe_filter_minerva"),photos_pe_filter_mitra:(0,o.getLang)("photos_pe_filter_mitra"),photos_pe_filter_pro:(0,o.getLang)("photos_pe_filter_pro"),photos_pe_filter_terra:(0,o.getLang)("photos_pe_filter_terra"),photos_pe_filter_veles:(0,o.getLang)("photos_pe_filter_veles"),photos_pe_filter_vesta:(0,o.getLang)("photos_pe_filter_vesta"),photos_pe_filter_zaria:(0,o.getLang)("photos_pe_filter_zaria"),photos_pe_filter_sepia:(0,o.getLang)("photos_pe_filter_sepia"),photos_pe_filter_genius:(0,o.getLang)("photos_pe_filter_genius"),photos_pe_filter_horus:(0,o.getLang)("photos_pe_filter_horus"),photos_pe_filter_fortuna:(0,o.getLang)("photos_pe_filter_fortuna"),photos_pe_filter_disabled:(0,o.getLang)("photos_pe_filter_disabled"),photos_pe_filter_enabled:(0,o.getLang)("photos_pe_filter_enabled"),photos_pe_delete_sticker:(0,o.getLang)("photos_pe_delete_sticker"),photos_pe_delete_text:(0,o.getLang)("photos_pe_delete_text"),photos_pe_save_text:(0,o.getLang)("photos_pe_save_text"),photos_filtered_restore:(0,o.getLang)("photos_filtered_restore"),photos_will_be_saved_to_pe_album:(0,o.getLang)("photos_will_be_saved_to_pe_album"),photos_pe_change_photo:(0,o.getLang)("photos_pe_change_photo"),photos_pe_add_text:(0,o.getLang)("photos_pe_add_text"),photos_pe_font:(0,o.getLang)("photos_pe_font"),photos_pe_font_size:(0,o.getLang)("photos_pe_font_size"),photos_pe_cancel_action:(0,o.getLang)("photos_pe_cancel_action")}},a=function(){return new Promise((function(e,t){window.ajax.post("al_photos.php",{act:"get_editor_langs"},{onDone:e,onFail:function(){return t(),!0}})}))}},109082:(e,t,r)=>{"use strict";r.d(t,{EVENTS:()=>l,sendStat:()=>c,prepareStat:()=>h,prepareMediaEditorStat:()=>u});var o=r(570655),i=r(327125),a=r(769488),s=r(506770),n=r(639481),l={FLIP_X:"flipX",FLIP_Y:"flipY",ADD_FILTER:"add_filter",REMOVE_FILTER:"remove_filter",UNDO:"undo",REDO:"redo",ENABLE_AUTOCORRECTION:"enable_autocorrection",DISABLE_AUTOCORRECTION:"disable_autocorrection",ENABLE_BLUR:"enable_blur",DISABLE_BLUR:"disable_blur",ZOOM:"zoom",UNZOOM:"unzoom",TURN_LEFT:"turn_left",TURN_RIGHT:"turn_right",ADD_STORY:"add_story",ADD_STORY_FROM_SHARING:"add_story_from_sharing",CLICK_TO_CAMERA_ICON:"click_to_camera_icon",CLICK_TO_GRADIENT_ICON:"click_to_gradient_icon",ADD_TEXT:"add_text",EDIT_TEXT:"edit_text",DELETE_TEXT:"delete_text",ADD_STICKER:"add_sticker",DELETE_STICKER:"delete_sticker",ADD_GRAFFITI:"add_graffiti",SELECT_BACKGROUND:"select_background"},d=[l.ADD_STORY,l.ADD_STORY_FROM_SHARING,l.CLICK_TO_CAMERA_ICON,l.CLICK_TO_GRADIENT_ICON,l.ADD_TEXT,l.EDIT_TEXT,l.DELETE_TEXT,l.ADD_STICKER,l.DELETE_STICKER,l.ADD_GRAFFITI,l.SELECT_BACKGROUND];function c(e){var t=0,r=0;if(window.cur.pvCurPhoto){var n=(0,o.__read)(window.cur.pvCurPhoto.id.split("_"),2),l=n[0],c=n[1];t=parseInt(l),r=parseInt(c)}var h={event_type:e,media_type:window.cur.storyPublishContext?"story":"photo",media_owner_id:t,media_id:r};(0,s.partConfigEnabled)("story_publish_analytics_log")&&(0,a.debugLog)(h),(0,i.statlogsValueEvent)("media_editor_product_analytics",h),d.includes(e)&&(0,i.statlogsValueEvent)("story_create_product_analytics",{event_type:e,story_type:"photo"})}function h(e,t,r,i){var a=0,s="photo";r===n.BACKGROUND_MODES.BACKGROUND&&(s=(a=i||0)>=300?"colors":a>=200?"advice_gradients":a>=100?"emojies":"gradients");var l={has_text:0,has_sticker:0,has_graffiti:0,background_type:s,background_id:a},d=[],c=[],h=[];return e.forEach((function(e){if(e.type===n.LAYER_TYPES.STICKER){var t=e,r=(0,o.__read)(t.id.split("_"),2),i=r[0],a=r[1],s=parseInt(i);d.push({id:parseInt(a),pack_id:s||0,type:s?"from_pack":"individual"})}else if(e.type===n.LAYER_TYPES.TEXT){t=e;c.push({text:t.text,font:t.fontStyle,size:Math.round(t.fontSize*n.FONT_SIZE_COEFFICIENT),color:t.color.slice(1),background:"none",align:"center"})}})),c.length&&(l.has_text=1,l.texts=c),d.length&&(l.has_sticker=1,l.stickers=d),t.forEach((function(e){h.push({brush:e.opacity,size:e.width,color:e.color.slice(1)})})),h.length&&(l.has_graffiti=1,l.graffities=h),l}function u(e,t){var r=0,i=0;if(window.cur.pvCurPhoto){var a=(0,o.__read)(window.cur.pvCurPhoto.id.split("_"),2),s=a[0],l=a[1];r=parseInt(s),i=parseInt(l)}var d={media_type:window.cur.storyPublishContext?"story":"photo",media_owner_id:r,media_id:i,is_cropped:t.isCropped,is_autocorrected:t.isAutoCorrection,rotation:t.rotation,filter:t.filter.name,filter_value:100*t.filter.value,ratio:t.cropAspect,photo_correction:[{type:"exposure",value:100*t.colorCorrection.exposure},{type:"contrast",value:100*t.colorCorrection.contrast},{type:"saturation",value:100*t.colorCorrection.saturation},{type:"warmth",value:100*t.colorCorrection.warmth},{type:"vignette",value:100*t.colorCorrection.vignette},{type:"sharpness",value:100*t.colorCorrection.sharpness},{type:"grain",value:100*t.colorCorrection.grain}]};t.blur.isEnabled&&(d.blur_type=t.blur.form,d.blur_value=t.blur.size);var c=[];return e.forEach((function(e){if(e.type===n.LAYER_TYPES.TEXT){var t=e;c.push({text:t.text,font:t.fontStyle,size:Math.round(t.fontSize*n.FONT_SIZE_COEFFICIENT),color:t.color.slice(1),background:"none",align:"center"})}})),c.length&&(d.has_text=1,d.texts=c),d}},159114:(e,t,r)=>{"use strict";e.exports=r.p+"images/248348a44a0935def9c9.png"},235073:(e,t,r)=>{"use strict";e.exports=r.p+"images/1de52286dbf7b88d25bc.png"},958006:(e,t,r)=>{"use strict";e.exports=r.p+"images/c25ddc84a3d7eabcf82b.png"},745992:(e,t,r)=>{"use strict";e.exports=r.p+"images/aee2fc67a2bdd59f50a6.png"},106526:(e,t,r)=>{"use strict";e.exports=r.p+"images/306e106a8dab66fbac5a.png"},807116:(e,t,r)=>{"use strict";e.exports=r.p+"images/ee6b986d8b4c216757b6.png"},401631:(e,t,r)=>{"use strict";e.exports=r.p+"images/f886c7c36b011bcd41e0.png"},701651:(e,t,r)=>{"use strict";e.exports=r.p+"images/587ce1a29ed815b2f545.png"},524513:(e,t,r)=>{"use strict";e.exports=r.p+"images/fe56dbb634cd1964248a.png"},210313:(e,t,r)=>{"use strict";e.exports=r.p+"images/7d31f7150a0ec52d253b.png"},928882:(e,t,r)=>{"use strict";e.exports=r.p+"images/ecd70db75f9d19df1fff.png"},947011:(e,t,r)=>{"use strict";e.exports=r.p+"images/2481b8307d0a75e9d3cb.png"},966617:(e,t,r)=>{"use strict";e.exports=r.p+"images/76d8486576b8e24f1f07.png"},139939:(e,t,r)=>{"use strict";e.exports=r.p+"images/dd054e951c3d91412038.png"},502986:(e,t,r)=>{"use strict";e.exports=r.p+"images/800bb1d0ba2c3d598b48.png"},611661:(e,t,r)=>{"use strict";e.exports=r.p+"images/7cdc43b6a7c952524483.png"},745898:(e,t,r)=>{"use strict";e.exports=r.p+"images/4f2faaad966db3f53ab1.png"},104933:(e,t,r)=>{"use strict";e.exports=r.p+"images/9566f3f60470946ebcf6.png"},446953:(e,t,r)=>{"use strict";e.exports=r.p+"images/72e32be18f4f24b06006.png"},914289:(e,t,r)=>{"use strict";e.exports=r.p+"images/879cfcb18132e6e20655.png"},728337:(e,t,r)=>{"use strict";e.exports=r.p+"images/9881f7f318e423cde3bc.png"},794600:(e,t,r)=>{"use strict";e.exports=r.p+"images/21519a04bfa0323a0394.png"},548236:(e,t,r)=>{"use strict";e.exports=r.p+"images/146ddbebcd61ef1603d7.png"},175223:(e,t,r)=>{"use strict";e.exports=r.p+"images/d17591dd24b17d2733c0.png"}}]);try{stManager.done("dist/9b69690c2f17eb6642dea9531af86fbd.0ffbdf1f41b06b8c16a8.js")}catch(e){}