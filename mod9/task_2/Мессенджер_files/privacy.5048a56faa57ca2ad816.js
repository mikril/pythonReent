(()=>{"use strict";var i,e,r,t,n,s,o={968298:(i,e,r)=>{r.d(e,{privacy:()=>_});r(747042),r(140561),r(324603),r(339714),r(804723),r(115306),r(864765),r(454747);var t=r(70162),n=r(514191),s=r(631351),o=r(873589),l=r(897449),c=r(152278),a=r(822560),d=r(342269),w=r(501389),u=r(290846),f=r(146143),p=r(315720),v=r(154675),_={customType:4,someType:5,listsType:6,contactsType:7,specialTypes:[8,9,10],flistBox(i,e,r,n,s,l,c){if(c=!!c,window.cur.flistTpl=n,0===r.length&&(r={}),window.cur.flistList=e,window.cur.flistFriends=e,window.cur.flistSearchList=[],window.cur.flistSearchTotal=-1,window.cur.flistSearchLoadStr="",window.cur.flistSelectedList=r&&r[0]?r:[],window.cur.flistSelected={},(0,d.each)(r,((i,e)=>{window.cur.flistSelected[e[0]]=1})),window.cur.flistSelectedShowed=0,window.cur.flistHash=l,window.cur.flistBox=i,window.cur.isVKMiniApp=c,window.cur.flistIndex=new p.vkIndexer(e,(i=>i[1]+" "+i[4])),i.removeButtons(),i.addButton(s||(0,t.getLang)("global_save"),this.submitFlistBox),window.cur.flistTooltip){var a=(0,o.ge)("flist_sel"),w={className:"flist_info_tt",text:window.cur.flistTooltip,width:250,nohide:1,nohideover:1};w=window.cur.flistTooltipRight?(0,d.extend)(w,{dir:"left",slideX:-15,shift:[-(0,o.getSize)(a)[0]-15,-28]}):(0,d.extend)(w,{dir:"right",slideX:15,shift:[265,-28]}),(0,u.showTooltip)(a,w),window.stManager.add([window.jsc("web/tooltips.js")],(()=>{i.setOptions({onHide:tooltips.hide.pbind(a)})}))}else i.addButton((0,t.getLang)("global_cancel"),(()=>{i.hide()}),"no");return window.cur.flistScrollbar=new Scrollbar("flist_scroll_wrap",{nomargin:!0,right:window.vk.rtl?"auto":0,left:window.vk.rtl?0:"auto",more:_.flistMore,onScroll:i=>{(0,o.ge)("flist_scroll_wrap").scrollTop>0?(0,o.addClass)("flist_cont","flist_scrolled"):(0,o.removeClass)("flist_cont","flist_scrolled")}}),window.cur.flistAllCont=(0,o.ge)("flist_all_list"),window.cur.flistSelCont=(0,o.ge)("flist_sel_list"),window.cur.flistSearchEl=(0,o.ge)("flist_search"),window.cur.flistSearchContEl=(0,o.geByClass1)("flist_search_cont","flist_cont"),window.cur.flistLimit&&window.cur.flistSelectedCnt>=window.cur.flistLimit-1&&_.flistFull(),window.cur.flistCountStr&&window.cur.flistSelectedCnt>0&&((0,o.ge)("flist_sel_summary").innerHTML=(0,t.langNumeric)(window.cur.flistSelectedCnt,window.cur.flistCountStr)),(0,o.toggleClass)("flist_cont","flist_select_items",window.cur.flistSelectedCnt>0),!1},submitFlistBox(){var i=(0,o.ge)("flist_list_name"),e=!1;if((0,o.isVisible)(i)){if(!(e=i.value))return(0,l.notaBene)(i);(0,a.placeholderSetup)(i,{back:!0}),(0,o.elfocus)(i,0,i.value.length)}var r={},t=[];if(window.cur.isVKMiniApp&&(r.lists=[],r.friends=[]),(0,d.each)(window.cur.flistSelectedList,((i,e)=>{window.cur.isVKMiniApp?"list"===e[5]?r.lists.push(e):r.friends.push(e):r[e[0]]=e,t.push(e[0])})),window.cur.flistFriendsPrivacy)return n.ajax.post("al_settings.php",{act:"hide_friends",hash:window.cur.flistHash,ids:t.join(",")},{onDone:(i,e)=>{(0,w.showDoneBox)(window.cur.flistFriendsPrivacyText),window.cur.flistBox.hide()},showProgress:window.cur.flistBox.showProgress,hiderogress:window.cur.flistBox.hideProgress}),(0,w.showDoneBox)(window.cur.flistFriendsPrivacyText,{out:4e3}),void(window.cur.flistNavReload&&setTimeout((()=>{window.nav.reload()}),2e3));window.cur.onFlistSave&&window.cur.onFlistSave(t,r,window.cur.flistHash,e),window.cur.flistBox.leaveOnSave||window.cur.flistBox.hide(!0)},flistMore(){window.cur.privacy&&window.cur.privacy.pagination&&!window.cur.flistSelectedShowed&&window.cur.flistList.length-window.cur.flistShown<10&&window.cur.flistList.length<window.cur.flistTotalCount?window.cur.flistSearchStr?_.flistSearchPagination():window.cur.flistMoreLoading||(window.cur.flistMoreLoading=!0,n.ajax.post("al_friends.php",(0,d.extend)({},window.cur.privacy.chooseBoxOpts||{},{act:"select_friends_box",Checked:Object.keys(window.cur.flistSelected).join(","),pagination:1,offset:window.cur.flistList.length}),{onDone:i=>{window.cur.flistMoreLoading=!1,(0,d.isArray)(i)&&(i.forEach((i=>{window.cur.flistFriends.push(i),window.cur.flistIndex.add(i)})),_.flistMore())},onFail:()=>{window.cur.flistMoreLoading=!1}})):_.flistDrawItems()},flistDrawItems(){for(var i=window.cur.flistShown+60;window.cur.flistShown<i&&_.flistShowOne(window.cur.flistList[window.cur.flistShown+1]);)++window.cur.flistShown;setTimeout((()=>{window.cur.flistScrollbar&&window.cur.flistScrollbar.update()}),10)},flistShowOne(i,e){if(!i)return!1;if((0,o.ge)("flist_item_wrap"+i[0]))return(0,o.show)((0,o.ge)("flist_item_wrap"+i[0])),!0;var r=i[1];window.cur.flistSelection&&(r=r.replace(window.cur.flistSelection.re,window.cur.flistSelection.val));var t=(0,o.ce)("div",{id:"flist_item_wrap"+i[0],className:"flist_item_wrap"+(window.cur.flistSelected[i[0]]?" flist_item_checked":""),innerHTML:(0,o.rs)(window.cur.flistTpl,{id:i[0],name:r,photo:i[2],alt:(0,d.clean)(r)})});return e?window.cur.flistAllCont.insertBefore(t,window.cur.flistAllCont.firstChild):window.cur.flistAllCont.appendChild(t),!0},flistSelect(i,e,r){var n=(0,o.ge)("flist_item_wrap"+i),s=e.parentNode,l=Boolean(e.dataset.isOne);if("flist_item_sel"==s.id.slice(0,14)||(0,o.hasClass)(n,"flist_item_checked")){delete window.cur.flistSelected[i];for(var c=0;c<window.cur.flistSelectedList.length;c++)if(window.cur.flistSelectedList[c][0]==i){window.cur.flistSelectedList.splice(c,1);break}n&&(0,o.removeClass)(n,"flist_item_checked");var a=(0,o.ge)("flist_item_sel"+i);if(a&&((0,o.re)(a),window.cur.flistSelectedCnt>window.cur.flistSelInRow&&window.cur.flistSelectedList[window.cur.flistSelInRow-1])){var u=window.cur.flistSelectedList[window.cur.flistSelInRow-1];(0,o.ge)("flist_item_sel"+u[0])||window.cur.flistSelCont.insertBefore((0,o.ce)("div",{id:"flist_item_sel"+u[0],className:"flist_item_wrap",innerHTML:(0,o.rs)(window.cur.flistTpl,{id:u[0],name:u[1],photo:u[2],alt:(0,d.clean)(u[1])})}),(0,o.ge)("flist_sel_show_all"))}window.cur.flistSelectedCnt--,0===window.cur.flistSelectedCnt?((0,o.show)("flist_info"),window.cur.flistSelectedShowed||(0,o.hide)("flist_search_toggler_wrap")):window.cur.flistSelectedCnt>window.cur.flistSelInRow?((0,o.val)("flist_sel_show_all","+"+(window.cur.flistSelectedCnt-window.cur.flistSelInRow)),(0,o.removeClass)("flist_sel_show_all","unshown")):window.cur.flistSelectedCnt==window.cur.flistSelInRow&&(0,o.addClass)("flist_sel_show_all","unshown"),window.cur.flistLimit&&window.cur.flistSelectedCnt==window.cur.flistLimit-1&&(0,o.removeClass)(window.cur.flistAllCont,"flist_full"),(0,w.curBox)().changed=!0}else if(!(0,o.hasClass)(n,"flist_item_checked")){if(window.cur.flistLimit&&window.cur.flistSelectedCnt>=window.cur.flistLimit)return _.flistFull(r||window.event),!1;var f=(0,o.val)(n);if((0,o.addClass)(n,"flist_item_checked"),0==window.cur.flistSelectedCnt&&((0,o.hide)("flist_info"),(0,o.show)("flist_search_toggler_wrap")),window.cur.flistSelectedCnt++,window.cur.flistSelCont.insertBefore((0,o.ce)("div",{id:"flist_item_sel"+i,className:"flist_item_wrap",innerHTML:f}),window.cur.flistSelCont.firstChild),window.cur.flistSelectedCnt>window.cur.flistSelInRow){var p=(0,o.geByClass)("flist_item_wrap",window.cur.flistSelCont);(0,o.re)(p[p.length-1]),(0,o.val)("flist_sel_show_all","+"+(window.cur.flistSelectedCnt-window.cur.flistSelInRow)),(0,o.removeClass)("flist_sel_show_all","unshown")}window.cur.flistLimit&&window.cur.flistSelectedCnt>=window.cur.flistLimit&&_.flistFull(r||window.event);for(var v=0;v<window.cur.flistList.length;v++)if(window.cur.flistList[v]&&window.cur.flistList[v][0]==i){window.cur.flistSelectedList.unshift(window.cur.flistList[v]);break}window.cur.flistSelected[i]=1,window.cur.flistSearchStr&&_.flistSearch(!1)}return(0,o.toggleClass)("flist_cont","flist_select_items",window.cur.flistSelectedCnt>0),window.cur.flistCountStr&&(0,o.val)("flist_sel_summary",window.cur.flistSelectedCnt>0?(0,t.langNumeric)(window.cur.flistSelectedCnt,window.cur.flistCountStr):window.cur.flistNoSelStr),window.cur.flistScrollbar.update(),l&&this.submitFlistBox(),!1},flistFull(i){var e;i&&((0,o.hasClass)(i.target,"flist_item_thumb")?e=i.target:((0,o.hasClass)(i.target,"flist_item")&&(e=i.target)||(e=(0,o.gpeByClass)("flist_item",i.target)))&&(e=(0,o.geByClass1)("flist_item_thumb",e)),e&&(window.tooltips&&tooltips.hideAll(),(0,u.showTooltip)(e,{text:window.cur.limitTooltip,className:"flist_max_size_tt",dir:"auto",slide:-15,shift:[15,10],nohide:1,nohideover:1,hasover:1}),setTimeout((()=>{window.tooltips&&tooltips.hide(e)}),2e3)));(0,o.addClass)(window.cur.flistAllCont,"flist_full")},flistSearch(i){i=(0,d.trim)(i),window.cur.flistSearchStr=i,window.cur.privacy&&window.cur.privacy.pagination&&!window.cur.flistSelectedShowed&&window.cur.flistIndex.list.length<window.cur.flistTotalCount&&i?_.flistSearchPagination():(window.cur.flistSearchList=[],window.cur.flistSearchTotal=-1,window.cur.flistSearchLoadStr="",clearTimeout(window.cur.flistSearchLoadMore),i?(window.cur.flistList=(window.cur.flistSelectedShowed?window.cur.flistSelectedIndex:window.cur.flistIndex).search(i),window.cur.flistSelection={re:new RegExp("("+i.replace(window.cur.flistIndex.delimiter,"|").replace(/[\/\\\(\)\[\]\{\}\*,]/g,"").replace(/^\||\|$/g,"")+")","gi"),val:'<em class="highlight">$1</em>'},window.cur.flistScrollbar.scrollTop(0)):(window.cur.flistList=window.cur.flistSelectedShowed?window.cur.flistSelectedList:window.cur.flistFriends,window.cur.flistSelection=!1,(0,o.val)(window.cur.flistSearchEl,""),(0,o.addClass)(window.cur.flistSearchContEl,"ui_search_field_empty")),window.cur.flistList.length?(window.cur.flistAllCont.innerHTML="",window.cur.flistShown=-1,_.flistMore()):(window.cur.flistAllCont.innerHTML="",window.cur.flistAllCont.append((0,o.ce)("div",{className:"flist_empty no_select",innerHTML:(0,t.getLang)("apps_no_friends_for_query")})),window.cur.flistShown=0))},flistSearchPagination(){if(!(window.cur.flistSearchLoading||window.cur.flistSearchLoadStr===window.cur.flistSearchStr&&window.cur.flistSearchList.length>=window.cur.flistSearchTotal)&&window.cur.privacy){var i=window.cur.flistSearchStr;window.cur.flistSearchLoadMore&&clearTimeout(window.cur.flistSearchLoadMore),window.cur.flistSearchLoadStr===i?e():window.cur.flistSearchLoadMore=setTimeout(e,500)}function e(){window.cur.flistSearchLoading=!0,n.ajax.post("al_friends.php",(0,d.extend)({},window.cur.privacy.chooseBoxOpts||{},{act:"select_friends_search",q:i,offset:window.cur.flistSearchLoadStr===i?window.cur.flistSearchList.length:0}),{onDone:(e,r)=>{window.cur.flistSearchLoadStr!==i&&(window.cur.flistSearchLoadStr=i,window.cur.flistShown=-1,window.cur.flistSearchList=[],window.cur.flistAllCont.innerHTML=""),window.cur.flistSearchTotal=+r,e.forEach((i=>{window.cur.flistSearchList.push(i)})),window.cur.flistList=window.cur.flistSearchList,_.flistDrawItems(),window.cur.flistSearchLoading=!1},onFail:()=>{window.cur.flistSearchLoading=!1}})}},flistToggleAllSelected(){window.cur.flistSelectedShowed?(window.cur.flistSelectedShowed=0,(0,o.removeClass)("flist_sel_show_all","flist_sel_showed_all"),(0,o.removeClass)("flist_search_toggler","on"),0===window.cur.flistSelectedCnt&&((0,o.hide)("flist_search_toggler_wrap"),(0,o.removeClass)("flist_cont","flist_select_items")),_.flistSearch(!1)):(window.cur.flistSelectedShowed=1,(0,o.addClass)("flist_sel_show_all","flist_sel_showed_all"),(0,o.addClass)("flist_search_toggler","on"),window.cur.flistList=window.cur.flistSelectedList,window.cur.flistAllCont.innerHTML="",window.cur.flistShown=-1,_.flistMore(),window.cur.flistSelectedIndex=new p.vkIndexer(window.cur.flistSelectedList,(i=>i[1]+" "+i[4]))),window.cur.flistSelection=!1,(0,o.val)(window.cur.flistSearchEl,"")},hideFriends(i,e){var r=window.cur.privacy[i][2];return(0,f.showBox)("al_friends.php",{act:"select_friends_box",from:"friends_privacy",Checked:r.join(",")},{stat:[window.jsc("web/privacy.js"),"privacy.css",window.jsc("web/indexer.js")]}),window.cur.onFlistSave=function(e,r,t){n.ajax.post("al_settings.php",{act:"hide_friends",hash:t,ids:e.join(",")},{onDone:(e,r)=>{(0,o.ge)("privacy_"+i+"_hide").innerHTML=e,window.cur.privacy[i]=r,window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(i)}})},!1},update(i,e){var r=(0,o.ge)("privacy_edit_"+i),t=window.cur.privacy[i],n=t[0],s=window.cur.privacy[i+"_types"]||window.cur.privacy._types,l=window.cur.privacy[i+"_lists"]||window.cur.privacy._lists||{},c={};for(var a in l)l.hasOwnProperty(a)&&(c[parseInt(a)]=l[a]);if(r){var d=!s[n]&&i.match("profile_button");r.innerHTML=d?s.list28:s[n];var w=(0,o.ge)("privacy_header");w&&(w.innerHTML=d?s.list28:s[n]);var u=(0,o.gpeByClass)("privacy_edit_wrap",r);if(u&&u.nextSibling&&!d)if(n==_.listsType){var f=[];for(var p in t[2])if(t[2].hasOwnProperty(p)){var h=-t[2][p],y=(h-1)%8+1;if(c[h]){var S=void 0;S=h<100?'<a href="/friends?section=list'+h+'" class="group'+y+'" role="listitem">'+c[h]+"</a>":'<span class="group'+y+'">'+c[h]+"</span>",f.push(S)}}u.nextSibling.innerHTML=(f.length?": ":"")+f.join(", ")}else u.nextSibling.innerHTML="";if(u&&(0,o.hasClass)(u,"privacy_graphic"))(0==n&&"hidden_friends"!==i||n==_.customType&&t[1]&&t[2]&&"0"==t[2][0]||1==n&&"appscall"===i||1==n&&"bdate_visibility"===i?o.removeClass:o.addClass)(u,"privacy_locked")}window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(i,e?(0,v.fixPrivacyValueTypes)(e):e)},setValue(i,e){var r=window.cur.privacy[i],t=window.cur.onPrivacyChanged;window.cur.privacy[i]=e,window.cur.onPrivacyChanged=null,_.update(i,r),window.cur.onPrivacyChanged=t},someSaved(i,e,r,n){var s=window.cur.privacy[i];window.cur.privacy[i]=[_.someType,0,e,[]];for(var l=window.cur.privacy.lang||{},c=e.length,a=[],d=0;d<c&&d<5;++d){var w=e[d],u=n?r[d]:r[w],f=u[4].replace(/'/g,"");a.push('<a href="/'+(f||"id"+w)+'" onclick="return nav.go(this, event)">'+(u[5]||u[1])+"</a>")}a=a.join(", "),c>5&&(a+=" "+(l.some?(0,t.getLang)(l.some,c-5):(0,t.getLang)("privacy_N_friends_some",c-5)));var p=(0,o.ge)("privacy_edit_"+i),v=(0,o.gpeByClass)("privacy_edit_wrap",p),h=window.cur.privacy[i+"_types"]||window.cur.privacy._types;p.innerHTML=h[_.someType],v.nextSibling.innerHTML=": "+a,window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(i,s)},customSaved(i,e,r,n){var s=window.cur.privacy[i];window.cur.privacy[i]=e;var l=window.cur.privacy.lang||{};if(1==e[1]&&!e[3].length||e[0]==_.listsType)_.update(i,s);else if(e[0]==_.someType)_.someSaved(i,e[2],r,!0);else{var c=(0,o.ge)("privacy_edit_"+i),a=(0,o.gpeByClass)("privacy_edit_wrap",c),d=window.cur.privacy[i+"_types"]||window.cur.privacy._types,w=window.cur.privacy[i+"_lists"]||window.cur.privacy._lists||{},u=d[_.listsType],f="";if(1==e[1])u=d[e[2][0]];else{f=[];for(var p=r.length,v=!1,h=0;h<p&&h<5;++h){var y=r[h],S=y[0];if(S>0){var g=y[4].replace(/'/g,"");v=!0,f.push('<a href="/'+(g||"id"+S)+'" onclick="return nav.go(this, event)">'+y[6]+"</a>")}else{var m=-S,C=(m-1)%8+1;f.push('<a href="/friends?section=list'+m+'" class="group'+C+'" role="listitem">'+w[m]+"</a>")}}v&&(u=d[_.someType]),f=": "+f.join(", "),p>5&&(f+=" "+(0,t.getLang)(l.some||"privacy_N_friends_some",p-5))}if(n.length){for(var T=n.length,L=[],b=0;b<T&&b<5;++b){var E=n[b],x=E[0];if(x>0){var A=E[4].replace(/'/g,"");L.push('<a href="/'+(A||"id"+x)+'" onclick="return nav.go(this, event)">'+E[6]+"</a>")}else{var O=-x,P=(O-1)%8+1;L.push('<a href="/friends?section=list'+O+'" class="group'+P+'" role="listitem">'+w[O]+"</a>")}}f+=", "+(0,t.getLang)("global_privacy_except")+" "+L.join(", "),T>5&&(f+=" "+(0,t.getLang)("privacy_N_friends_more",T-5))}c.innerHTML=u,a.nextSibling.innerHTML=f,(0,o.hasClass)(a,"privacy_graphic")&&(e[1]&&e[2]&&"0"==e[2][0]?o.removeClass:o.addClass)(a,"privacy_locked"),window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(i)}},choose(i,e,r,t){var n=window.cur.privSel,s=window.cur.privacy._noselect||"chat_actions"===n,l=window.cur.privacy[n];if(!window.cur.privacyNeedConfirm||t){if(s)return window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(n,e,r),_.qhide(),(0,c.cancelEvent)(i);if(e==_.customType){var a,w,u=[],p="";return l[0]==_.customType?(a=l[1],w=l[2],u=l[3]):l[0]==_.someType||l[0]==_.listsType?(a=0,w=l[2]):(a=1,w=l[2]),window.cur.onCprivSave=_.customSaved.pbind(n),window.cur.privacy.custom_box_type&&(p=window.cur.privacy.custom_box_type),(0,f.showBox)("al_friends.php",(0,d.extend)(window.cur.privacy.chooseBoxOpts||{},{act:"custom_privacy_box",type:a,plus:w.join(","),minus:u.join(","),opt:p,key:n}),{stat:["ui_controls.js","ui_controls.css"]})}if(e==_.someType){var v=l[0]==_.someType||l[0]==_.complexType&&0==l[1]?l[2].join(","):"";return window.cur.onFlistSave=function(i,e){_.someSaved(n,i,e)},(0,f.showTabbedBox)("al_friends.php",(0,d.extend)({},window.cur.privacy.chooseBoxOpts||{},{act:"select_friends_box",Checked:v,pagination:window.cur.privacy.pagination?1:""}),{stat:["ui_controls.js"]})}if(e==_.listsType){var h=(0,o.ge)("privacy_l_item"+r);if(!h&&n.match("profile_button"))l=window.cur.privacy[n]=[e,0,[-r],[]];else if("l_item_sel"==h.className){h.className="l_item";var y=(0,d.indexOf)(l[2],-r);if(-1!=y&&l[2].splice(y,1),!l[2].length&&"updates"!=n){var S=window.cur.privacy[n+"_types"]||window.cur.privacy._types,g=Object.keys(S);window.cur.privacy[n]=[(0,d.intval)(g[0]),1,[0],[]]}}else h.className="l_item_sel",l[0]!=e&&(l=window.cur.privacy[n]=[e,0,[],[]]),l[2].push(-r);return _.update(n,l),(0,c.cancelEvent)(i)}window.cur.privacy[n]=[e,1,[e],[]],_.update(n,l),_.qhide()}else window.cur.privacyNeedConfirm(n,e,(()=>{_.show((0,o.ge)("privacy_edit_"+n),i,n),_.choose(i,e,r,!0)}))},select(i,e){if(e||i!==window.cur.privSelIndex){if(!1!==window.cur.privSelIndex){var r=(0,o.ge)("privacy_item"+window.cur.privSelIndex);r&&(r.className="item"),window.cur.privSelIndex==_.listsType&&window.cur.privacy[window.cur.privSel][0]!=_.listsType&&(0,o.hide)(r.nextSibling)}window.cur.privSelIndex=i;var t=(0,o.ge)("privacy_item"+window.cur.privSelIndex),n=window.cur.privSelIndex==_.someType?"_plus":"";t.nextSibling&&t.nextSibling.id=="privacy_item"+_.listsType&&(0,o.isVisible)(t.nextSibling.nextSibling)?t.className="last item_sel"+n:i==_.listsType?(0,o.show)(t.nextSibling):t.className="item_sel"+n}},unselect(i){i==window.cur.privSelIndex&&((0,o.ge)("privacy_item"+i).className="item",window.cur.privSelIndex=!1)},hide(i){if(i&&i>0)window.cur.hidePrivacyTimer=window.setTimeout((()=>_.hide(0)),i);else{clearTimeout(window.cur.hidePrivacyTimer);var e=(0,o.ge)("privacy_header");e&&(-1===i?((0,o.hide)(window.cur.privEl),e&&e.tt&&(0,d.isFunction)(e.tt.hide)&&e.tt.hide()):o.isVisible&&((0,s.fadeOut)(window.cur.privEl,200),e&&e.tt&&(0,d.isFunction)(e.tt.hide)&&e.tt.hide()),window.cur.privSel=window.cur.privSelIndex=!1,(0,c.removeEvent)(document,"click",_.qhide))}},show(i,e,r){if((0,o.hasClass)(i,"privacy_link_disabled"))return(0,c.cancelEvent)(e);var t=window.cur.privacy[r],n=(0,o.gpeByClass)("privacy_edit_wrap",i);if(t&&n){if(window.cur.onPrivacyShow&&window.cur.onPrivacyShow(r),window.cur.privEl||(window.cur.privEl=(0,o.ge)("privacy_dropdown"),window.cur.privEl&&(window.cur.privRows=window.cur.privEl.firstChild)),window.cur.privEl){if(window.cur.privEl.parentNode!=n){(0,o.re)(window.cur.privEl),window.cur.privEl=n.appendChild(window.cur.privEl);var s=(0,o.ge)("privacy_header");s&&s.tt&&(0,d.isFunction)(s.tt.hide)&&s.tt.hide()}}else window.cur.privEl=n.appendChild((0,o.ce)("div",{id:"privacy_dropdown",innerHTML:'<div class="rows rows__flex"></div>'})),window.cur.privRows=window.cur.privEl.firstChild,(0,c.addEvent)(window.cur.privEl,"mouseout",_.hide.pbind(500)),(0,c.addEvent)(window.cur.privEl,"mouseover",(()=>{clearTimeout(window.cur.hidePrivacyTimer)}));window.cur.privEl.className="privacy_dropdown privacy_dropdown_"+r,setTimeout(c.addEvent.pbind(document,"click",_.qhide),1);var l=window.cur.privacy[r+"_types"]||window.cur.privacy._types,a=window.cur.privacy[r+"_lists"]||window.cur.privacy._lists||{},w=window.cur.privacy[r+"_hidden"]||window.cur.privacy._hidden||{},f=(0,o.getStyle)(i,"fontSize")||parseInt(window.getComputedStyle(document.body).fontSize);(0,o.setStyle)(window.cur.privRows,{fontSize:f}),window.cur.privSelIndex=t[0],w[window.cur.privSelIndex]&&(window.cur.privSelIndex=0);var p,v,h=[],y=Object.keys(a).length>0;for(var S in h.push('<div class="header" onclick="Privacy.hide(-1)"><div id="privacy_header" class="header_label">'+i.innerHTML+"</div></div>"),h.push('<div class="body body__flex" role="list" aria-labelledby="privacy_who_can_view">'),l)if(!w[S]){p=S==window.cur.privSelIndex&&S!=_.listsType?"_sel":"";var g="",m="";if(g+=`onmouseover="Privacy.select('${S}')"`,g+="list28"===S?' onclick="Privacy.choose(event, 6, 28)"':` onclick="Privacy.choose(event, '${S}')"`,g+=` onkeydown="if (event.key === 'Tab') {if (event.shiftKey) {Privacy.select('${+S-1}')} else {Privacy.select('${+S+1}')}}"`,S==_.listsType&&y&&(m=' tabindex="-1"'),S==_.listsType){if(!y)continue}else g+=` onmouseout="Privacy.unselect('${S}')"`;p&&S==_.someType&&(p+="_plus"),h.push('<button role="listitem" class="item'+p+'" id="privacy_item'+S+'" '+g+m+'type="button">'+l[S]+"</button>")}if(l[_.listsType]&&y){for(var C in v=window.cur.privSelIndex!=_.listsType,h.push('<div id="privacy_lists" class="privacy_lists privacy_lists__flex">'),h.push('<div class="l_header" onclick="return cancelEvent(event)"><div class="l_header_label">'+l[_.listsType]+"</div></div>"),a)if(a.hasOwnProperty(C)){var T=parseInt(C);p=v?"":(0,d.inArray)(-T,t[2])?"_sel":"",h.push('<button class="l_item'+p+'" id="privacy_l_item'+T+'" onclick="Privacy.choose(event, '+_.listsType+", "+T+')"><div class="privacy_item_icon"></div><span class="l_item_text">'+a[C]+"</span></button>")}h.push("</div>")}h.push("</div>"),window.cur.privRows.innerHTML=h.join(""),window.cur.privSel=r;var L=(0,o.data)(window.cur.privEl,"tween");L&&L.stop(!0),(0,o.show)(window.cur.privEl),l[_.listsType]&&v&&(0,o.hide)("privacy_lists"),_.toup=!1,(0,o.getClientRectOffsetY)(window.cur.privEl)>0&&(0,o.getClientRectOffsetY)(window.cur.privEl,!1,(0,o.getSize)(window.cur.privEl)[1])>0&&(_.toup=!0),_.toup?(0,o.addClass)(window.cur.privEl,"pdd_to_up"):(0,o.removeClass)(window.cur.privEl,"pdd_to_up"),window.cur.privacy[r+"_ralign"]?(0,o.addClass)(window.cur.privEl,"pdd_ralign"):(0,o.removeClass)(window.cur.privEl,"pdd_ralign");var b=window.cur.privacy[r+"_help"],E=window.cur.privacy[r+"_help_w"];if(b){var x=(0,o.ge)("privacy_header"),A=(0,o.getSize)(x);(0,u.showTooltip)(x,{text:b,width:E||300,dir:"left",slideX:15,shift:[-(A[0]+10),-A[1]/2,0],nohide:!0})}return(0,c.cancelEvent)(e)}},getValue(i){if(!window.cur.privacy||!window.cur.privacy[i])return"";var e=window.cur.privacy[i],r=[];if(e[0]<_.customType||e[0]==_.contactsType||_.specialTypes.some((i=>e[0]==i)))r=[e[0]];else if(e[0]==_.someType)r=[4,e[2].join(",")];else if(e[0]==_.listsType){var t=[];for(var n in e[2])e[2].hasOwnProperty(n)&&t.push(-e[2][n]);r=[5,t.join(",")]}else r=[-1,e[1],e[2].join(","),e[3].join(",")];return r.join("_")}};_.qhide=_.hide.pbind(-1)},170638:(i,e,r)=>{var t=r(968298);window.Privacy=t.privacy;try{window.stManager.done(window.jsc("web/privacy.js"))}catch(i){}},816759:(i,e,r)=>{r.d(e,{PRIVACY_KEYS:()=>t,PRIVACY_CATEGORIES:()=>n,FOLLOWERS_MODE_ABOUT_MODAL_STEP:()=>s,FOLLOWERS_MODE_ONBOARDING_CONTEXT_PRIVACY:()=>o,CURRENT_EVENT_SCREEN:()=>l,FOLLOWERS_MODE_ONBOARDING_CLICK_TYPE_ENTRYPOINT:()=>c});var t={PROFILE:"profile",SEARCH_ACCESS:"search_access",UPDATES:"updates",COMPANY_MESSAGES:"company_messages",PROFILE_CLOSED:"profile_closed",CONTACT_AVATAR:"contact_avatar",CALLS_FROM_COMMUNITY:"calls_from_community",CALLS_HAS_MESSAGES:"calls_has_messages",CALLS_IN_CONTACTS:"calls_in_contacts",CALLS:"calls",FOLLOWERS_MODE:"followers_mode"},n={ALL:0,FRIENDS:1,FRIENDS_OF_FRIENDS:2,ONLY_ME:3,ADVANCED_SETTINGS:4,SOME_FRIENDS:5,SOME_FRIENDS_LIST:6,CONTACTS:7},s=1,o="privacy",l="privacy",c="entrypoint"},154675:(i,e,r)=>{r.d(e,{isSpecialPrivacyKey:()=>s,savePrivacyShowSaved:()=>o,selectPrivacySettingElement:()=>l,getPrivacyValueFromCur:()=>c,fixPrivacyValueTypes:()=>a,savePrivacySetting:()=>d});var t=r(570655),n=r(816759);function s(i){return[n.PRIVACY_KEYS.SEARCH_ACCESS,n.PRIVACY_KEYS.UPDATES,n.PRIVACY_KEYS.COMPANY_MESSAGES,n.PRIVACY_KEYS.PROFILE_CLOSED,n.PRIVACY_KEYS.CONTACT_AVATAR,n.PRIVACY_KEYS.CALLS_FROM_COMMUNITY,n.PRIVACY_KEYS.CALLS_HAS_MESSAGES,n.PRIVACY_KEYS.CALLS_IN_CONTACTS,n.PRIVACY_KEYS.FOLLOWERS_MODE].includes(i)}function o(i){window.uiPageBlock&&window.uiPageBlock.showSaved("privacy_edit_"+i)}function l(i){return document.querySelector("._"+i)}function c(i){if(window.cur.privacy&&Array.isArray(window.cur.privacy[i]))return a(window.cur.privacy[i])}function a(i){if(Array.isArray(i)){var e=(0,t.__read)(i,4),r=e[0],n=e[1],s=e[2],o=e[3];return[parseInt(r),parseInt(n),Array.isArray(s)?s.map((function(i){return parseInt(i)})):[],Array.isArray(o)?o.map((function(i){return parseInt(i)})):[]]}}function d(i){return new Promise((function(e,r){window.ajax.post("al_friends.php?act=save_privacy",{key:i.key,val:i.value,hash:i.hash},{onDone:function(i){e(i)},onFail:function(i){return r(i),!0}})}))}}},l={};function c(i){var e=l[i];if(void 0!==e)return e.exports;var r=l[i]={exports:{}};return o[i].call(r.exports,r,r.exports,c),r.exports}c.m=o,i=[],c.O=(e,r,t,n)=>{if(!r){var s=1/0;for(d=0;d<i.length;d++){for(var[r,t,n]=i[d],o=!0,l=0;l<r.length;l++)(!1&n||s>=n)&&Object.keys(c.O).every((i=>c.O[i](r[l])))?r.splice(l--,1):(o=!1,n<s&&(s=n));if(o){i.splice(d--,1);var a=t();void 0!==a&&(e=a)}}return e}n=n||0;for(var d=i.length;d>0&&i[d-1][2]>n;d--)i[d]=i[d-1];i[d]=[r,t,n]},c.n=i=>{var e=i&&i.__esModule?()=>i.default:()=>i;return c.d(e,{a:e}),e},r=Object.getPrototypeOf?i=>Object.getPrototypeOf(i):i=>i.__proto__,c.t=function(i,t){if(1&t&&(i=this(i)),8&t)return i;if("object"==typeof i&&i){if(4&t&&i.__esModule)return i;if(16&t&&"function"==typeof i.then)return i}var n=Object.create(null);c.r(n);var s={};e=e||[null,r({}),r([]),r(r)];for(var o=2&t&&i;"object"==typeof o&&!~e.indexOf(o);o=r(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>i[e]));return s.default=()=>i,c.d(n,s),n},c.d=(i,e)=>{for(var r in e)c.o(e,r)&&!c.o(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:e[r]})},c.f={},c.e=i=>Promise.all(Object.keys(c.f).reduce(((e,r)=>(c.f[r](i,e),e)),[])),c.u=i=>9375===i?"voice_message_player.1ca99e7ec51aef6df7b5.js":28762===i?"speech.ec5bb88b79217da0bc5d.js":57468===i?"SilentModeForms.710e5d0929fe4e8d2b72.js":75980===i?"menu_settings.0f17151bd588fe6a5267.js":void 0,c.miniCssF=i=>i+"."+{57468:"28053bce032a9da83885",75980:"95eccc249ab38cb1e901"}[i]+".css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"==typeof window)return window}}(),c.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e),t={},c.l=(i,e,r,n)=>{if(t[i])t[i].push(e);else{var s,o;if(void 0!==r)for(var l=document.getElementsByTagName("script"),a=0;a<l.length;a++){var d=l[a];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")=="vk:"+r){s=d;break}}s||(o=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.setAttribute("data-webpack","vk:"+r),s.src=i),t[i]=[e];var w=(e,r)=>{s.onerror=s.onload=null,clearTimeout(u);var n=t[i];if(delete t[i],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((i=>i(r))),e)return e(r)},u=setTimeout(w.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=w.bind(null,s.onerror),s.onload=w.bind(null,s.onload),o&&document.head.appendChild(s)}},c.r=i=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},c.p="/dist/",n=i=>new Promise(((e,r)=>{var t=c.miniCssF(i),n=c.p+t;if(((i,e)=>{for(var r=document.getElementsByTagName("link"),t=0;t<r.length;t++){var n=(o=r[t]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===i||n===e))return o}var s=document.getElementsByTagName("style");for(t=0;t<s.length;t++){var o;if((n=(o=s[t]).getAttribute("data-href"))===i||n===e)return o}})(t,n))return e();((i,e,r,t)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.onerror=n.onload=s=>{if(n.onerror=n.onload=null,"load"===s.type)r();else{var o=s&&("load"===s.type?"missing":s.type),l=s&&s.target&&s.target.href||e,c=new Error("Loading CSS chunk "+i+" failed.\n("+l+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=l,n.parentNode.removeChild(n),t(c)}},n.href=e,document.head.appendChild(n)})(i,n,e,r)})),s={27824:0},c.f.miniCss=(i,e)=>{s[i]?e.push(s[i]):0!==s[i]&&{57468:1,75980:1}[i]&&e.push(s[i]=n(i).then((()=>{s[i]=0}),(e=>{throw delete s[i],e})))},(()=>{var i={27824:0};c.f.j=(e,r)=>{var t=c.o(i,e)?i[e]:void 0;if(0!==t)if(t)r.push(t[2]);else if(75980!=e){var n=new Promise(((r,n)=>t=i[e]=[r,n]));r.push(t[2]=n);var s=c.p+c.u(e),o=new Error;c.l(s,(r=>{if(c.o(i,e)&&(0!==(t=i[e])&&(i[e]=void 0),t)){var n=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",o.name="ChunkLoadError",o.type=n,o.request=s,t[1](o)}}),"chunk-"+e,e)}else i[e]=0},c.O.j=e=>0===i[e];var e=(e,r)=>{var t,n,[s,o,l]=r,a=0;for(t in o)c.o(o,t)&&(c.m[t]=o[t]);if(l)var d=l(c);for(e&&e(r);a<s.length;a++)n=s[a],c.o(i,n)&&i[n]&&i[n][0](),i[s[a]]=0;return c.O(d)},r=self.webpackChunkvk=self.webpackChunkvk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var a=c.O(void 0,[76429,75514,24509,56990,98066,76400,40885,68592],(()=>c(170638)));a=c.O(a)})();