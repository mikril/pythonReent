/*! For license information please see search.c52b8be4dbcfaa29fc57.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={445753:(e,t)=>{function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})},251009:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon12Flag","flag_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="flag_12"><path fill="currentColor" fill-rule="evenodd" d="M1.75 0A.75.75 0 0 0 1 .75v9.5a.75.75 0 0 0 1.5 0V6.805c.261.112.533.184.808.192.79.022 1.525-.227 2.257-.5.167-.062.334-.126.5-.19.626-.241 1.25-.482 1.915-.596.733-.149 1.492-.258 2.143.123l.232.149a.094.094 0 0 0 .145-.079V1.47c0-.25 0-.376-.063-.554A1.505 1.505 0 0 0 10.172.5a.892.892 0 0 0-.315-.217 2.916 2.916 0 0 0-.95-.27c-.68-.06-1.33.094-1.968.312a71.694 71.694 0 0 0-.866.307c-.56.202-1.12.403-1.689.576A2.935 2.935 0 0 1 2.5 1.2V.75A.75.75 0 0 0 1.75 0Z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},743412:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon12Lock","lock_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 12 12" id="lock_12"><path d="M6 .5c1.657 0 3 1.337 3 2.992v1.507L9.748 5c.415 0 .752.34.752.76v4.48a.76.76 0 0 1-.752.76H2.252a.756.756 0 0 1-.752-.76V5.76c0-.42.342-.76.752-.76L3 4.999V3.501A3.003 3.003 0 0 1 5.824.505L6 .5ZM6 2l-.145.007A1.496 1.496 0 0 0 4.5 3.5V5h3V3.5C7.5 2.666 6.828 2 6 2Z" /></symbol>',12,12,!1,void 0)},136900:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon16Add","add_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="add_16"><path fill="currentColor" d="M9 9v4a1 1 0 1 1-2 0V9H3a1 1 0 1 1 0-2h4V3a1 1 0 1 1 2 0v4h4a1 1 0 1 1 0 2H9Z" /></symbol>',16,16,!1,void 0)},800843:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon16HistoryBackwardOutline","history_backward_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="history_backward_outline_16"><path d="M9.828 2.812a5.496 5.496 0 0 0-5.313.935h.735a.75.75 0 1 1 0 1.5H3.137c-.058 0-.139 0-.212-.006a1.003 1.003 0 0 1-.379-.103 1 1 0 0 1-.437-.437 1.003 1.003 0 0 1-.103-.378C2 4.248 2 4.167 2 4.11V2a.75.75 0 0 1 1.5 0v.64a6.997 6.997 0 0 1 10.255 9.345 6.998 6.998 0 0 1-7.553 2.78 7.07 7.07 0 0 1-2.96-1.615.75.75 0 1 1 1.016-1.103 5.571 5.571 0 0 0 2.33 1.268A5.496 5.496 0 0 0 13.5 7.962a5.5 5.5 0 0 0-3.672-5.15ZM7.75 5a.75.75 0 0 1 .75.75v2.473l1.32 1.539a.75.75 0 0 1-1.14.976l-1.5-1.75A.75.75 0 0 1 7 8.5V5.75A.75.75 0 0 1 7.75 5Z" /></symbol>',16,16,!1,void 0)},546857:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon16ListPlayOutline","list_play_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="list_play_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M2 3.75A.75.75 0 0 1 2.75 3h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75Zm0 8.5a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75ZM2 8a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 2 8Zm12.684 3.036a.625.625 0 0 0 0-1.086L9.947 7.085A.632.632 0 0 0 9 7.626v5.748c0 .481.526.782.947.541l4.737-2.879Z" /></symbol>',16,16,!1,void 0)},351613:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon16PenOutline","pen_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="pen_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M12.536 1.664a1.946 1.946 0 0 0-1.565 0c-.202.09-.367.214-.513.342-.137.121-.292.276-.465.45l-7.39 7.389c-.295.295-.528.527-.699.806-.15.245-.261.513-.328.793-.076.317-.076 1.112-.076 1.53 0 .122 0 .254.01.368.01.13.036.3.126.477.12.235.31.425.545.545.176.09.347.116.477.127.114.009.246.009.368.009.418 0 1.213 0 1.53-.076.28-.067.548-.178.793-.328.279-.171.511-.404.806-.7l7.39-7.389c.173-.173.328-.328.449-.465.128-.146.253-.31.342-.513a1.946 1.946 0 0 0 0-1.565 1.987 1.987 0 0 0-.342-.513c-.121-.137-.276-.292-.45-.465l-.03-.03a10.696 10.696 0 0 0-.465-.45 1.988 1.988 0 0 0-.513-.342zm-.963 1.37a.45.45 0 0 1 .361 0 .596.596 0 0 1 .127.096c.097.085.217.205.41.398s.314.314.399.41c.08.092.094.124.096.128.05.115.05.246 0 .361a.594.594 0 0 1-.096.127 9.974 9.974 0 0 1-.398.41l-.724.724-1.436-1.436.724-.724c.193-.193.313-.313.41-.398a.596.596 0 0 1 .127-.096zM9.252 5.312l-5.54 5.54c-.37.37-.465.472-.532.58a1.248 1.248 0 0 0-.15.361 3.896 3.896 0 0 0-.022.432c-.01.419-.014.628.008.672.028.058.032.061.09.09.044.022.252.018.67.008.209-.004.372-.012.431-.026.127-.03.249-.08.36-.15.109-.066.211-.161.581-.531l5.54-5.54z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},304319:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon16Verified","verified_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="verified_16"><path fill="currentColor" d="M4.5 9.586 2.957 8.043a1 1 0 0 0-1.414 1.414l2.25 2.25a1 1 0 0 0 1.414 0l5.25-5.25a1 1 0 0 0-1.414-1.414L4.5 9.586Z" /></symbol>',16,16,!1,void 0)},269602:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon20AddSquareOutline","add_square_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="add_square_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M11.6 3.5H8.4c-1.145 0-1.913.001-2.505.05-.574.047-.849.13-1.03.223a2.5 2.5 0 0 0-1.093 1.092c-.092.181-.175.456-.222 1.03-.049.592-.05 1.36-.05 2.505v3.2c0 1.145.001 1.913.05 2.505.047.574.13.849.223 1.03a2.5 2.5 0 0 0 1.092 1.093c.181.092.456.176 1.03.222.592.049 1.36.05 2.505.05h3.2c1.145 0 1.913-.001 2.505-.05.574-.046.849-.13 1.03-.223a2.5 2.5 0 0 0 1.093-1.092c.092-.181.176-.456.222-1.03.049-.592.05-1.36.05-2.505V8.4c0-1.145-.001-1.913-.05-2.505-.046-.574-.13-.849-.223-1.03a2.5 2.5 0 0 0-1.092-1.093c-.181-.092-.456-.175-1.03-.222-.592-.049-1.36-.05-2.505-.05Zm-9.164.684C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748ZM10 6.004a.75.75 0 0 1 .75.75V9.25h2.496a.75.75 0 0 1 0 1.5H10.75v2.5a.75.75 0 0 1-1.5 0v-2.5H6.754a.75.75 0 0 1 0-1.5H9.25V6.753a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},675952:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon20Check","check_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="check_20"><path fill-rule="evenodd" d="M17.53 5.22a.75.75 0 0 1 0 1.06l-9.5 9.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.97 3.97 8.97-8.97a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},358173:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon20ChevronCircleOutline","chevron_circle_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="chevron_circle_outline_20"><path fill-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17Zm7-8.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0ZM9.53 6.47a.75.75 0 0 0-1.06 1.06L10.94 10l-2.47 2.47a.75.75 0 1 0 1.06 1.06l3-3a.75.75 0 0 0 0-1.06l-3-3Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},967458:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon20MessageOutline","message_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="message_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" opacity=".4" /><path fill="currentColor" fill-rule="nonzero" d="M6.828 15.752a.75.75 0 0 1 .821-.207A7.52 7.52 0 0 0 10.25 16c3.772 0 6.75-2.694 6.75-6s-2.978-6-6.75-6S3.5 6.694 3.5 10c0 1.21.4 2.367 1.14 3.349a.75.75 0 0 1 .15.49c-.04.756-.403 1.785-1.085 3.135 1.483-.116 2.514-.534 3.123-1.222ZM3.242 18.5a1.204 1.204 0 0 1-1.101-1.767c.644-1.216 1.016-2.14 1.121-2.73A7.009 7.009 0 0 1 2 10c0-4.17 3.681-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.681 7.5-8.25 7.5a9.077 9.077 0 0 1-2.66-.393c-.996.881-2.456 1.336-4.348 1.393Z" /></g></symbol>',20,20,!1,void 0)},4130:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon20UserAddOutline","user_add_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="user_add_outline_20"><path fill-rule="evenodd" d="M12.5 8.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5ZM8.5 6a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm-4-.25a.75.75 0 1 0-1.5 0v2H1a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Zm4.155 7.227c.865-.458 2.194-.727 3.845-.727 1.65 0 2.98.27 3.845.727.794.42 1.155.959 1.155 1.71a.685.685 0 0 1-.05.288.325.325 0 0 1-.092.12c-.077.063-.26.155-.599.155H8.241c-.34 0-.522-.092-.6-.156a.325.325 0 0 1-.09-.12.686.686 0 0 1-.051-.287c0-.751.36-1.29 1.155-1.71ZM12.5 10.75c-1.774 0-3.38.283-4.547.902C6.783 12.27 6 13.26 6 14.688c0 .688.268 1.217.687 1.563.408.337.956.499 1.554.499h8.518c.598 0 1.146-.162 1.555-.499.418-.346.686-.875.686-1.564 0-1.426-.783-2.416-1.953-3.035-1.168-.619-2.773-.902-4.547-.902Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},281536:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path fill="currentColor" d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2Zm-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Zm-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z" /></g></symbol>',24,24,!1,void 0)},362873:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon24Play","play_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="play_24"><path d="M18.5 11.134a1 1 0 0 1 0 1.732l-9 5.196a1 1 0 0 1-1.5-.866V6.804a1 1 0 0 1 1.5-.866l9 5.196Z" /></symbol>',24,24,!1,void 0)},772474:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon28ListPlayOutline","list_play_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="list_play_outline_28"><g fill="currentColor"><path d="M12.998 18a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0-6a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zM22 6a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zM24.994 18.131a1 1 0 0 1 0 1.738l-6.48 3.995c-.675.386-1.518-.097-1.518-.869v-7.99c0-.773.843-1.255 1.517-.87z" /></g></symbol>',28,28,!1,void 0)},431184:(e,t,r)=>{r.d(t,{default:()=>n});const n=(0,r(28178).makeIcon)("Icon56VideoOutline","video_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="video_outline_56"><path fill="currentColor" d="M37.745 6c3.566 0 4.859.371 6.162 1.069s2.327 1.72 3.025 3.024C47.629 11.396 48 12.69 48 16.256v23.489c0 3.566-.371 4.859-1.069 6.162a7.27 7.27 0 0 1-3.024 3.025C42.604 49.629 41.311 50 37.745 50h-19.49c-3.565 0-4.859-.371-6.162-1.069-1.304-.697-2.327-1.72-3.024-3.024S8 43.311 8 39.745v-23.49c0-3.565.371-4.859 1.069-6.162.697-1.304 1.72-2.327 3.024-3.024S14.689 6 18.255 6zm.314 3H18.256c-2.799 0-3.761.186-4.749.714a4.27 4.27 0 0 0-1.793 1.793c-.508.95-.7 1.876-.713 4.434L11 39.744c0 2.799.186 3.761.714 4.749a4.27 4.27 0 0 0 1.793 1.793c.988.528 1.95.714 4.749.714h19.489c2.798 0 3.76-.186 4.748-.714a4.27 4.27 0 0 0 1.793-1.793c.528-.988.714-1.95.714-4.748v-23.49c0-2.798-.186-3.76-.714-4.748a4.27 4.27 0 0 0-1.793-1.793c-.95-.508-1.876-.7-4.434-.713zM18.72 38c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134.162.087.29.215.377.378.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134.162.087.29.215.377.378.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134.162.087.29.215.377.378.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.908.908 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.908.908 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.908.908 0 0 1 .378-.378c.163-.088.324-.134.77-.134z" /></symbol>',56,56,!1,void 0)},911099:(e,t,r)=>{Object.defineProperty(t,"classNames",{enumerable:!0,get:function(){return i}});var n=r(445753).default;function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=[];return t.forEach((function(e){if(e)switch(void 0===e?"undefined":n(e)){case"string":i.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&i.push(t)}));break;default:i.push("".concat(e))}})),i.join(" ")}},108679:(e,t,r)=>{var n=r(121296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?o:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(g){var i=f(r);i&&i!==g&&e(t,i,n)}var o=c(r);u&&(o=o.concat(u(r)));for(var s=l(t),v=l(r),p=0;p<o.length;++p){var S=o[p];if(!(a[S]||n&&n[S]||v&&v[S]||s&&s[S])){var m=_(r,S);try{d(t,S,m)}catch(e){}}}}return t}},396103:(e,t)=>{var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,_=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,p=r?Symbol.for("react.lazy"):60116,S=r?Symbol.for("react.block"):60121,m=r?Symbol.for("react.fundamental"):60117,h=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function I(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case d:case _:case p:case v:case l:return e;default:return t}}case i:return t}}}function C(e){return I(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=n,t.ForwardRef=_,t.Fragment=a,t.Lazy=p,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return C(e)||I(e)===c},t.isConcurrentMode=C,t.isContextConsumer=function(e){return I(e)===d},t.isContextProvider=function(e){return I(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return I(e)===_},t.isFragment=function(e){return I(e)===a},t.isLazy=function(e){return I(e)===p},t.isMemo=function(e){return I(e)===v},t.isPortal=function(e){return I(e)===i},t.isProfiler=function(e){return I(e)===s},t.isStrictMode=function(e){return I(e)===o},t.isSuspense=function(e){return I(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===s||e===o||e===f||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===v||e.$$typeof===l||e.$$typeof===d||e.$$typeof===_||e.$$typeof===m||e.$$typeof===h||e.$$typeof===E||e.$$typeof===S)},t.typeOf=I},121296:(e,t,r)=>{e.exports=r(396103)},441143:e=>{e.exports=function(e,t,r,n,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,n,i,a,o,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return d[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},549428:(e,t,r)=>{r.d(t,{default:()=>n});const n={root:"DynamicPagination-module__root--u5OCU",rootHidden:"DynamicPagination-module__rootHidden--esEwQ",pagination:"DynamicPagination-module__pagination--zaMs_",paginationHidden:"DynamicPagination-module__paginationHidden--p87Lz"}},108830:()=>{},748231:(e,t,r)=>{r.d(t,{default:()=>n});const n={button:"IconButton-module__button--PjXiW"}},685602:(e,t,r)=>{r.d(t,{default:()=>n});const n={container:"OpenUrl-module__container--OXPbo",link:"OpenUrl-module__link--Ldegu"}},468634:(e,t,r)=>{r.d(t,{default:()=>n});const n={itemVerification:"CatalogUser-module__itemVerification--WdcVZ"}},697530:(e,t,r)=>{r.d(t,{default:()=>n});const n={buttonRemove:"CatalogUserButton-module__buttonRemove--MrHCz"}},19657:(e,t,r)=>{r.d(t,{default:()=>n});const n={buttonLeave:"GroupItemButton-module__buttonLeave--r_qQM"}},64279:(e,t,r)=>{r.d(t,{default:()=>n});const n={government:"GroupItemDescription-module__government--QRlQu",governmentIcon:"GroupItemDescription-module__governmentIcon--iKsDA",userStack:"GroupItemDescription-module__userStack--kjuKw"}},557131:(e,t,r)=>{r.d(t,{default:()=>n});const n={root:"HeaderCompact-module__root--qfErI"}},23684:(e,t,r)=>{r.d(t,{default:()=>n});const n={list:"List-module__list--acMWL"}},769353:(e,t,r)=>{r.d(t,{default:()=>n});const n={app:"App-module__app--eKZXI"}},476892:(e,t,r)=>{r.d(t,{default:()=>n});const n={root:"SearchInput-module__root--bYi2O",icon:"SearchInput-module__icon--JWOWd",input:"SearchInput-module__input--OpNGn"}},263758:(e,t,r)=>{r.d(t,{default:()=>n});const n={root:"SearchResults-module__root--Mwfk1"}},126298:(e,t,r)=>{r.d(t,{default:()=>n});const n={spinner:"Spinner-module__spinner--dpWRC"}},748759:(e,t,r)=>{r.d(t,{InView:()=>v,useInView:()=>S});var n=r(667294),i=r(702177);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=new Map,d=new Map,c=new Map,u=0;function _(e,t,r){void 0===r&&(r={}),r.threshold||(r.threshold=0);var n=r,a=n.root,o=n.rootMargin,s=n.threshold;if(l.has(e)&&(0,i.default)(!1),e){var _=function(e){return e?c.has(e)?c.get(e):(u+=1,c.set(e,u.toString()),c.get(e)+"_"):""}(a)+(o?s.toString()+"_"+o:s.toString()),f=d.get(_);f||(f=new IntersectionObserver(g,r),_&&d.set(_,f));var v={callback:t,element:e,inView:!1,observerId:_,observer:f,thresholds:f.thresholds||(Array.isArray(s)?s:[s])};return l.set(e,v),f.observe(e),v}}function f(e){if(e){var t=l.get(e);if(t){var r=t.observerId,n=t.observer,i=n.root;n.unobserve(e);var a=!1,o=!1;r&&l.forEach((function(t,n){n!==e&&(t.observerId===r&&(a=!0,o=!0),t.observer.root===i&&(o=!0))})),!o&&i&&c.delete(i),n&&!a&&n.disconnect(),l.delete(e)}}}function g(e){e.forEach((function(e){var t=e.isIntersecting,r=e.intersectionRatio,n=e.target,i=l.get(n);if(i&&r>=0){var a=i.thresholds.some((function(e){return i.inView?r>e:r>=e}));void 0!==t&&(a=a&&t),i.inView=a,i.callback(a,e)}}))}var v=function(e){var t,r;function l(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a(s(t=e.call.apply(e,[this].concat(n))||this),"state",{inView:!1,entry:void 0}),a(s(t),"node",null),a(s(t),"handleNode",(function(e){t.node&&(f(t.node),e||t.props.triggerOnce||t.setState({inView:!1,entry:void 0})),t.node=e||null,t.observeNode()})),a(s(t),"handleChange",(function(e,r){(e!==t.state.inView||e)&&t.setState({inView:e,entry:r}),t.props.onChange&&t.props.onChange(e,r)})),t}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var d=l.prototype;return d.componentDidMount=function(){this.node||(0,i.default)(!1)},d.componentDidUpdate=function(e,t){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||(f(this.node),this.observeNode()),t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&(f(this.node),this.node=null)},d.componentWillUnmount=function(){this.node&&(f(this.node),this.node=null)},d.observeNode=function(){if(this.node){var e=this.props,t=e.threshold,r=e.root,n=e.rootMargin;_(this.node,this.handleChange,{threshold:t,root:r,rootMargin:n})}},d.render=function(){var e=this.state,t=e.inView,r=e.entry;if(!function(e){return"function"!=typeof e.children}(this.props))return this.props.children({inView:t,entry:r,ref:this.handleNode});var i=this.props,a=i.children,s=i.as,l=i.tag,d=(i.triggerOnce,i.threshold,i.root,i.rootMargin,i.onChange,function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(i,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange"]));return(0,n.createElement)(s||l||"div",o({ref:this.handleNode},d),a)},l}(n.Component);a(v,"displayName","InView"),a(v,"defaultProps",{threshold:0,triggerOnce:!1});var p={inView:!1,entry:void 0};function S(e){void 0===e&&(e={});var t=(0,n.useRef)(),r=(0,n.useState)(p),i=r[0],a=r[1],o=(0,n.useCallback)((function(r){t.current&&f(t.current),r&&_(r,(function(t,n){a({inView:t,entry:n}),t&&e.triggerOnce&&f(r)}),e),t.current=r}),[e.threshold,e.root,e.rootMargin,e.triggerOnce]);return(0,n.useEffect)((function(){t.current||i===p||e.triggerOnce||a(p)})),[o,i.inView,i.entry]}},929804:(e,t,r)=>{var n=r(14890).compose;t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?n:n.apply(null,arguments)}},427164:(e,t,r)=>{r.d(t,{default:()=>a});var n,i=r(310396);e=r.hmd(e),n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:e;const a=(0,i.default)(n)},310396:(e,t,r)=>{function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,{default:()=>n})},702177:(e,t,r)=>{r.d(t,{default:()=>i});var n="Invariant failed";const i=function(e,t){if(!e)throw new Error(n)}},141561:(e,t,r)=>{r.d(t,{DynamicPagination:()=>c});var n=r(570655),i=r(785893),a=r(667294),o=r(86894),s=r(659397),l=r(748759),d=r(549428),c=function(e){var t,r=e.isLoading,c=e.fetchData,u=e.fetchError,_=e.nextFrom,f=e.rootMargin,g=(0,n.__read)((0,a.useState)(),2),v=g[0],p=g[1],S=(0,n.__read)((0,l.useInView)({rootMargin:f}),2),m=S[0],h=S[1],E=(0,s.classNames)(d.default.pagination,((t={})[d.default.paginationHidden]=r,t));return(0,a.useEffect)((function(){var e=setTimeout((function(){h&&_&&v!==_&&(p(_),c())}),200);return function(){clearTimeout(e)}}),[h,_,v]),_&&!u?(0,i.jsxs)("div",(0,n.__assign)({className:d.default.root},{children:[(0,i.jsx)(o.Spinner,{size:"small"},void 0),(0,i.jsx)("div",{className:E,ref:m},void 0)]}),void 0):null}},146524:(e,t,r)=>{r.d(t,{DynamicPagination:()=>n.DynamicPagination});var n=r(141561)},410351:(e,t,r)=>{r.d(t,{FRIENDS_STATUS_REQUEST:()=>n,FRIENDS_STATUS:()=>i});var n={REQUEST:1,ADDED:2,REPEAT:4},i={NOT_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIENDS:3}},670489:(e,t,r)=>{r.d(t,{useWindowWidth:()=>o});var n=r(570655),i=r(667294),a=r(659397),o=function(){var e=(0,n.__read)((0,i.useState)(window.innerWidth),2),t=e[0],r=e[1];return(0,i.useEffect)((function(){var e=function(){return r(window.innerWidth)};return(0,a.debounce)(e,700),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t}},166391:(e,t,r)=>{r.d(t,{getImageMinWidth:()=>n});var n=function(e){return Math.ceil(e*Math.max(window.devicePixelRatio,1))}},100977:(e,t,r)=>{r.d(t,{useCollectClick:()=>s,CatalogLogProvider:()=>l});var n=r(570655),i=r(785893),a=r(667294),o=(0,a.createContext)({collectClick:function(){}}),s=function(){return(0,a.useContext)(o).collectClick},l=function(e){var t=e.collectClick,r=void 0===t?function(){}:t,s=e.children,l=(0,a.useMemo)((function(){return{collectClick:r}}),[r]);return(0,i.jsx)(o.Provider,(0,n.__assign)({value:l},{children:s}),void 0)}},487589:(e,t,r)=>{r.d(t,{formatDateTime:()=>a});var n=r(70162),i=r(733164),a=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=!1),!e)return"";var r=3600,a=1e3*e,o=new Date(a),s=new Date,l=(Date.now()-o.getTime())/1e3,d=o.getFullYear(),c=o.getMonth();if(l<5)return(0,n.getLang)("mobile_profile_status_just_now");if(l<60)return(0,n.getLang)("mobile_profile_status_secs_ago",Math.ceil(l));if(l<r){var u=Math.ceil(l/60),_=(0,n.getLang)("mobile_profile_status_word_mins_ago","raw");return(0,i.isArray)(_)&&u<_.length?_[u]:(0,n.langNumeric)(u,(0,n.getLang)("mobile_profile_status_mins_ago","raw"))}if(l/r<5){u=Math.ceil(l/r),_=(0,n.getLang)("mobile_profile_status_word_hours_ago","raw");return(0,i.isArray)(_)&&u<_.length?_[u]:(0,n.langNumeric)(u,(0,n.getLang)("mobile_profile_status_hours_ago","raw"))}var f=s.getFullYear(),g=s.getMonth(),v=t?(0,n.getLang)("months_of","raw"):(0,n.getLang)("months_sm_of","raw");return d<f&&(g>1||c<9||f-d>=2)?(0,n.langDate)(a,(0,n.getLang)("global_date","raw"),0,v):(0,n.langDate)(a,(0,n.getLang)("global_short_date_time","raw"),0,v)}},961483:(e,t,r)=>{r.d(t,{formatViews:()=>i});var n=r(70162),i=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=!1),e<=1e3)return t?(0,n.getLang)("video_N_views_list",e):e.toString();var r=1,i=e>1e6?"M":"K",a=e>1e6?1e6:1e3,o=e/a;o.toFixed(r).endsWith("0")&&(r=0);var s=(o.toFixed(r)+i).replace(".",",");if(t){var l=Math.trunc(o)*a;return(0,n.getLang)("video_N_views_list",l).replace(l.toString(),s)}return s}},201469:(e,t,r)=>{r.d(t,{getOwnerAvatar:()=>i});var n=r(733164),i=function(e){return e?(0,n.isRetina)()?e.photo_100||e.photo_50||"":e.photo_50||"":""}},141773:(e,t,r)=>{r.d(t,{getOwnerName:()=>n});var n=function(e,t,r){if(void 0===t&&(t=!0),e){if("name"in e)return e.name||"";if(!t&&"first_name"in e)return r?e["first_name_"+r]||"":e.first_name||"";if("first_name"in e||"last_name"in e)return r?e["first_name_"+r]+" "+e["last_name_"+r]:e.first_name+" "+e.last_name}return""}},843345:(e,t,r)=>{r.d(t,{getOwnerUrl:()=>n});var n=function(e,t){return void 0===t&&(t="/"),e?e.screen_name?""+t+e.screen_name:"first_name"in e?t+"id"+e.id:t+"club"+e.id:""}},935472:(e,t,r)=>{var n=r(570655),i=r(785893),a=r(973935),o=r(709987),s=r(397998),l=r(261508),d=r(798773),c=r(736407),u=r(250943),_=r(243517);window.searcher=o.searcher,window.iSearch=o.iSearch,window.searchActions=s.searchActions,window.slideShow=s.slideShow,window.slideHide=s.slideHide,(0,l.registerReactApplication)("SearchCatalogSuggester",(function(e){var t=e?(0,n.__assign)({},e):null;t&&!t.triggers&&(t.triggers=(0,_.getTriggersMap)(t.type));var r=(0,l.getReactRootEl)("SearchCatalogSuggester");r&&a.render((0,i.jsx)(d.SearchCatalogSuggesterRoot,{initOptions:t},void 0),r)})),(0,l.registerReactApplication)("SearchVideoCatalog",(function(){var e=(0,l.getReactRootEl)("SearchVideoCatalog");e&&a.render((0,i.jsx)(c.SearchVideoCatalog,{},void 0),e)})),(0,l.registerReactApplication)("TopSearch",(function(){var e=(0,l.getReactRootEl)("TopSearch");e&&a.render((0,i.jsx)(u.SearchTopRoot,{},void 0),e)}));try{window.stManager.done(window.jsc("web/search.js"))}catch(e){}},248363:(e,t,r)=>{r.d(t,{Catalog:()=>d});var n=r(570655),i=r(785893),a=r(153406),o=r(496435),s=r(214547),l=r(100977),d=function(e){var t=e.sections;return(0,i.jsx)(l.CatalogLogProvider,(0,n.__assign)({collectClick:s.searchStatsCollector.logEvent},{children:t.map((function(e){var t,r,s,l=e.blocks;if(!l)return null;for(var d=[],c=[],u=0;u<(null==l?void 0:l.length);++u){var _=l[u],f=l[u+1];if(f&&_.layout.name===f.layout.name&&f.data_type===o.ECatalogBlockDataType.VIDEOS)c=c.length?(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(c),!1),(0,n.__read)(null!==(t=f.videos_ids)&&void 0!==t?t:[]),!1):(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(null!==(r=_.videos_ids)&&void 0!==r?r:[]),!1),(0,n.__read)(null!==(s=f.videos_ids)&&void 0!==s?s:[]),!1);else{var g=(0,a.getBlockByLayout)(_.layout);d.push((0,i.jsx)(g,(0,n.__assign)({},_,{videos_ids:c.length?c:_.videos_ids}),_.id)),c=[]}}return d}))}),void 0)}},381314:(e,t,r)=>{r.d(t,{HeaderCompact:()=>a});var n=r(570655),i=r(785893),a=function(e){var t=e.layout;return(0,i.jsxs)("div",(0,n.__assign)({className:"VideoSubheader "},{children:[(0,i.jsx)("div",(0,n.__assign)({className:"VideoSubheader__title"},{children:(0,i.jsx)("div",(0,n.__assign)({className:"VideoSubheader__titleText js-video-subtitle"},{children:t.title}),void 0)}),void 0),(0,i.jsx)("div",{className:"VideoSubheader__actions"},void 0)]}),void 0)}},553026:(e,t,r)=>{r.d(t,{HeaderCompact:()=>n.HeaderCompact});var n=r(381314)},830795:(e,t,r)=>{r.d(t,{LargeList:()=>o});var n=r(570655),i=r(785893),a=r(153406),o=function(e){var t=(0,a.extractItemsIds)(e),r=(0,a.getBlockComponentByDataType)(e.data_type);return(0,i.jsx)("div",(0,n.__assign)({className:"video_items_list _video_search_global_videos_list VideoGrid"},{children:t.map((function(e){return(0,i.jsx)(r,{id:e},e)}))}),void 0)}},451563:(e,t,r)=>{r.d(t,{LargeList:()=>n.LargeList});var n=r(830795)},923708:(e,t,r)=>{r.d(t,{Playlist:()=>E});var n=r(570655),i=r(785893),a=r(840574),o=r(667294),s=r(981138),l=r(684351),d=r(659397),c=r(670489),u=r(166391),_=r(772474),f=r(743412),g=r(744648),v=r(850298),p=r(844142),S=r(201469),m=r(315138),h=r(487589),E=function(e){var t=e.id,r=(0,n.__read)(t.split("_"),2),E=r[0],I=r[1],C=(0,o.useContext)(s.CatalogContext),y=C.albums,A=C.groups,T=C.profiles,w=p.Ranges.isGroupId(+E)?A.find((function(e){return e.id===-E})):T.find((function(e){return e.id===+E})),b=(0,S.getOwnerAvatar)(w),R=y.find((function(e){var t=e.id,r=e.owner_id;return t===+I&&r===+E})),k=(0,c.useWindowWidth)(),x=(0,o.useMemo)((function(){return(0,d.getPhotoSize)((null==R?void 0:R.image)||[],(0,u.getImageMinWidth)(k))}),[k]);if(!R)return null;var O={attrs:R.is_system?{nodrag:"1"}:{}};console.log("album",R),console.log("thumbImage",x);var D=(0,a.getPlaylistURL)(+E,+I);return(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard VideoCard--playlist js-video_playlist_item ui_gallery_item",id:"video_playlist_item_"+I,"data-id":I,"data-name":t},O.attrs,{children:[(0,i.jsx)("a",(0,n.__assign)({className:"VideoCard__thumbLink video_item__thumb_link",href:D,"data-playlist-id":R.id,"data-id":"todo_video_raw_id","data-task-click":"Video/show_video",onClick:function(e){return l.Video.checkClickEvent(e)}},{children:(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__thumbWrapper video_item_thumb_wrap"},{children:[(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__thumb"},{children:x?(0,i.jsx)("img",{src:x.url,loading:"lazy",className:"VideoCard__thumbImg",alt:R.title},void 0):(0,i.jsx)(_.default,{},void 0)}),void 0),(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__controls video_item_controls"},{children:[(0,i.jsx)(g.OverlayWithControls,{},void 0),(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__private"},{children:(0,i.jsx)(f.default,{},void 0)}),void 0),(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__label"},{children:(0,i.jsx)("span",(0,n.__assign)({className:"VideoCard__labelItem"},{children:R.count}),void 0)}),void 0)]}),void 0),(0,i.jsx)(v.Placeholder,{},void 0)]}),void 0)}),void 0),(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__info"},{children:[(0,i.jsx)(m.OwnerIcon,{ownerIcon:b},void 0),(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__infoContent"},{children:[(0,i.jsx)("a",(0,n.__assign)({className:"VideoCard__title",href:D,"data-task-mouseover":"Video/check_title"},{children:R.title}),void 0),(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__additionalInfo"},{children:(0,h.formatDateTime)(R.updated_time)}),void 0)]}),void 0)]}),void 0)]}),void 0)}},600737:(e,t,r)=>{r.d(t,{OverlayWithControls:()=>s});var n=r(570655),i=r(785893),a=r(362873),o=r(70162),s=function(){return(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__controlsOverlay"},{children:[(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__controlsOverlayIcon"},{children:(0,i.jsx)(a.default,{},void 0)}),void 0),(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__controlsOverlayText"},{children:(0,o.getLang)("video_play_all")}),void 0)]}),void 0)}},744648:(e,t,r)=>{r.d(t,{OverlayWithControls:()=>n.OverlayWithControls});var n=r(600737)},794917:(e,t,r)=>{r.d(t,{OwnerIcon:()=>o});var n=r(570655),i=r(785893),a=r(546857),o=function(e){var t=e.ownerIcon;return(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__icon"},{children:t?(0,i.jsx)("img",{src:t,loading:"lazy",className:"VideoCard__iconImg"},void 0):(0,i.jsx)(a.default,{},void 0)}),void 0)}},315138:(e,t,r)=>{r.d(t,{OwnerIcon:()=>n.OwnerIcon});var n=r(794917)},385571:(e,t,r)=>{r.d(t,{Playlist:()=>n.Playlist});var n=r(923708)},840574:(e,t,r)=>{r.d(t,{getPlaylistURL:()=>n});var n=function(e,t){return"/video/playlist/"+e+"_"+t}},374378:(e,t,r)=>{r.d(t,{Slider:()=>o});var n=r(570655),i=r(785893),a=r(153406),o=function(e){var t=(0,a.extractItemsIds)(e),r=(0,a.getBlockComponentByDataType)(e.data_type);return(0,i.jsx)("div",(0,n.__assign)({className:"video_items_list _video_search_promo_albums_list VideoGrid VideoGrid--oneRow",id:"video_search_promo_albums_list"},{children:t.map((function(e){return(0,i.jsx)(r,{id:e},e)}))}),void 0)}},246796:(e,t,r)=>{r.d(t,{Slider:()=>n.Slider});var n=r(374378)},1514:(e,t,r)=>{r.d(t,{Video:()=>T});var n=r(570655),i=r(785893),a=r(667294),o=r(981138),s=r(792060),l=r(659397),d=r(670489),c=r(166391),u=r(684351),_=r(683515),f=r(393235),g=r(86747),v=r(870342),p=r(58230),S=r(890448),m=r(634224),h=r(269309),E=r(70162),I=r(431184),C=r(844142),y=r(100977),A=r(740517),T=function(e){var t,r,T,w,b,R=e.id,k=(0,n.__read)(R.split("_"),2),x=k[0],O=k[1],D=(0,y.useCollectClick)(),N=(0,a.useContext)(o.CatalogContext),L=N.videos,P=N.groups,M=N.profiles,j=(0,n.__read)((0,a.useState)((function(){return L.find((function(e){var t=e.id,r=e.owner_id;return t===+O&&r===+x}))})),2),F=j[0],V=j[1],G=(0,s.getVideoURL)(+x,+O),U=(0,n.__read)((0,a.useState)(!1),2),B=U[0],H=U[1],$=C.Ranges.isGroupId(+x)?P.find((function(e){return e.id===-x})):M.find((function(e){return e.id===+x})),q=(0,d.useWindowWidth)(),W=(0,a.useMemo)((function(){var e,t=null!==(e=null==F?void 0:F.image)&&void 0!==e?e:[],r=t.filter((function(e){return!e.with_padding}));return r.length||(r=t),(0,l.getPhotoSize)(r,(0,c.getImageMinWidth)(q))}),[q]),Q=(0,n.__read)((0,a.useState)(!0),2),K=Q[0],z=Q[1];if(void 0===F)return null;var Y=null!==(r=null===(t=F.trailer)||void 0===t?void 0:t.mp4_360)&&void 0!==r?r:"",Z=(0,s.getVideoClasses)(F),J=F.restriction,X=0;F.viewed_duration&&F.duration&&(X=100*F.viewed_duration/F.duration);var ee=!!window.cur.video_redesign_video_card_enabled&&Boolean(window.cur.video_redesign_video_card_enabled),te=F.duration?(0,l.formatDuration)(F.duration):"",re=(0,E.langReplace)((0,E.getLang)("video_aria_preview"),{duration:te,restriction:null!==(w=null===(T=F.restriction)||void 0===T?void 0:T.title)&&void 0!==w?w:"",title:null!==(b=F.title)&&void 0!==b?b:""}),ne=F.viewed_duration?(0,s.getPlayFromByDuration)(F.viewed_duration):"",ie=function(e){if(u.Video.checkClickEvent(e))return!0;if(e.preventDefault(),window.cur.cancelClick)window.cur.cancelClick=!1;else{if(window.cur.chooseVideoMedia)return window.cur.chooseVideoMedia(e.target,R);var t;!t&&window.Video&&window.Video.isGlobalSearchMode()&&window.Video.shouldShowSearchInPlaylistWithSearch()&&(t=window.Video.VIDEO_GLOBAL_SEARCH_TYPE),D({action:A.SearchClickActionMap.TAP,track_code:F.track_code,type:A.EventItemType.VIDEO}),u.Video.show(e,R,{autoplay:1,queue:0,playlistId:t,playFrom:ne,addParams:{track_code:F.track_code}},e.target)}};return(0,i.jsxs)("div",(0,n.__assign)({className:(0,l.classNames)("_video_item","ge_video_item_"+R+" "+Z,"VideoCard",F.added&&"VideoCard--videoAdded"),id:"video_item_"+R,"data-id":R,"data-owner-id":x,"data-video-id":O,"data-thumb":W,"data-trailer":Y,"data-task-mouseenter":"VideoShowcase/play_trailer","data-task-mouseleave":"VideoShowcase/stop_trailer"},{children:[(0,i.jsx)("a",(0,n.__assign)({className:"VideoCard__thumbLink video_item__thumb_link",href:G,"aria-label":re,onClick:ie},{children:(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__thumbWrapper video_item_thumb_wrap"},{children:[J?(0,i.jsx)(_.VideoRestriction,{icon:J.icon_name,title:J.title,text:J.text},void 0):null,(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__thumb"},{children:[W&&!B&&(0,i.jsx)("img",{className:(0,l.classNames)("VideoCard__thumbImg","js-video-item-thumb","VideoRestriction__thumb",{VideoRestriction__thumb:Boolean(J)}),"data-thumb":W.url,src:W.url,loading:"lazy",onError:function(){return H(!0)},alt:F.title},void 0),B&&(0,i.jsx)(I.default,{},void 0)]}),void 0),(0,i.jsx)("div",{className:"video_thumb_play VideoCard__play"},void 0),Y?(0,i.jsx)("video",{className:(0,l.classNames)("VideoCard__trailer",{"VideoCard__trailer--loading":K}),onLoadedData:function(){return z(!1)},crossOrigin:"anonymous",src:Y,muted:!0,loop:!0},void 0):null,(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__controls video_item_controls"},{children:[(0,i.jsx)("div",{className:"VideoCard__privacyIconWrapper"},void 0),(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__label "},{children:[F.platform?(0,i.jsx)("span",(0,n.__assign)({className:"VideoCard__labelItem"},{children:F.platform}),void 0):null,F.duration?(0,i.jsx)("span",(0,n.__assign)({className:"VideoCard__labelItem"},{children:te}),void 0):null]}),void 0),(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__actions video_thumb_actions"},{children:(0,i.jsx)(f.VideoActions,{video:F,onToggleAdd:function(){(null==F?void 0:F.added)?(V((0,n.__assign)((0,n.__assign)({},F),{added:0})),(0,h.deleteVideo)({target_id:window.vk.id,owner_id:+x||0,video_id:+O||0}).catch((function(){V((0,n.__assign)((0,n.__assign)({},F),{added:1}))}))):(V((0,n.__assign)((0,n.__assign)({},F),{added:1})),(0,h.addVideo)({owner_id:+x,video_id:+O,target_id:window.vk.id}).catch((function(){V((0,n.__assign)((0,n.__assign)({},F),{added:0}))})).finally((function(){window.tooltips&&window.tooltips.destroyAll()})))}},void 0)}),void 0),(0,i.jsx)(m.MediaCheckButton,{videoId:R},void 0),X?(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__viewedDurationWrapper"},{children:(0,i.jsx)("div",{className:"VideoCard__viewedDuration",style:{width:X+"%"}},void 0)}),void 0):null]}),void 0)]}),void 0)}),void 0),(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__info"},{children:[(0,i.jsx)(g.Avatar,{isVideoRedesignVideoCardEnabled:ee,owner:$},void 0),(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__infoContent"},{children:[(0,i.jsxs)("div",(0,n.__assign)({className:"VideoCard__titleWrapper",id:"video_card_title_wrapper_"+O},{children:[(0,i.jsx)("a",(0,n.__assign)({className:"VideoCard__title",href:G,"data-queue":"0","data-id":R,"data-task-mouseover":"Video/check_title",onClick:ie},{children:null==F?void 0:F.title}),void 0),(0,i.jsx)(v.MenuToggle,{videoRawId:R},void 0)]}),void 0),(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__additionalInfo"},{children:(0,i.jsx)(p.VideoOwner,{isVideoRedesignVideoCardEnabled:ee,owner:$,trackCode:F.track_code},void 0)}),void 0),(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__additionalInfo video_item_add_info"},{children:(0,i.jsx)(S.SubTitle,{video:F},void 0)}),void 0)]}),void 0)]}),void 0)]}),void 0)}},299660:(e,t,r)=>{r.d(t,{Avatar:()=>a});var n=r(785893),i=r(201469),a=function(e){var t=e.isVideoRedesignVideoCardEnabled,r=e.owner,a=(0,i.getOwnerAvatar)(r);return t&&a.length>0?(0,n.jsx)("div",{className:"VideoCard__avatar",style:{backgroundImage:"url("+a+")"}},void 0):null}},86747:(e,t,r)=>{r.d(t,{Avatar:()=>n.Avatar});var n=r(299660)},924893:(e,t,r)=>{r.d(t,{MediaCheckButton:()=>o});var n=r(570655),i=r(785893),a=r(667294),o=function(e){var t=e.videoId,r=(0,a.useRef)(null);return(0,i.jsx)("div",(0,n.__assign)({ref:r,className:"media_check_btn_wrap",onClick:function(){if(window.cur.chooseVideoMedia&&r.current)return window.cur.chooseVideoMedia(r.current,t,!0)}},{children:(0,i.jsx)("div",{className:"media_check_btn"},void 0)}),void 0)}},634224:(e,t,r)=>{r.d(t,{MediaCheckButton:()=>n.MediaCheckButton});var n=r(924893)},837932:(e,t,r)=>{r.d(t,{MenuToggle:()=>l});var n=r(570655),i=r(785893),a=r(70162),o=r(667294),s=r(281536),l=function(e){var t=e.videoRawId,r=(0,o.useRef)(null),l=function(){var e;null===(e=window.VideoShowcase)||void 0===e||e.showVideoMenu(r.current,t)};return(0,i.jsx)("button",(0,n.__assign)({ref:r,className:"VideoCard__menuToggle",onMouseOver:l,onClick:l,"aria-label":(0,a.getLang)("video_additional_options")},{children:(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__menuToggleIcon"},{children:(0,i.jsx)(s.default,{},void 0)}),void 0)}),void 0)}},870342:(e,t,r)=>{r.d(t,{MenuToggle:()=>n.MenuToggle});var n=r(837932)},481919:(e,t,r)=>{r.d(t,{SubTitle:()=>s});var n=r(570655),i=r(785893),a=r(961483),o=r(487589),s=function(e){var t=e.video;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",(0,n.__assign)({className:"video_item_views"},{children:(0,a.formatViews)(t.views)}),void 0),(0,i.jsxs)("span",(0,n.__assign)({className:"video_item_date_info"},{children:[(0,i.jsx)("span",{className:"divider video_item_date_divider"},void 0),(0,i.jsx)("span",(0,n.__assign)({className:"video_item_updated"},{children:(0,o.formatDateTime)(t.date)}),void 0)]}),void 0)]},void 0)}},890448:(e,t,r)=>{r.d(t,{SubTitle:()=>n.SubTitle});var n=r(481919)},349857:(e,t,r)=>{r.d(t,{VideoActions:()=>d});var n=r(570655),i=r(785893),a=r(351613),o=r(416259),s=r(136900),l=r(70162),d=function(e){var t=e.video,r=e.onToggleAdd;return(0,i.jsxs)(i.Fragment,{children:[t.can_edit?(0,i.jsx)("button",(0,n.__assign)({className:"VideoCard__action VideoCard__action--edit","data-task-click":"VideoShowcase/video_edit","data-task-mouseover":"VideoShowcase/show_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-text":(0,l.getLang)("video_edit"),"aria-label":(0,l.getLang)("video_edit")},{children:(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__actionIcon"},{children:(0,i.jsx)(a.default,{},void 0)}),void 0)}),void 0):null,t.can_add?(0,i.jsxs)("button",(0,n.__assign)({className:"VideoCard__action VideoCard__action--add",onClick:function(e){e.stopPropagation(),e.preventDefault(),r()},"data-task-mouseover":"VideoShowcase/show_add_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-text-add":(0,l.getLang)("video_add_to_my_playlist"),"data-text-added":(0,l.getLang)("video_remove_from_my_playlist"),"aria-label":(0,l.getLang)("video_add_to_my_playlist")},{children:[(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__actionIcon VideoCard__actionIcon--added"},{children:(0,i.jsx)(o.default,{},void 0)}),void 0),(0,i.jsx)("div",(0,n.__assign)({className:"VideoCard__actionIcon VideoCard__actionIcon--add"},{children:(0,i.jsx)(s.default,{},void 0)}),void 0)]}),void 0):null]},void 0)}},393235:(e,t,r)=>{r.d(t,{VideoActions:()=>n.VideoActions});var n=r(349857)},478518:(e,t,r)=>{r.d(t,{VideoOwner:()=>c});var n=r(570655),i=r(785893),a=r(843345),o=r(141773),s=r(659397),l=r(100977),d=r(740517),c=function(e){var t=e.isVideoRedesignVideoCardEnabled,r=e.owner,c=e.trackCode,u=(0,l.useCollectClick)(),_=r?(0,a.getOwnerUrl)(r):void 0,f=(0,o.getOwnerName)(r),g=t?{}:{target:"_blank"};return(0,i.jsx)("a",(0,n.__assign)({onClick:function(){u({action:d.SearchClickActionMap.OPEN_OWNER,track_code:c,type:d.EventItemType.VIDEO})},href:_,className:(0,s.classNames)(t&&"VideoCard__ownerLink")},g,{children:f}),void 0)}},58230:(e,t,r)=>{r.d(t,{VideoOwner:()=>n.VideoOwner});var n=r(478518)},496322:(e,t,r)=>{r.d(t,{VideoRestriction:()=>a});var n=r(570655),i=r(785893),a=function(e){var t=e.icon,r=e.title,a=e.text,o=a&&r!==a?(0,i.jsx)("div",(0,n.__assign)({className:"VideoRestriction__text"},{children:a}),void 0):null;return(0,i.jsx)("div",(0,n.__assign)({className:"VideoRestriction__boxWrap"},{children:(0,i.jsxs)("div",(0,n.__assign)({className:"VideoRestriction__box"},{children:[(0,i.jsx)("div",{className:"VideoRestriction__icon VideoRestriction__icon--"+t},void 0),(0,i.jsx)("div",(0,n.__assign)({className:"VideoRestriction__title"},{children:r}),void 0),o]}),void 0)}),void 0)}},683515:(e,t,r)=>{r.d(t,{VideoRestriction:()=>n.VideoRestriction});var n=r(496322)},66330:(e,t,r)=>{r.d(t,{Video:()=>n.Video});var n=r(1514)},792060:(e,t,r)=>{r.d(t,{getVideoURL:()=>i,getVideoClasses:()=>o,getPlayFromByDuration:()=>s});var n=r(659397),i=function(e,t){return"/video"+e+"_"+t},a=function(e){return["waiting","started"].some((function(t){return t===e.live_status}))},o=function(e){var t=Boolean(e.live),r=Boolean(e.platform)&&!t,i=Boolean(e.can_edit),o=Boolean(e.can_add),s=!i,l=!o,d=Boolean(e.content_restricted),c=Boolean(window.cur.video_redesign_video_card_enabled);return(0,n.classNames)({video_ext:r,video_active_live:t,video_can_edit:i,video_can_add:o,video_can_delete:!1,video_nap:Boolean(e.no_autoplay),video_added:Boolean(e.added),"VideoCard--private":Boolean(e.is_private),video_no_duration:!Boolean(e.platform)&&!Boolean(e.duration)&&!a(e),video_no_actions:s&&(l||d),video_blocked:d,"VideoCard--redesigned":c})},s=function(e){var t="",r=Math.floor(e/3600);r&&(t+=r+"h");var n=Math.floor(e%3600/60);n&&(t+=n+"m");var i=e%60;return i&&(t+=i+"s"),t}},496435:(e,t,r)=>{r.d(t,{CatalogBlockLayoutName:()=>n,ECatalogBlockDataType:()=>i});var n={HEADER_COMPACT:"header_compact",LARGE_LIST:"large_list",LIST:"list",SLIDER:"slider"},i={VIDEOS:"videos",ALBUMS:"albums"}},153406:(e,t,r)=>{r.d(t,{getBlockByLayout:()=>d,extractItemsIds:()=>c,getBlockComponentByDataType:()=>u});var n=r(496435),i=r(553026),a=r(451563),o=r(246796),s=r(66330),l=r(385571),d=function(e){switch(e.name){case n.CatalogBlockLayoutName.HEADER_COMPACT:return i.HeaderCompact;case n.CatalogBlockLayoutName.LARGE_LIST:case n.CatalogBlockLayoutName.LIST:return a.LargeList;case n.CatalogBlockLayoutName.SLIDER:return o.Slider}return function(){return null}},c=function(e){switch(e.data_type){case n.ECatalogBlockDataType.VIDEOS:return(null==e?void 0:e.videos_ids)||[];case n.ECatalogBlockDataType.ALBUMS:return(null==e?void 0:e.albums_ids)||[]}return[]},u=function(e){switch(e){case n.ECatalogBlockDataType.VIDEOS:return s.Video;case n.ECatalogBlockDataType.ALBUMS:return l.Playlist}return function(){return null}}},798773:(e,t,r)=>{r.d(t,{SearchCatalogSuggesterRoot:()=>l});var n=r(570655),i=r(785893),a=r(50533),o=r(412739),s=r(687064),l=function(e){var t=e.initOptions;return(0,i.jsx)(a.Provider,(0,n.__assign)({store:o.suggesterStore},{children:(0,i.jsx)(s.SearchForm,{options:t},void 0)}),void 0)}},196807:(e,t,r)=>{r.d(t,{Catalog:()=>s});var n=r(570655),i=r(785893),a=r(667294),o=r(309040),s=function(e){var t,r=e.catalog,s=null===(t=null==r?void 0:r.sections)||void 0===t?void 0:t.find((function(e){return e.id===(null==r?void 0:r.default_section)})),l=(0,o.extractBlocks)(s);return(0,i.jsx)(i.Fragment,{children:l.map((function(e){var t=(0,o.getBlockByLayout)(e);return(0,a.createElement)(t,(0,n.__assign)({},e,{key:e.id}))}))},void 0)}},79199:(e,t,r)=>{r.d(t,{HeaderCompact:()=>a});var n=r(570655),i=r(785893),a=function(e){return(0,i.jsx)("div",{children:(0,i.jsx)("h3",(0,n.__assign)({className:"SuggestionItemsTitle"},{children:e.layout.title}),void 0)},e.id)}},836016:(e,t,r)=>{r.d(t,{HeaderCompact:()=>n.HeaderCompact});var n=r(79199)},674673:(e,t,r)=>{r.d(t,{SuggesterBlock:()=>l});var n=r(570655),i=r(785893),a=r(667294),o=r(139935),s=r(296135),l=function(e){var t=(0,o.useTypedSelector)((function(e){var t;return{searchQuery:e.searchInput.query,catalog:e.catalog.catalog,recentSuggestions:e.suggester.recentSuggests,otherSuggestions:e.suggester.otherSuggests,selectedSuggestion:e.suggester.selectedSuggest,helpSuggest:e.suggester.helpSuggest,triggerSearch:null===(t=e.initOptions.triggers)||void 0===t?void 0:t.triggerSearch,lastQuery:e.catalog.lastQuery}})),r=t.searchQuery,l=t.recentSuggestions,d=t.otherSuggestions,c=t.selectedSuggestion,u=t.triggerSearch,_=t.lastQuery,f=(0,a.useMemo)((function(){var t=(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(l),!1),(0,n.__read)(d),!1);return e.suggestions_ids&&(t=t.filter((function(t){var r,n=t.id,i=void 0===n?"":n;return null===(r=null==e?void 0:e.suggestions_ids)||void 0===r?void 0:r.includes(i)}))),e.search_suggestions_ids&&(t=t.filter((function(t){var r,n=t.id,i=void 0===n?"":n;return null===(r=null==e?void 0:e.search_suggestions_ids)||void 0===r?void 0:r.includes(i)}))),t}),[l,d,r,_,c]);return(0,i.jsx)("div",(0,n.__assign)({className:"SuggesterBlock"},{children:(0,i.jsx)(s.SuggestionItems,{suggestions:f,selectedId:c,triggerSearch:u},void 0)}),void 0)}},296135:(e,t,r)=>{r.d(t,{SuggestionItems:()=>g});var n=r(570655),i=r(785893),a=r(667294),o=r(800843),s=r(960837),l=r(70162),d=r(302810),c=r(189558),u=r(659397),_=r(214547),f=r(740517),g=function(e){var t=e.suggestions,r=e.selectedId,g=e.triggerSearch,v=(0,d.useAction)(),p=v.setSearchQuery,S=v.hideSuggest,m=v.deleteRecent,h=v.search,E=v.deleteRecentBlock,I=(0,a.useCallback)((function(e,t){void 0===t&&(t="");var r=(0,c.getMainInput)(),n=window.uiSearch.getWrapEl(r);p(t),h(r,n,t,g),S(n),_.searchStatsCollector.logEvent({action:f.SearchClickActionMap.TAP,track_code:e,type:f.EventItemType.SEARCH_SUGGESTION})}),[]),C=(0,a.useCallback)((function(e,r,n){e.stopPropagation(),m(n||""),_.searchStatsCollector.logEvent({action:f.SearchClickActionMap.REMOVE_RECENT,track_code:r,type:f.EventItemType.SEARCH_SUGGESTION});1===t.length&&E()}),[t]);return(0,i.jsx)(i.Fragment,{children:t.map((function(e){return(0,i.jsxs)("div",(0,n.__assign)({className:(0,u.classNames)("SuggestionItemsItem",{"SuggestionItemsItem--selected":r===e.id}),onClick:function(){return I((null==e?void 0:e.track_code)||"",e.title)}},{children:[(0,i.jsx)("div",(0,n.__assign)({className:"SuggestionItemsItemIcon"},{children:"recent"===e.type?(0,i.jsx)(o.default,{},void 0):(0,i.jsx)(s.default,{},void 0)}),void 0),(0,i.jsx)("p",(0,n.__assign)({className:"SuggestionItemsText"},{children:e.title}),void 0),"recent"===e.type?(0,i.jsx)("button",(0,n.__assign)({className:"SuggestionItemsDelete",onClick:function(t){return C(t,(null==e?void 0:e.track_code)||"",e.id)}},{children:(0,l.getLang)("search_web_video_suggester_delete_action")}),void 0):null]}),e.id)}))},void 0)}},182730:(e,t,r)=>{r.d(t,{SuggesterBlock:()=>n.SuggesterBlock});var n=r(674673)},586106:(e,t,r)=>{r.d(t,{SuggesterBlock:()=>n.SuggesterBlock,HeaderCompact:()=>i.HeaderCompact});var n=r(182730),i=r(836016)},698005:(e,t,r)=>{r.d(t,{Catalog:()=>n.Catalog,HeaderCompact:()=>i.HeaderCompact,SuggesterBlock:()=>i.SuggesterBlock});var n=r(196807),i=r(586106)},309040:(e,t,r)=>{r.d(t,{extractBlocks:()=>a,getBlockByLayout:()=>o});var n=r(722353),i=r(708908),a=function(e){var t;return(null===(t=null==e?void 0:e.blocks)||void 0===t?void 0:t.length)?e.blocks:[]},o=function(e){var t=e.layout.name,r=e.data_type;switch(t){case n.ESearchCatalogBlockLayoutName.LIST:return r===n.ESearchCatalogBlockDataType.CATALOG_SEARCH_SUGGESTION||r===n.ESearchCatalogBlockDataType.SEARCH_SUGGESTION?i.SuggesterBlock:function(){return null};case n.ESearchCatalogBlockLayoutName.HEADER_COMPACT:return i.HeaderCompact;default:return function(){return null}}}},733049:(e,t,r)=>{r.d(t,{InputHelpSuggest:()=>s});var n=r(570655),i=r(785893),a=r(973935),o=r(722353),s=function(e){var t,r=e.helpSuggestStart,s=void 0===r?"":r,l=e.helpSuggestEnd,d=void 0===l?"":l,c=null===(t=document.querySelector(o.SEARCH_INPUT_ELEMENT_ID))||void 0===t?void 0:t.parentElement;return a.createPortal((0,i.jsxs)("div",(0,n.__assign)({className:"InputHelpSuggest"},{children:[(0,i.jsx)("span",(0,n.__assign)({className:"InputHelpSuggest__hidden"},{children:s}),void 0),d]}),void 0),c)}},890781:(e,t,r)=>{r.d(t,{SearchInput:()=>g});var n=r(570655),i=r(785893),a=r(667294),o=r(189558),s=r(302810),l=r(342269),d=r(152278),c=r(722353),u=r(139935),_=r(733049),f=r(106866),g=function(e){var t=e.options,r=(0,u.useTypedSelector)((function(e){return{query:e.searchInput.query,isWaitingForShow:e.suggester.isWaitingForShow,allSuggests:e.suggester.allSuggests,selectedSuggestId:e.suggester.selectedSuggest,helpSuggestStart:e.suggester.helpSuggestStart,helpSuggestEnd:e.suggester.helpSuggestEnd,helpSuggest:e.suggester.helpSuggest,helpTrigger:e.suggester.helpTrigger,shouldBeClosed:e.suggester.shouldBeClosed}})),g=r.query,v=r.isWaitingForShow,p=r.allSuggests,S=r.selectedSuggestId,m=r.helpSuggest,h=r.helpSuggestStart,E=r.helpSuggestEnd,I=r.helpTrigger,C=r.shouldBeClosed,y=(0,s.useAction)(),A=y.initOptions,T=y.setSearchQuery,w=y.startShowingSuggest,b=y.showSuggest,R=y.hideSuggest,k=y.chooseAbove,x=y.chooseBelow,O=y.search,D=y.resetSelectedSuggest,N=y.resetHelpSuggest,L=y.triggerHelpSuggest,P=y.resetTempSuggesterData,M=y.resetClosedSuggesterStatus,j=(0,n.__read)((0,a.useState)((0,o.getQueryFromNav)()),2),F=j[0],V=j[1],G=(0,f.useDebounce)(F,c.DEBOUNCE_TIME);(0,a.useEffect)((function(){D(),T(G)}),[G]);var U=(0,a.useCallback)((function(e){var r,n=e.target,i=window.uiSearch.getWrapEl(n),a=(0,l.trim)(n.value)?n.value:"";if(a||((null==t?void 0:t.allowFiltersForEmpty)||window.uiSearch.removeAllFilters(n),window.uiSearch.hideProgress(n)),null==t?void 0:t.useInstantSearch)return P(),void O(n,i,a,null===(r=null==t?void 0:t.triggers)||void 0===r?void 0:r.triggerSearch);var o=e;[d.KEY.UP,d.KEY.DOWN,d.KEY.RIGHT,d.KEY.LEFT,d.KEY.SPACE].includes(o.keyCode)||V(a)}),[g,m,t]),B=(0,a.useCallback)((function(e){var r,n=(0,o.getMainInput)(),i=window.uiSearch.getWrapEl(n),a=(0,l.trim)(n.value)?n.value:"";switch(e.keyCode){case d.KEY.ENTER:O(n,i,a,null===(r=null==t?void 0:t.triggers)||void 0===r?void 0:r.triggerSearch),R(i),P();break;case d.KEY.ESC:n.blur(),R(i),P();break;case d.KEY.UP:k(),n.setSelectionRange(n.value.length,n.value.length);break;case d.KEY.DOWN:x();break;case d.KEY.RIGHT:L();break;case d.KEY.TAB:case d.KEY.SHIFT:case d.KEY.CTRL:case d.KEY.ALT:case d.KEY.META_LEFT:case d.KEY.META_RIGHT:break;default:N()}}),[]),H=(0,a.useCallback)((function(){var e,r=document.querySelector(c.SEARCH_INPUT_ELEMENT_ID),n=window.uiSearch.getWrapEl(r),i=(0,l.trim)(r.value)?(0,l.trim)(r.value):"";P(),O(r,n,i,null===(e=null==t?void 0:t.triggers)||void 0===e?void 0:e.triggerSearch),R(n)}),[g]),$=(0,a.useCallback)((function(e){var t,r=e.target,n=window.uiSearch.getWrapEl(document.querySelector(c.SEARCH_INPUT_ELEMENT_ID));(null===(t=null==n?void 0:n.classList)||void 0===t?void 0:t.contains(c.SEARCH_SUGGESTER_OPEN_CLASS))&&(r.closest(c.SEARCH_INPUT_ELEMENT_ID)||r.closest(".SearchCatalogSuggester")||r.closest(".ui_search_reset_button")||(P(),R(n)))}),[]),q=(0,a.useCallback)((function(e){var t=e,r=(null==t?void 0:t.ctrlKey)||(null==t?void 0:t.metaKey);if(![d.KEY.ENTER,d.KEY.ESC].includes(t.keyCode)&&!r){switch(t.keyCode){case d.KEY.TAB:case d.KEY.SHIFT:case d.KEY.CTRL:case d.KEY.ALT:case d.KEY.META_LEFT:case d.KEY.META_RIGHT:return}var n=e.target,i=window.uiSearch.getWrapEl(n);!C||p.length||(null==n?void 0:n.value)?(M(),b(i)):w()}}),[C,p]),W=(0,a.useCallback)((function(){m&&T(m)}),[m]),Q=(0,a.useCallback)((function(e){P();var t=e.target,r=window.uiSearch.getWrapEl(t);!C||p.length||(null==t?void 0:t.value)?(M(),b(r)):w(),T(""),w()}),[t,C,p]),K=(0,a.useCallback)((function(){P(),T("")}),[]);return(0,a.useEffect)((function(){t&&A(t);var e=(0,o.getMainInput)(),r=window.uiSearch.getWrapEl(e).querySelector(".ui_search_button_search"),i=(0,n.__spreadArray)([],(0,n.__read)(document.querySelectorAll(".MenuList__item")),!1);return(null==e?void 0:e.value)&&T(e.value),(0,d.addEvent)(e,"input change keyup valueChanged refresh",U),(0,d.addEvent)(e,"keydown",B),(0,d.addEvent)(r,"click",H),(0,d.addEvent)(window,"mousedown",$),(null==i?void 0:i.length)&&i.map((function(e){return(0,d.addEvent)(e,"click",K)})),function(){(0,d.removeEvent)(e,"input change keyup valueChanged refresh",U),(0,d.removeEvent)(e,"keydown",B),(0,d.removeEvent)(r,"click",H),(0,d.removeEvent)(window,"mousedown",$),(null==i?void 0:i.length)&&i.map((function(e){return(0,d.removeEvent)(e,"click",K)}))}}),[]),(0,a.useEffect)((function(){t&&A(t);var e=(0,o.getMainInput)(),r=window.uiSearch.getWrapEl(e).querySelector(".ui_search_reset_button");return(null==e?void 0:e.value)&&T(e.value),(0,d.addEvent)(e,"click keyup keydown",q),(0,d.addEvent)(r,"click",Q),function(){(0,d.removeEvent)(e,"click keyup keydown",q),(0,d.removeEvent)(r,"click",Q)}}),[t,C]),(0,a.useEffect)((function(){var e=(0,o.getMainInput)(),t=window.uiSearch.getWrapEl(e);v&&(p.length||(null==e?void 0:e.value))&&b(t)}),[t,p,g,v]),(0,a.useEffect)((function(){var e=(0,o.getMainInput)();e&&g!==e.value&&(e.value=g,e.setSelectionRange(e.value.length,e.value.length))}),[g]),(0,a.useEffect)((function(){var e=p.find((function(e){return e.id===S}));(null==e?void 0:e.title)&&T(e.title)}),[S]),(0,a.useEffect)((function(){W()}),[I]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(_.InputHelpSuggest,{helpSuggestStart:h||"",helpSuggestEnd:E||""},void 0)},void 0)}},348130:(e,t,r)=>{r.d(t,{SearchInput:()=>n.SearchInput});var n=r(890781)},850073:(e,t,r)=>{r.d(t,{Suggester:()=>_});var n=r(570655),i=r(785893),a=r(667294),o=r(302810),s=r(708908),l=r(139935),d=r(873589),c=r(189558),u=r(722353),_=function(e){var t=e.options,r=(0,l.useTypedSelector)((function(e){return{catalog:null==e?void 0:e.catalog.catalog,searchQuery:null==e?void 0:e.searchInput.query,isOpen:null==e?void 0:e.suggester.isOpen,isWaitingForShow:null==e?void 0:e.suggester.isWaitingForShow,allSuggests:e.suggester.allSuggests,canFetch:!e.suggester.selectedSuggest,lastQuery:e.catalog.lastQuery,shouldBeClosed:e.suggester.shouldBeClosed}})),_=r.catalog,f=r.searchQuery,g=r.isOpen,v=r.canFetch,p=r.allSuggests,S=r.lastQuery,m=r.shouldBeClosed,h=r.isWaitingForShow,E=(0,o.useAction)(),I=E.fetchCatalog,C=E.setSuggestions,y=E.setHelpSuggest,A=E.resetDeletedSuggest,T=E.hideSuggest;return(0,a.useEffect)((function(){_&&C(_)}),[_]),(0,a.useEffect)((function(){v&&(g||h)&&f!==S&&(A(),I({q:f}))}),[t,f,g,h,S,v]),(0,a.useEffect)((function(){y(f)}),[f,p]),(0,a.useEffect)((function(){if(f){var e=(0,c.getMainInput)(),t=window.uiSearch.getWrapEl(e);(0,d.toggleClass)(t,u.SEARCH_EMPTY_FIELD_CLASS,!f)}}),[]),(0,a.useEffect)((function(){if(m){var e=(0,c.getMainInput)(),t=window.uiSearch.getWrapEl(e);(null==e?void 0:e.value)||T(t)}}),[t,m]),g?(0,i.jsx)("div",(0,n.__assign)({className:"SearchCatalogSuggester"},{children:(0,i.jsx)(s.Catalog,{catalog:null==_?void 0:_.catalog},void 0)}),void 0):null}},72193:(e,t,r)=>{r.d(t,{Suggester:()=>n.Suggester});var n=r(850073)},708908:(e,t,r)=>{r.d(t,{Suggester:()=>n.Suggester,Catalog:()=>i.Catalog,HeaderCompact:()=>i.HeaderCompact,SuggesterBlock:()=>i.SuggesterBlock,SearchInput:()=>a.SearchInput});var n=r(72193),i=r(698005),a=r(348130)},722353:(e,t,r)=>{r.d(t,{SEARCH_WRAPPER_ELEMENT_ID:()=>a,SEARCH_INPUT_ELEMENT_ID:()=>o,SEARCH_EMPTY_FIELD_CLASS:()=>s,SEARCH_SUGGESTER_OPEN_CLASS:()=>l,IMMEDIATELY_TIMER:()=>d,DEBOUNCE_TIME:()=>c,API_REMOVE_RESENT_QUERY:()=>u,API_GET_VIDEO_SEARCH:()=>_,ESearchCatalogBlockLayoutName:()=>n,ESearchCatalogBlockDataType:()=>i,LAT:()=>f,RUS:()=>g});var n,i,a="video_search_input_wrapper",o="#video_search_input",s="ui_search_field_empty",l="VideoSearchInput__withNewSuggester--open",d=0,c=200,u="search.removeVideoSearchRecentQuery",_="catalog.getVideoSearch";!function(e){e.LIST="list",e.HEADER_COMPACT="header_compact"}(n||(n={})),function(e){e.CATALOG_SEARCH_SUGGESTION="catalog_search_suggestion",e.SEARCH_SUGGESTION="search_suggestions"}(i||(i={}));var f="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ ",g="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ "},184515:(e,t,r)=>{r.d(t,{SearchForm:()=>a});var n=r(785893),i=r(708908),a=function(e){var t=e.options;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.SearchInput,{options:t},void 0),(0,n.jsx)(i.Suggester,{options:t},void 0)]},void 0)}},687064:(e,t,r)=>{r.d(t,{SearchForm:()=>n.SearchForm});var n=r(184515)},302810:(e,t,r)=>{r.d(t,{useAction:()=>o});var n=r(50533),i=r(14890),a=r(281412),o=function(){var e=(0,n.useDispatch)();return(0,i.bindActionCreators)(a.ActionCreators,e)}},106866:(e,t,r)=>{r.d(t,{useDebounce:()=>a});var n=r(570655),i=r(667294),a=function(e,t){void 0===e&&(e=""),void 0===t&&(t=0);var r=(0,n.__read)((0,i.useState)(e),2),a=r[0],o=r[1];return(0,i.useEffect)((function(){var r=setTimeout((function(){o(e)}),t);return function(){clearTimeout(r)}}),[e]),a}},139935:(e,t,r)=>{r.d(t,{useTypedSelector:()=>n});var n=r(50533).useSelector},569392:(e,t,r)=>{r.r(t),r.d(t,{fetchCatalog:()=>s,deleteRecentBlock:()=>l});var n=r(570655),i=r(189798),a=r(232519),o=r(722353),s=function(e){return function(t){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var r,s;return(0,n.__generator)(this,(function(l){switch(l.label){case 0:return t({type:a.CatalogActions.START_LOADING,payload:e.q||""}),[4,(0,i.api)(o.API_GET_VIDEO_SEARCH,(0,n.__assign)((0,n.__assign)({},e),{need_blocks:1,show_suggests:1}))];case 1:return r=l.sent(),(null===(s=r.suggestions)||void 0===s?void 0:s.length)&&r.suggestions[0]&&(window.cur.videoSearchTrackCodeForQID=r.suggestions[0].track_code||""),t({type:a.CatalogActions.FETCH,payload:r}),t({type:a.CatalogActions.STOP_LOADING}),[2]}}))}))}},l=function(){return function(e){e({type:a.CatalogActions.REMOVE_RECENT})}}},281412:(e,t,r)=>{r.d(t,{ActionCreators:()=>l});var n=r(570655),i=r(84053),a=r(569392),o=r(714219),s=r(451886),l=(0,n.__assign)((0,n.__assign)((0,n.__assign)((0,n.__assign)({},i),a),o),s)},84053:(e,t,r)=>{r.r(t),r.d(t,{initOptions:()=>i});var n=r(232519),i=function(e){return function(t){t({type:n.InitOptionsActionType.INIT,payload:e})}}},714219:(e,t,r)=>{r.r(t),r.d(t,{search:()=>s,setSearchQuery:()=>l});var n=r(699904),i=r(342269),a=r(873589),o=r(722353),s=function(e,t,r,s){return void 0===r&&(r=""),function(l){if(s){var d=(0,i.trim)(r)?(0,i.trim)(r):"";(0,a.toggleClass)(t,o.SEARCH_EMPTY_FIELD_CLASS,!d),null==s||s.call(e,d),l({type:n.SearchInputActions.SEARCH,payload:d})}}},l=function(e){return function(t){t({type:n.SearchInputActions.SET_QUERY,payload:e})}}},451886:(e,t,r)=>{r.r(t),r.d(t,{startShowingSuggest:()=>o,showSuggest:()=>s,hideSuggest:()=>l,resetClosedSuggesterStatus:()=>d,setSuggestions:()=>c,deleteRecent:()=>u,chooseAbove:()=>_,chooseBelow:()=>f,resetSelectedSuggest:()=>g,resetDeletedSuggest:()=>v,setHelpSuggest:()=>p,triggerHelpSuggest:()=>S,resetHelpSuggest:()=>m,resetTempSuggesterData:()=>h});var n=r(232519),i=r(189798),a=r(722353),o=function(){return function(e){e({type:n.SuggesterActions.START_SHOW})}},s=function(e){return function(t){(null==e?void 0:e.classList.contains(a.SEARCH_SUGGESTER_OPEN_CLASS))||(e.classList.add(a.SEARCH_SUGGESTER_OPEN_CLASS),t({type:n.SuggesterActions.SHOW,payload:e}))}},l=function(e){return function(t){var r;null===(r=null==e?void 0:e.classList)||void 0===r||r.remove(a.SEARCH_SUGGESTER_OPEN_CLASS),t({type:n.SuggesterActions.HIDE})}},d=function(){return function(e){e({type:n.SuggesterActions.RESET_CLOSED_STATUS})}},c=function(e){return function(t){t({type:n.SuggesterActions.SET_SUGGESTS,payload:{suggests:(null==e?void 0:e.suggestions)||[]}})}},u=function(e){return function(t){e&&((0,i.api)(a.API_REMOVE_RESENT_QUERY,{query_id:e}),t({type:n.SuggesterActions.DELETE_RECENT,payload:e}))}},_=function(){return function(e){e({type:n.SuggesterActions.CHOOSE_ABOVE})}},f=function(){return function(e){e({type:n.SuggesterActions.CHOOSE_BELOW})}},g=function(){return function(e){e({type:n.SuggesterActions.RESET_SELECTED})}},v=function(){return function(e){e({type:n.SuggesterActions.RESET_DELETED})}},p=function(e){return void 0===e&&(e=""),function(t){t({type:n.SuggesterActions.SET_HELP_SUGGEST,payload:e})}},S=function(){return function(e){e({type:n.SuggesterActions.TRIGGER_HELP_SUGGEST})}},m=function(){return function(e){e({type:n.SuggesterActions.RESET_HELP_SUGGEST})}},h=function(){return function(e){e({type:n.SuggesterActions.RESET_TEMP_SUGGESTER_DATA})}}},412739:(e,t,r)=>{r.d(t,{suggesterStore:()=>s});var n=r(14890),i=r(753894),a=r(913534),o=r(929804).composeWithDevTools((0,n.applyMiddleware)(i.default)),s=(0,n.createStore)(a.rootReducer,o)},198725:(e,t,r)=>{r.d(t,{catalogReducer:()=>s});var n=r(570655),i=r(232519),a=r(722353),o={catalog:{},lastQuery:null,loading:!1},s=function(e,t){var r,s,l,d,c,u;switch(void 0===e&&(e=o),t.type){case i.CatalogActions.START_LOADING:return(0,n.__assign)((0,n.__assign)({},e),{loading:!0,lastQuery:t.payload});case i.CatalogActions.STOP_LOADING:return(0,n.__assign)((0,n.__assign)({},e),{loading:!1});case i.CatalogActions.FETCH:return(0,n.__assign)((0,n.__assign)({},e),{catalog:t.payload});case i.CatalogActions.REMOVE_RECENT:var _=(0,n.__assign)({},e.catalog);if((null===(s=null===(r=_.catalog)||void 0===r?void 0:r.sections)||void 0===s?void 0:s.length)&&(null===(l=_.catalog)||void 0===l?void 0:l.sections[0])){var f=_.catalog.sections[0];if((null===(d=f.blocks)||void 0===d?void 0:d.length)&&(null===(c=f.blocks)||void 0===c?void 0:c.length)>2){var g=(0,n.__spreadArray)([],(0,n.__read)(f.blocks),!1),v=f.blocks[0],p=f.blocks[1];if((null===(u=null==v?void 0:v.layout)||void 0===u?void 0:u.name)===a.ESearchCatalogBlockLayoutName.HEADER_COMPACT&&p.data_type===a.ESearchCatalogBlockDataType.CATALOG_SEARCH_SUGGESTION)return g.splice(0,2),f.blocks=g,(0,n.__assign)((0,n.__assign)({},e),{catalog:_})}}return(0,n.__assign)({},e);default:return e}}},913534:(e,t,r)=>{r.d(t,{rootReducer:()=>l});var n=r(14890),i=r(720969),a=r(198725),o=r(116722),s=r(101644),l=(0,n.combineReducers)({initOptions:i.initOptionsReducer,catalog:a.catalogReducer,searchInput:o.searchInputReducer,suggester:s.suggesterReducer})},720969:(e,t,r)=>{r.d(t,{initOptionsReducer:()=>o});var n=r(570655),i=r(232519),a={useInstantSearch:!0,type:"video"},o=function(e,t){return void 0===e&&(e=a),t.type===i.InitOptionsActionType.INIT?(0,n.__assign)((0,n.__assign)({},e),t.payload):e}},116722:(e,t,r)=>{r.d(t,{searchInputReducer:()=>s});var n=r(570655),i=r(189558),a=r(232519),o={query:(0,i.getQueryFromNav)(),lastSearchRequest:""},s=function(e,t){switch(void 0===e&&(e=o),t.type){case a.SearchInputActions.SET_QUERY:return(0,n.__assign)((0,n.__assign)({},e),{query:t.payload});case a.SearchInputActions.SEARCH:return(0,n.__assign)((0,n.__assign)({},e),{lastSearchRequest:t.payload});default:return e}}},101644:(e,t,r)=>{r.d(t,{suggesterReducer:()=>s});var n=r(570655),i=r(232519),a=r(722353),o={isOpen:!1,isWaitingForShow:!1,shouldBeClosed:!1,suggestsOrderIds:[],allSuggests:[],recentSuggests:[],otherSuggests:[],deletedSuggests:[],selectedSuggest:null,helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null,helpTrigger:!1},s=function(e,t){switch(void 0===e&&(e=o),t.type){case i.SuggesterActions.START_SHOW:return(0,n.__assign)((0,n.__assign)({},e),{isWaitingForShow:!(null==e?void 0:e.isOpen)});case i.SuggesterActions.SHOW:return(0,n.__assign)((0,n.__assign)({},e),{isOpen:!0,isWaitingForShow:!1});case i.SuggesterActions.HIDE:return(0,n.__assign)((0,n.__assign)({},e),{isOpen:!1});case i.SuggesterActions.RESET_CLOSED_STATUS:return(0,n.__assign)((0,n.__assign)({},e),{shouldBeClosed:!1});case i.SuggesterActions.SET_SUGGESTS:var r=t.payload.suggests||[],s=r.filter((function(t){var r=t.id,n=void 0===r?"":r,i=t.type;return"recent"===(void 0===i?"":i)&&!e.deletedSuggests.includes(n)})),l=r.filter((function(e){return"recent"!==(null==e?void 0:e.type)})),d=(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(s),!1),(0,n.__read)(l),!1).map((function(e){return(null==e?void 0:e.id)||""})),c=(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(s),!1),(0,n.__read)(l),!1);return(0,n.__assign)((0,n.__assign)({},e),{recentSuggests:s,otherSuggests:l,suggestsOrderIds:d,allSuggests:c,shouldBeClosed:!c.length});case i.SuggesterActions.DELETE_RECENT:var u=(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e.deletedSuggests),!1),[t.payload],!1);return(0,n.__assign)((0,n.__assign)({},e),{deletedSuggests:u,recentSuggests:e.recentSuggests.filter((function(e){var t=e.id,r=void 0===t?"":t;return!u.includes(r)})),suggestsOrderIds:e.suggestsOrderIds.filter((function(e){return void 0===e&&(e=""),!u.includes(e)}))});case i.SuggesterActions.CHOOSE_ABOVE:if(!e.selectedSuggest)return(0,n.__assign)((0,n.__assign)({},e),{selectedSuggest:e.suggestsOrderIds[-1],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});var _=((f=e.suggestsOrderIds.findIndex((function(t){return t===e.selectedSuggest})))-1==-1?e.suggestsOrderIds.length-1:f-1)%e.suggestsOrderIds.length;return(0,n.__assign)((0,n.__assign)({},e),{selectedSuggest:e.suggestsOrderIds[_],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});case i.SuggesterActions.CHOOSE_BELOW:if(!e.selectedSuggest)return(0,n.__assign)((0,n.__assign)({},e),{selectedSuggest:e.suggestsOrderIds[0],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});var f,g=((f=e.suggestsOrderIds.findIndex((function(t){return t===e.selectedSuggest})))+1)%e.suggestsOrderIds.length;return(0,n.__assign)((0,n.__assign)({},e),{selectedSuggest:e.suggestsOrderIds[g],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});case i.SuggesterActions.RESET_SELECTED:return(0,n.__assign)((0,n.__assign)({},e),{selectedSuggest:null});case i.SuggesterActions.RESET_DELETED:return(0,n.__assign)((0,n.__assign)({},e),{deletedSuggests:[]});case i.SuggesterActions.SET_HELP_SUGGEST:if(e.selectedSuggest)return(0,n.__assign)({},e);var v=t.payload.length-1,p=e.allSuggests.length&&e.allSuggests[0].title||"";if(t.payload[v]===p[v]){if(a.RUS.includes(t.payload[v])&&a.RUS.includes(p[v]))return(0,n.__assign)((0,n.__assign)({},e),{helpSuggest:p,helpSuggestStart:t.payload,helpSuggestEnd:p.slice(t.payload.length,p.length)});if(a.LAT.includes(t.payload[v])&&a.LAT.includes(p[v]))return(0,n.__assign)((0,n.__assign)({},e),{helpSuggest:p,helpSuggestStart:t.payload,helpSuggestEnd:p.slice(t.payload.length,p.length)})}return(0,n.__assign)((0,n.__assign)({},e),{helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});case i.SuggesterActions.TRIGGER_HELP_SUGGEST:return(0,n.__assign)((0,n.__assign)({},e),{helpTrigger:!e.helpTrigger});case i.SuggesterActions.RESET_HELP_SUGGEST:return(0,n.__assign)((0,n.__assign)({},e),{helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});case i.SuggesterActions.RESET_TEMP_SUGGESTER_DATA:return(0,n.__assign)((0,n.__assign)({},e),{selectedSuggest:null,helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});default:return e}}},232519:(e,t,r)=>{r.d(t,{CatalogActions:()=>n.CatalogActions,InitOptionsActionType:()=>n.InitOptionsActionType,SearchInputActions:()=>n.SearchInputActions,SuggesterActions:()=>n.SuggesterActions});var n=r(458584)},474670:(e,t,r)=>{var n;r.d(t,{CatalogActions:()=>n}),function(e){e.FETCH="FETCH",e.START_LOADING="START_LOADING",e.STOP_LOADING="STOP_LOADING",e.REMOVE_RECENT="REMOVE_RECENT"}(n||(n={}))},458584:(e,t,r)=>{r.d(t,{InitOptionsActionType:()=>n.InitOptionsActionType,CatalogActions:()=>i.CatalogActions,SearchInputActions:()=>a.SearchInputActions,SuggesterActions:()=>o.SuggesterActions});var n=r(649859),i=r(474670),a=r(699904),o=r(357004)},649859:(e,t,r)=>{var n;r.d(t,{InitOptionsActionType:()=>n}),function(e){e.INIT="INIT"}(n||(n={}))},699904:(e,t,r)=>{var n;r.d(t,{SearchInputActions:()=>n}),function(e){e.SEARCH="SEARCH",e.SET_QUERY="SET_QUERY"}(n||(n={}))},357004:(e,t,r)=>{var n;r.d(t,{SuggesterActions:()=>n}),function(e){e.SET_SUGGESTS="SET_SUGGESTS",e.CHOOSE_BELOW="CHOOSE_BELOW",e.CHOOSE_ABOVE="CHOOSE_ABOVE",e.DELETE_RECENT="DELETE_RECENT",e.SET_HELP_SUGGEST="SET_HELP_SUGGEST",e.TRIGGER_HELP_SUGGEST="TRIGGER_HELP_SUGGEST",e.RESET_SELECTED="RESET_SELECTED",e.RESET_DELETED="RESET_DELETED",e.RESET_HELP_SUGGEST="RESET_HELP_SUGGEST",e.RESET_TEMP_SUGGESTER_DATA="RESET_TEMP_SUGGESTER_DATA",e.START_SHOW="START_SHOW",e.SHOW="SHOW",e.HIDE="HIDE",e.RESET_CLOSED_STATUS="RESET_CLOSED_STATUS"}(n||(n={}))},189558:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{getMainInput:()=>getMainInput,getQueryFromNav:()=>getQueryFromNav});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(570655),_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(873589),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(769488),_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(722353),getMainInput=function(){var e=document.getElementById(_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_WRAPPER_ELEMENT_ID);if(!e)return null;var t=null==e?void 0:e.querySelector(_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_INPUT_ELEMENT_ID);return t||null},getInitOptionsFromDom=function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(void 0,void 0,Promise,(function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__generator)(this,(function(_a){return[2,new Promise((function(resolve){setTimeout((function(){var mainInput=getMainInput(),wrapEl=window.uiSearch.getWrapEl(mainInput),delayedInitOptions=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__.domData)(wrapEl,"init-options"),result=null;if(delayedInitOptions){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__.domData)(wrapEl,"init-options",null);var evalScript="(function() { return "+delayedInitOptions+" })()";try{result=eval(evalScript)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_1__.logEvalError)(e,evalScript),resolve(result)}}resolve(result)}),_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.IMMEDIATELY_TIMER)}))]}))}))},getQueryFromNav=function(){var e,t,r;return(null===(t=null===(e=window.nav)||void 0===e?void 0:e.objLoc)||void 0===t?void 0:t.q)||(null===(r=window.nav)||void 0===r?void 0:r.objLoc["c[q]"])||""}},250943:(e,t,r)=>{r.d(t,{SearchTopRoot:()=>l});var n=r(570655),i=r(785893),a=r(388636),o=r(86894),s=r(99656),l=(r(662632),r(108830),function(){return(0,i.jsx)(s.AppRootProvider,(0,n.__assign)({sizeX:o.SizeType.REGULAR,sizeY:o.SizeType.COMPACT,viewWidth:o.ViewWidth.DESKTOP},{children:(0,i.jsx)(a.App,{},void 0)}),void 0)})},726562:(e,t,r)=>{r.d(t,{getSearchTop:()=>o,addRecent:()=>s,joinGroup:()=>l,leaveGroup:()=>d,addFriend:()=>c,deleteFriend:()=>u});var n=r(570655),i=r(189798),a=r(762422);function o(e,t){return(0,i.api)(a.CATALOG_API_METHODS.GET_SEARCH_TOP,e,void 0,t)}function s(e){return(0,i.api)(a.CATALOG_API_METHODS.ADD_RECENT,e)}function l(e){return(0,i.api)(a.CATALOG_API_METHODS.JOIN_GROUP,(0,n.__assign)({},e))}function d(e){return(0,i.api)(a.CATALOG_API_METHODS.LEAVE_GROUP,(0,n.__assign)({},e))}function c(e){return(0,i.api)(a.CATALOG_API_METHODS.ADD_FRIEND,(0,n.__assign)({},e))}function u(e){return(0,i.api)(a.CATALOG_API_METHODS.DELETE_FRIEND,(0,n.__assign)({},e))}},266550:(e,t,r)=>{r.d(t,{Catalog:()=>o});var n=r(570655),i=r(785893),a=r(635630),o=function(e){var t,r,o=e.catalog,s=null===(t=null==o?void 0:o.sections)||void 0===t?void 0:t.find((function(e){return e.id===(null==o?void 0:o.default_section)}));return(0,i.jsx)(i.Fragment,{children:null===(r=null==s?void 0:s.blocks)||void 0===r?void 0:r.map((function(e,t){var r=(0,a.getBlockByLayout)(e);return(0,i.jsx)(r,(0,n.__assign)({blockIndex:t},e),e.id)}))},void 0)}},627845:(e,t,r)=>{r.d(t,{IconButton:()=>l});var n=r(570655),i=r(785893),a=r(86894),o=r(659397),s=r(748231),l=function(e){var t=e.className,r=e.children,l=(0,n.__rest)(e,["className","children"]);return(0,i.jsx)(a.IconButton,(0,n.__assign)({className:(0,o.classNames)(s.default.button,t)},l,{children:r}),void 0)}},827899:(e,t,r)=>{r.d(t,{IconButton:()=>n.IconButton});var n=r(627845)},122064:(e,t,r)=>{r.d(t,{Button:()=>a});var n=r(785893),i=r(132414),a=function(e){var t=e.actions,r=void 0===t?[]:t,a=e.blockIndex;return(0,n.jsx)(n.Fragment,{children:null==r?void 0:r.map((function(e,t){var r=(0,i.getButton)(e);return(0,n.jsx)(r,{action:e,itemIndex:(a||0)+t,id:t},t)}))},void 0)}},206545:(e,t,r)=>{r.d(t,{OpenUrl:()=>p});var n=r(570655),i=r(785893),a=r(667294),o=r(842571),s=r(919653),l=r(86894),d=r(799549),c=r(540249),u=r(797704),_=r(578274),f=r(740517),g=r(234057),v=r(685602),p=function(e){var t,r=e.action,p=e.itemIndex,S=(0,_.useCollectClick)(),m=(0,o.useStore)(s.$currentQuery),h=(0,o.useStore)(s.$selectedItemIndex),E=(0,o.useStore)(s.$isMouseActive),I=""+(null===(t=null==r?void 0:r.action)||void 0===t?void 0:t.url)+encodeURIComponent(m),C=(0,a.useCallback)((function(e){e&&!(0,u.isMainClick)(null==e?void 0:e.nativeEvent)||(null==e||e.preventDefault(),null==e||e.stopPropagation(),S({type:f.EventItemType.CATALOG_ITEM,track_code:null==r?void 0:r.track_code,action:f.SearchClickActionMap.TAP}),(0,s.fireSetCurrentQuery)(""),(0,s.fireSetResultsDisplay)(!1),(0,s.fireSetCatalog)(null),(0,s.fireAbortRequest)(),(0,g.navGo)(I,null))}),[m,S]);return(0,a.useEffect)((function(){(0,s.fireSetItemIndex)({id:p||0,callback:C})}),[p,C]),(0,i.jsx)(d.SimpleCell,(0,n.__assign)({hovered:(null==h?void 0:h.id)===p,onMouseOut:function(){(0,s.fireSetSelectionIndexByItem)(-1)},onMouseOver:function(){(0,s.fireSetSelectionIndexByItem)(p||-1)},onClick:C,hasHover:E||(null==h?void 0:h.id)===p,href:I,after:(0,i.jsx)(c.default,{},void 0),className:v.default.container},{children:(0,i.jsx)(l.Headline,(0,n.__assign)({className:v.default.link,level:"1",weight:"3"},{children:null==r?void 0:r.title}),void 0)}),void 0)}},322453:(e,t,r)=>{r.d(t,{OpenUrl:()=>n.OpenUrl});var n=r(206545)},805315:(e,t,r)=>{r.d(t,{Button:()=>n.Button});var n=r(122064)},132414:(e,t,r)=>{r.d(t,{getButton:()=>a});var n=r(762422),i=r(322453),a=function(e){var t;return(null===(t=e.action)||void 0===t?void 0:t.type)===n.CatalogActionType.OPEN_URL?i.OpenUrl:function(){return null}}},356484:(e,t,r)=>{r.d(t,{CatalogUser:()=>A});var n=r(570655),i=r(785893),a=r(667294),o=r(842571),s=r(919653),l=r(304319),d=r(753445),c=r(316654),u=r(799549),_=r(728358),f=r(917258),g=r(754494),v=r(762422),p=r(659397),S=r(506770),m=r(797704),h=r(975197),E=r(578274),I=r(740517),C=r(234057),y=r(468634),A=(0,a.memo)((function(e){var t=e.id,r=e.itemIndex,A=(0,E.useCollectClick)(),T=(0,n.__read)((0,a.useState)(!0),2),w=T[0],b=T[1],R=(0,o.useStoreMap)({store:s.$catalogUsers,keys:[t],fn:function(e,t){var r=(0,n.__read)(t,1)[0];return e.find((function(e){return e.item_id===r}))}}),k=(0,o.useStoreMap)({store:s.$profiles,keys:[null==R?void 0:R.user_id],fn:function(e,t){var r=(0,n.__read)(t,1)[0];return r?e.get(r):void 0}}),x=(0,o.useStoreMap)({store:s.$profiles,keys:[null==R?void 0:R.common_friends],fn:function(e,t){return((0,n.__read)(t,1)[0]||[]).map((function(t){return e.get(t)})).filter((function(e){return!!e})).map((function(e){var t=e.first_name,r=void 0===t?"":t,n=e.photo_50,i=void 0===n?"":n,a=e.photo_100;return{first_name:r,photo_50:i,photo_100:void 0===a?"":a}}))}}),O=(0,o.useStoreMap)({store:s.$friendsToDelete,keys:[null==k?void 0:k.id],fn:function(e,t){var r=(0,n.__read)(t,1)[0];return!!e.find((function(e){return e===r}))}}),D=(0,o.useStore)(s.$friendsPendingIds),N=(0,o.useStore)(s.$selectedItemIndex),L=(0,o.useStore)(s.$isMouseActive),P=(0,S.partConfigEnabled)("vkui_account_common_verification_mark")&&((null==k?void 0:k.is_esia_verified)||(null==k?void 0:k.is_sber_verified)||(null==k?void 0:k.is_tinkoff_verified)),M=(null==k?void 0:k.track_code)||(null==R?void 0:R.track_code),j=function(e){A({track_code:M,type:I.EventItemType.USER,action:e})},F=(0,a.useMemo)((function(){return(0,g.getFriendsButtonState)(null==k?void 0:k.friend_status,!!(null==k?void 0:k.can_write_private_message),O)}),[null==k?void 0:k.friend_status,null==k?void 0:k.can_write_private_message,O]),V=(0,a.useCallback)((function(e){!k||e&&!(0,m.isMainClick)(null==e?void 0:e.nativeEvent)||(j(I.SearchClickActionMap.TAP),(0,s.fireAddRecent)({owner_ids:""+k.id}),(0,s.fireSetResultsDisplay)(!1),(0,C.navGo)("/"+k.screen_name,(null==e?void 0:e.nativeEvent)||null))}),[k]);if((0,a.useEffect)((function(){(0,s.fireSetItemIndex)({id:r||0,callback:V})}),[r,V]),!k)return null;var G=(0,p.classNames)(P&&y.default.itemVerification);return(0,i.jsxs)(u.SimpleCell,(0,n.__assign)({hovered:(null==N?void 0:N.id)===r,onMouseOut:function(){(0,s.fireSetSelectionIndexByItem)(-1)},onClick:V,onMouseOver:function(){(0,s.fireSetSelectionIndexByItem)(r||-1)},hasHover:L||(null==N?void 0:N.id)===r,href:"/"+k.screen_name,before:(0,i.jsx)(_.FakeAvatar,(0,n.__assign)({size:v.CATALOG_AVATAR_SIZE},{children:(0,i.jsx)(f.AvatarRich,{size:v.CATALOG_AVATAR_SIZE,src:(0,g.getListAvatarSrc)(k),badge:(0,g.getOnlineStatus)(k),outlineType:k.has_unseen_stories?f.AvatarRichOutlineType.STORIES_UNSEEN:void 0,isNFT:!!k.is_nft},void 0)}),void 0),badgeAfterTitle:k.verified||P?(0,i.jsx)("div",(0,n.__assign)({onMouseOver:function(e){var t,r,n=null===(t=e.target)||void 0===t?void 0:t.closest('[data-catalog-item="list"]'),i=null===(r=e.target)||void 0===r?void 0:r.closest('[data-verified-container="true"]'),a=w?v.FIRST_VERIFIED_TOOLTIP_SHIFT:v.VERIFIED_TOOLTIP_SHIFT;(0,h.pageVerifiedTip)(i,{type:P?8:1,oid:null==k?void 0:k.id,appendEl:n,shift:a}),b(!1)},"data-verified-container":"true"},{children:(0,i.jsx)(l.default,{className:G},void 0)}),void 0):null,after:(0,i.jsx)(c.CatalogUserButton,{userId:k.id,action:F,loading:D.includes(k.id),logClickEvent:j},void 0),subtitle:(0,i.jsx)(d.CatalogUserDescription,{friends:x,descriptions:null==R?void 0:R.descriptions},void 0)},{children:[k.first_name," ",k.last_name]}),void 0)}))},766011:(e,t,r)=>{r.d(t,{CatalogUserButton:()=>v});var n=r(570655),i=r(785893),a=r(667294),o=r(86894),s=r(827899),l=r(762422),d=r(4130),c=r(675952),u=r(967458),_=r(919653),f=r(740517),g=r(697530),v=function(e){var t,r=e.userId,v=e.action,p=e.loading,S=e.logClickEvent,m=(0,a.useCallback)((function(e){var t,n;if(e.stopPropagation(),e.preventDefault(),!p)switch(v){case l.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:return S(f.SearchClickActionMap.ADD_FRIEND),void(0,_.fireAddFriend)({user_id:r});case l.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:return S(f.SearchClickActionMap.REMOVE_FRIEND),void(0,_.fireDeleteFriend)({user_id:r});case l.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:return S(f.SearchClickActionMap.SEND_MESSAGE),null===(n=null===(t=null===window||void 0===window?void 0:window.reforgedME)||void 0===t?void 0:t.selectPeer)||void 0===n||n.call(t,r,"global_search"),void(0,_.fireSetResultsDisplay)(!1);case l.FRIENDS_BUTTON_ACTIONS.NO_ACTION:return}}),[v,r,S,p]);if(v===l.FRIENDS_BUTTON_ACTIONS.NO_ACTION||r===window.vk.id)return null;switch(v){case l.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:t=(0,i.jsx)(d.default,{},void 0);break;case l.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:t=(0,i.jsx)(c.default,{className:g.default.buttonRemove},void 0);break;case l.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:t=(0,i.jsx)(u.default,{},void 0)}return p&&(t=(0,i.jsx)(o.Spinner,{size:"regular"},void 0)),(0,i.jsx)(s.IconButton,(0,n.__assign)({onClick:m},{children:t}),void 0)}},316654:(e,t,r)=>{r.d(t,{CatalogUserButton:()=>n.CatalogUserButton});var n=r(766011)},758396:(e,t,r)=>{r.d(t,{CatalogUserDescription:()=>l});var n=r(570655),i=r(785893),a=r(86894),o=r(566224),s=r(762422),l=function(e){var t,r=e.friends,l=e.descriptions,d=(null===(t=null==l?void 0:l.map((function(e){return(null==e?void 0:e.text)||""})))||void 0===t?void 0:t.join(" "+s.TEXT_DOT_SYMBOL+" "))||"";return r.length?(0,i.jsx)(a.UsersStack,(0,n.__assign)({photos:r.map((function(e){return e.photo_50||""})),size:"xs"},{children:(0,i.jsx)(o.TextClamp,(0,n.__assign)({lines:1},{children:d}),void 0)}),void 0):(0,i.jsx)(i.Fragment,{children:d},void 0)}},753445:(e,t,r)=>{r.d(t,{CatalogUserDescription:()=>n.CatalogUserDescription});var n=r(758396)},31189:(e,t,r)=>{r.d(t,{CatalogUser:()=>n.CatalogUser});var n=r(356484)},754494:(e,t,r)=>{r.d(t,{getFriendsButtonState:()=>s,getOnlineStatus:()=>l,getListAvatarSrc:()=>d});var n=r(762422),i=r(917258),a=r(733164),o=r(410351),s=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),r?n.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:[o.FRIENDS_STATUS.NOT_FRIEND,o.FRIENDS_STATUS.INCOMING_REQUEST].includes(e)?n.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:t||e!==o.FRIENDS_STATUS.OUTCOMING_REQUEST?n.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:n.FRIENDS_BUTTON_ACTIONS.NO_ACTION},l=function(e){if(e.online_info){var t=e.online_info,r=t.visible,n=t.is_online,a=t.is_mobile;if(r){if(n&&a)return i.AvatarRichStandardBadgeType.ONLINE_MOBILE;if(n)return i.AvatarRichStandardBadgeType.ONLINE}}},d=function(e){return((0,a.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200}},296234:(e,t,r)=>{r.d(t,{GroupItem:()=>I});var n=r(570655),i=r(785893),a=r(667294),o=r(842571),s=r(919653),l=r(304319),d=r(278663),c=r(546134),u=r(799549),_=r(728358),f=r(917258),g=r(762422),v=r(733164),p=r(797704),S=r(975197),m=r(578274),h=r(740517),E=r(234057),I=(0,a.memo)((function(e){var t,r,I=e.id,C=e.track_code,y=e.friends,A=e.description,T=e.itemIndex,w=(0,m.useCollectClick)(),b=(0,n.__read)((0,a.useState)(!0),2),R=b[0],k=b[1],x=(0,o.useStoreMap)({store:s.$groups,keys:[I],fn:function(e,t){var r=(0,n.__read)(t,1)[0];return e.find((function(e){return e.id===r}))}}),O=(0,o.useStoreMap)({store:s.$profiles,keys:[y],fn:function(e){return((null==y?void 0:y.preview)||[]).map((function(t){return e.get(t)})).filter((function(e){return!!e})).map((function(e){var t=e.first_name,r=void 0===t?"":t,n=e.photo_50,i=void 0===n?"":n,a=e.photo_100;return{first_name:r,photo_50:i,photo_100:void 0===a?"":a}}))}}),D=(0,o.useStoreMap)({store:s.$groupsToLeave,keys:[I],fn:function(e,t){var r=(0,n.__read)(t,1)[0];return!!e.find((function(e){return e===r}))}}),N=(0,o.useStoreMap)({store:s.$groupPendingIds,keys:[I],fn:function(e,t){var r=(0,n.__read)(t,1)[0];return!!e.find((function(e){return e===r}))}}),L=(0,o.useStore)(s.$selectedItemIndex),P=(0,o.useStore)(s.$isMouseActive),M=function(e){w({track_code:C,type:h.EventItemType.GROUP,action:e})},j=(0,a.useCallback)((function(e){var t,r;if(e.stopPropagation(),e.preventDefault(),(null==x?void 0:x.id)&&!N){if(x.is_member&&x.can_message&&!D)return M(h.SearchClickActionMap.SEND_MESSAGE),null===(r=null===(t=window.reforgedME)||void 0===t?void 0:t.selectPeer)||void 0===r||r.call(t,-x.id,"global_search"),void(0,s.fireSetResultsDisplay)(!1);if(x.is_member&&D)return M(h.SearchClickActionMap.LEAVE_GROUP),void(0,s.fireLeaveGroup)({group_id:x.id});M(h.SearchClickActionMap.JOIN_GROUP),(0,s.fireJoinGroup)({group_id:x.id})}}),[x,D,C,N,w]),F=(0,a.useCallback)((function(e){!x||e&&!(0,p.isMainClick)(null==e?void 0:e.nativeEvent)||(M(h.SearchClickActionMap.TAP),(0,s.fireAddRecent)({owner_ids:"-"+x.id}),(0,s.fireSetResultsDisplay)(!1),(0,E.navGo)("/"+x.screen_name+"?from=quick_search",(null==e?void 0:e.nativeEvent)||null))}),[x,C,w]);if((0,a.useEffect)((function(){(0,s.fireSetItemIndex)({id:T||0,callback:F})}),[T,F]),!x)return null;var V=((0,v.isRetina)()?x.photo_100:x.photo_50)||x.photo_100||x.photo_200;return(0,i.jsx)(u.SimpleCell,(0,n.__assign)({hovered:(null==L?void 0:L.id)===T,onClick:F,onMouseOut:function(){(0,s.fireSetSelectionIndexByItem)(-1)},onMouseOver:function(){(0,s.fireSetSelectionIndexByItem)(T||-1)},hasHover:P||(null==L?void 0:L.id)===T,href:"/"+x.screen_name+"?from=quick_search",before:(0,i.jsx)(_.FakeAvatar,(0,n.__assign)({size:g.CATALOG_AVATAR_SIZE},{children:(0,i.jsx)(f.AvatarRich,{size:g.CATALOG_AVATAR_SIZE,src:V,outlineType:x.has_unseen_stories?f.AvatarRichOutlineType.STORIES_UNSEEN:void 0,isNFT:!!x.is_nft_photo},void 0)}),void 0),badgeAfterTitle:x.verified?(0,i.jsx)("div",(0,n.__assign)({"data-verified-container":"true",onMouseOver:function(e){var t,r,n=null===(t=e.target)||void 0===t?void 0:t.closest('[data-catalog-item="list"]'),i=null===(r=e.target)||void 0===r?void 0:r.closest('[data-verified-container="true"]'),a=R?g.FIRST_VERIFIED_TOOLTIP_SHIFT:g.VERIFIED_TOOLTIP_SHIFT;(0,S.pageVerifiedTip)(i,{type:1,oid:"-"+(null==x?void 0:x.id),appendEl:n,shift:a}),k(!1)}},{children:(0,i.jsx)(l.default,{},void 0)}),void 0):null,after:(0,i.jsx)(d.GroupItemButton,{click:j,isMember:!!x.is_member,canMessage:!!x.can_message,canLeave:D,loading:N},void 0),subtitle:(0,i.jsx)(c.GroupItemDescription,{isMember:!!x.is_member,profiles:(null===(t=x.friends)||void 0===t?void 0:t.preview_profiles)||O,text:x.members_count_text||"",description:A,governmentOrganization:!!x.is_government_organization,activity:x.activity||"",profilesCount:(null===(r=x.friends)||void 0===r?void 0:r.count)||O.length},void 0)},{children:x.name}),void 0)}))},661102:(e,t,r)=>{r.d(t,{GroupItemButton:()=>u});var n=r(570655),i=r(785893),a=r(86894),o=r(827899),s=r(967458),l=r(675952),d=r(269602),c=r(19657),u=function(e){var t=e.isMember,r=e.canLeave,u=e.canMessage,_=e.click,f=e.loading,g=null;return t&&u&&!r&&(g=(0,i.jsx)(s.default,{},void 0)),t&&r&&(g=(0,i.jsx)(l.default,{className:c.default.buttonLeave},void 0)),t||(g=(0,i.jsx)(d.default,{},void 0)),f&&(g=(0,i.jsx)(a.Spinner,{size:"regular"},void 0)),g?(0,i.jsx)(o.IconButton,(0,n.__assign)({onClick:_},{children:g}),void 0):null}},278663:(e,t,r)=>{r.d(t,{GroupItemButton:()=>n.GroupItemButton});var n=r(661102)},531573:(e,t,r)=>{r.d(t,{GroupItemDescription:()=>u});var n=r(570655),i=r(785893),a=r(86894),o=r(251009),s=r(566224),l=r(70162),d=r(762422),c=r(64279),u=function(e){var t=e.isMember,r=e.profilesCount,u=e.profiles,_=e.text,f=e.activity,g=e.description,v=e.governmentOrganization,p="",S=(0,n.__read)(u,1)[0],m=(0,n.__read)(u.map((function(e){return e.first_name})),2),h=m[0],E=m[1],I=u.slice(0,d.MAX_FRIENDS_IN_GROUP_TO_SHOW);switch(r){case d.FRIENDS_IN_GROUP.NO_ONE:p="";break;case d.FRIENDS_IN_GROUP.ONE:p=S.first_name||"";break;case d.FRIENDS_IN_GROUP.TWO:p=(0,l.langReplace)((0,l.getLang)("mobile_search_friends_in_group_and"),{first_user:h,second_user:E});break;default:p=(0,l.langNumeric)(r,(0,l.getLang)("mobile_search_friends_in_group","raw"))}var C=g||(f?f+", "+_:_),y=v?(0,i.jsxs)("div",(0,n.__assign)({className:c.default.government},{children:[(0,i.jsx)(o.default,{className:c.default.governmentIcon},void 0),(0,i.jsx)("span",{children:(0,l.getLang)("mobile_search_government_label")},void 0)]}),void 0):null;return t||!I.length?(0,i.jsxs)(i.Fragment,{children:[y,C]},void 0):(0,i.jsxs)(i.Fragment,{children:[y,(0,i.jsx)(a.UsersStack,(0,n.__assign)({className:c.default.userStack,photos:I.map((function(e){return e.photo_50||""})),size:"xs"},{children:(0,i.jsxs)(s.TextClamp,(0,n.__assign)({lines:1},{children:[p," · ",_]}),void 0)}),void 0)]},void 0)}},546134:(e,t,r)=>{r.d(t,{GroupItemDescription:()=>n.GroupItemDescription});var n=r(531573)},980142:(e,t,r)=>{r.d(t,{GroupItem:()=>n.GroupItem});var n=r(296234)},752890:(e,t,r)=>{r.d(t,{HeaderCompact:()=>s});var n=r(570655),i=r(785893),a=r(86894),o=r(557131),s=function(e){var t=e.layout;return(0,i.jsx)(a.Header,(0,n.__assign)({className:o.default.root,mode:"primary"},{children:t.title}),void 0)}},472109:(e,t,r)=>{r.d(t,{HeaderCompact:()=>n.HeaderCompact});var n=r(752890)},353571:(e,t,r)=>{r.d(t,{List:()=>d});var n=r(570655),i=r(785893),a=r(667294),o=r(86894),s=r(713091),l=r(23684),d=function(e){var t=(0,a.useMemo)((function(){return(0,s.extractItemsIds)(e)}),[e]),r=(0,s.getBlockByDataType)(e);return(0,i.jsx)(o.Group,(0,n.__assign)({mode:"plain",separator:"hide",padding:"s",className:l.default.list,"data-catalog-item":"list"},{children:t.map((function(t,i){return(0,a.createElement)(r,(0,n.__assign)({},t,{key:t.id,layout:e.layout.name,block_id:e.id,itemIndex:(e.blockIndex||0)+i}))}))}),void 0)}},866429:(e,t,r)=>{r.d(t,{List:()=>n.List});var n=r(353571)},713091:(e,t,r)=>{r.d(t,{extractItemsIds:()=>s,getBlockByDataType:()=>l});var n=r(762422),i=r(980142),a=r(31189),o=r(992265),s=function(e){var t,r,i;switch(e.data_type){case n.CatalogBlockDataType.GROUPS:return(null===(t=e.group_ids)||void 0===t?void 0:t.map((function(e){return{id:e}})))||[];case n.CatalogBlockDataType.GROUPS_ITEMS:return e.group_items||[];case n.CatalogBlockDataType.CATALOG_USERS:return(null===(r=e.catalog_users_ids)||void 0===r?void 0:r.map((function(e){return{id:e}})))||[];case n.CatalogBlockDataType.MINI_APPS:return(null===(i=e.mini_app_ids)||void 0===i?void 0:i.map((function(e){return{id:+e}})))||[];default:return[]}},l=function(e){switch(e.data_type){case n.CatalogBlockDataType.GROUPS:case n.CatalogBlockDataType.GROUPS_ITEMS:return i.GroupItem;case n.CatalogBlockDataType.CATALOG_USERS:return a.CatalogUser;case n.CatalogBlockDataType.MINI_APPS:return o.MiniApp;default:return function(){return null}}}},476293:(e,t,r)=>{r.d(t,{MiniApp:()=>S});var n=r(570655),i=r(785893),a=r(667294),o=r(842571),s=r(919653),l=r(86894),d=r(827899),c=r(799549),u=r(358173),_=r(762422),f=r(797704),g=r(578274),v=r(740517),p=r(234057),S=function(e){var t=e.id,r=e.itemIndex,S=(0,g.useCollectClick)(),m=(0,o.useStoreMap)({store:s.$miniApps,keys:[t],fn:function(e,t){var r=(0,n.__read)(t,1)[0];return e.find((function(e){return e.id===r}))}}),h=(0,o.useStore)(s.$selectedItemIndex),E=(0,o.useStore)(s.$isMouseActive),I=(0,a.useCallback)((function(e){!m||e&&!(0,f.isMainClick)(null==e?void 0:e.nativeEvent)||(S({type:v.EventItemType.MINI_APP,track_code:m.track_code,action:v.SearchClickActionMap.TAP}),(0,s.fireAddRecent)({owner_ids:""+m.id}),(0,s.fireSetResultsDisplay)(!1),(0,p.navGo)("/"+m.screen_name+"?ref=quick_search",(null==e?void 0:e.nativeEvent)||null))}),[m,S]);return(0,a.useEffect)((function(){(0,s.fireSetItemIndex)({id:r||0,callback:I})}),[r,I]),m?(0,i.jsx)(c.SimpleCell,(0,n.__assign)({hovered:(null==h?void 0:h.id)===r,onClick:I,onMouseOut:function(){(0,s.fireSetSelectionIndexByItem)(-1)},onMouseOver:function(){(0,s.fireSetSelectionIndexByItem)(r||-1)},hasHover:E||(null==h?void 0:h.id)===r,href:"/"+m.screen_name+"?ref=quick_search",before:(0,i.jsx)(l.Avatar,{mode:"app",size:_.CATALOG_AVATAR_SIZE,src:m.icon_139?m.icon_139:m.icon_150},void 0),after:(0,i.jsx)(d.IconButton,{children:(0,i.jsx)(u.default,{},void 0)},void 0),subtitle:m.description},{children:m.title}),void 0):null}},992265:(e,t,r)=>{r.d(t,{MiniApp:()=>n.MiniApp});var n=r(476293)},203195:(e,t,r)=>{r.d(t,{PlaceholderSmall:()=>l});var n=r(785893),i=r(86894),a=r(70162),o=r(842571),s=r(919653),l=function(e){var t=e.placeholder_ids,r=(0,o.useStore)(s.$placeholders);return(0,n.jsx)(n.Fragment,{children:null==t?void 0:t.map((function(e){var t=r.find((function(t){return t.id===e}));return t?(0,n.jsx)(i.Placeholder,{children:t.text?t.text:(0,a.getLang)("mobile_search_no_found_summary")},e):null}))},void 0)}},668650:(e,t,r)=>{r.d(t,{PlaceholderSmall:()=>n.PlaceholderSmall});var n=r(203195)},635630:(e,t,r)=>{r.d(t,{getBlockByLayout:()=>d});var n=r(762422),i=r(472109),a=r(866429),o=r(86894),s=r(668650),l=r(805315),d=function(e){switch(e.layout.name){case n.CatalogBlockLayoutName.SEPARATOR:return o.Separator;case n.CatalogBlockLayoutName.HEADER_COMPACT:return i.HeaderCompact;case n.CatalogBlockLayoutName.LIST:return a.List;case n.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return s.PlaceholderSmall;case n.CatalogBlockLayoutName.BUTTON:return l.Button;default:return function(){return null}}}},84663:(e,t,r)=>{r.d(t,{App:()=>m});var n=r(570655),i=r(785893),a=r(667294),o=r(842571),s=r(512168),l=r(222333),d=r(919653),c=r(152278),u=r(797704),_=r(289406),f=r(234057),g=r(214547),v=r(578274),p=r(762422),S=r(769353),m=function(){var e=(0,o.useStore)(d.$displayResults),t=(0,o.useStore)(d.$currentQuery),r=(0,o.useStore)(d.$selectedItemIndex),m=(0,a.useRef)(null),h=(0,a.useRef)(),E=(0,a.useCallback)((function(){var t;e||null===(t=m.current)||void 0===t||t.focus()}),[m,e]),I=(0,a.useCallback)((function(n){switch(n.keyCode){case c.KEY.DOWN:(0,c.cancelEvent)(n.nativeEvent),(0,d.fireDownSelectionIndex)();break;case c.KEY.UP:(0,c.cancelEvent)(n.nativeEvent),(0,d.fireUpSelectionIndex)();break;case c.KEY.ENTER:return(0,c.cancelEvent)(n.nativeEvent),clearTimeout(h.current),(null==r?void 0:r.callback)?(r.callback(),(0,d.fireSetCatalog)(null),void(0,d.fireAbortRequest)()):void(t&&((0,d.fireSetCurrentQuery)(""),(0,d.fireSetResultsDisplay)(!1),(0,d.fireSetCatalog)(null),(0,d.fireAbortRequest)(),setTimeout((function(){var e;null===(e=m.current)||void 0===e||e.blur()}),p.SEARCH_INPUT_BLUR_TIMEOUT),(0,f.navGo)("/search?c[section]=auto&c[q]="+encodeURIComponent(t),null)));case c.KEY.TAB:return clearTimeout(h.current),(0,d.fireSetCurrentQuery)(""),void(0,d.fireSetResultsDisplay)(!1)}e||(0,d.fireSetResultsDisplay)(!0)}),[t,r,m,h,e]),C=(0,a.useCallback)((function(e){var t=e.currentTarget.value||"";(0,d.fireSetCurrentQuery)(t),clearTimeout(h.current),h.current=setTimeout((function(){(0,d.fireSearch)({q:t})}),250)}),[h]);return(0,a.useEffect)((function(){var e=function(e){var t=e.target;t.closest('[data-search-top-target="true"]')||t.closest("#"+p.SEARCH_INPUT_ID)||!(0,u.isMainClick)(e)||(0,d.fireSetResultsDisplay)(!1)};return(0,_.topHeaderListener)(),document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]),(0,a.useEffect)((function(){return function(){return clearTimeout(h.current)}}),[]),(0,a.useEffect)((function(){var e=(0,f.subscribeModuleEvaluated)((function(){t&&(0,d.fireSetCatalog)(null),(0,d.fireAbortRequest)(),(0,d.fireSetCurrentQuery)(""),(0,d.fireSetResultsDisplay)(!1)}));return function(){e()}}),[t]),(0,i.jsx)(v.CatalogLogProvider,(0,n.__assign)({collectClick:g.searchStatsCollector.logEvent},{children:(0,i.jsxs)("div",(0,n.__assign)({className:S.default.app,id:"ts_wrap"},{children:[(0,i.jsx)(s.SearchInput,{onClick:E,onFocus:function(){e||(0,d.fireSetResultsDisplay)(!0)},onInput:C,onKeyDown:I,inputRef:m,searchQuery:t},void 0),e&&(0,i.jsx)(l.SearchResults,{},void 0)]}),void 0)}),void 0)}},388636:(e,t,r)=>{r.d(t,{App:()=>n.App});var n=r(84663)},144854:(e,t,r)=>{r.d(t,{Placeholder:()=>o});var n=r(785893),i=r(86894),a=r(70162),o=function(){return(0,n.jsx)(i.Placeholder,{children:(0,a.getLang)("search_search_top_has_no_results")},void 0)}},850298:(e,t,r)=>{r.d(t,{Placeholder:()=>n.Placeholder});var n=r(144854)},699662:(e,t,r)=>{r.d(t,{SearchInput:()=>c});var n=r(570655),i=r(785893),a=r(667294),o=r(960837),s=r(70162),l=r(762422),d=r(476892),c=function(e){var t=e.onClick,r=e.onFocus,c=e.onBlur,u=e.onInput,_=e.onKeyDown,f=e.inputRef,g=e.searchQuery,v=void 0===g?"":g,p=(0,n.__read)((0,a.useState)(""),2),S=p[0],m=p[1];return(0,a.useEffect)((function(){m(v)}),[v]),(0,i.jsxs)("div",(0,n.__assign)({className:d.default.root},{children:[(0,i.jsx)("div",(0,n.__assign)({className:d.default.icon},{children:(0,i.jsx)(o.default,{},void 0)}),void 0),(0,i.jsx)("input",{type:"search",autoComplete:"off",id:l.SEARCH_INPUT_ID,className:d.default.input,placeholder:(0,s.getLang)("global_search"),onClick:function(e){null==t||t(e)},onFocus:function(e){null==r||r(e)},onBlur:function(e){null==c||c(e)},onInput:function(e){var t=e.currentTarget.value||"";m(t),null==u||u(e)},onKeyDown:function(e){null==_||_(e)},ref:f,value:S},void 0)]}),void 0)}},512168:(e,t,r)=>{r.d(t,{SearchInput:()=>n.SearchInput});var n=r(699662)},933615:(e,t,r)=>{r.d(t,{SearchResults:()=>_});var n=r(570655),i=r(785893),a=r(667294),o=r(842571),s=r(266550),l=r(166610),d=r(919653),c=r(850298),u=r(263758),_=function(){var e=(0,o.useStore)(d.$catalog),t=(0,o.useStore)(d.$pending),r=(0,o.useStore)(d.$fetchError);return(0,a.useEffect)((function(){e||t||(0,d.fireSearch)({q:""})}),[]),r?(0,i.jsx)("div",(0,n.__assign)({className:u.default.root},{children:(0,i.jsx)(c.Placeholder,{},void 0)}),void 0):(0,i.jsx)("div",(0,n.__assign)({className:u.default.root,"data-search-top-target":"true"},{children:t?(0,i.jsx)(l.Spinner,{},void 0):(0,i.jsx)(s.Catalog,{catalog:e},void 0)}),void 0)}},222333:(e,t,r)=>{r.d(t,{SearchResults:()=>n.SearchResults});var n=r(933615)},615554:(e,t,r)=>{r.d(t,{Spinner:()=>s});var n=r(570655),i=r(785893),a=r(86894),o=r(126298),s=function(){return(0,i.jsx)("div",(0,n.__assign)({className:o.default.spinner},{children:(0,i.jsx)(a.Spinner,{size:"small"},void 0)}),void 0)}},166610:(e,t,r)=>{r.d(t,{Spinner:()=>n.Spinner});var n=r(615554)},762422:(e,t,r)=>{r.d(t,{CATALOG_API_METHODS:()=>n,CatalogBlockLayoutName:()=>i,CatalogBlockDataType:()=>a,CatalogActionType:()=>o,ONLINE_STATUS:()=>s,FRIENDS_BUTTON_ACTIONS:()=>l,TEXT_DOT_SYMBOL:()=>d,SEARCH_INPUT_ID:()=>c,FIRST_VERIFIED_TOOLTIP_SHIFT:()=>u,VERIFIED_TOOLTIP_SHIFT:()=>_,CATALOG_AVATAR_SIZE:()=>f,FRIENDS_IN_GROUP:()=>g,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>v,SEARCH_INPUT_BLUR_TIMEOUT:()=>p});var n={GET_SEARCH_TOP:"catalog.getSearchTop",GET_SECTION:"catalog.getSection",GET_STORIES:"stories.get",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete",ADD_RECENT:"search.addRecents"},i={HEADER_COMPACT:"header_compact",SEPARATOR:"separator",LIST:"list",PLACEHOLDER_SMALL:"placeholder_small",BUTTON:"button"},a={GROUPS:"groups",GROUPS_ITEMS:"groups_items",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps"},o={OPEN_URL:"open_url"},s={ONLINE:"online",MOBILE:"online-mobile"},l={ADD_FRIEND:"ADD_FRIEND",REMOVE_FRIEND:"REMOVE_FRIEND",SEND_MESSAGE:"SEND_MESSAGE",NO_ACTION:"NO_ACTION"},d="&#183;",c="SearchTopInput",u=[96,20,5],_=[96,3,3],f=40,g={NO_ONE:0,ONE:1,TWO:2},v=2,p=150},578274:(e,t,r)=>{r.d(t,{useCollectClick:()=>s,CatalogLogProvider:()=>l});var n=r(570655),i=r(785893),a=r(667294),o=(0,a.createContext)({collectClick:function(){}}),s=function(){return(0,a.useContext)(o).collectClick},l=function(e){var t=e.collectClick,r=void 0===t?function(){}:t,s=e.children,l=(0,a.useMemo)((function(){return{collectClick:r}}),[r]);return(0,i.jsx)(o.Provider,(0,n.__assign)({value:l},{children:s}),void 0)}},232824:(e,t,r)=>{r.d(t,{appDomain:()=>n,$currentQuery:()=>i,fireSetCurrentQuery:()=>a,fireClearApp:()=>o});var n=(0,r(210929).createDomain)("SEARCH_TOP/APP"),i=n.createStore("",{name:"currentQuery"}),a=n.createEvent("fire/SetCurrentQuery"),o=n.createEvent("fire/ClearApp")},687772:(e,t,r)=>{var n=r(570655),i=r(210929),a=r(919653);a.appDomain.onCreateStore((function(e){e.reset(a.fireClearApp)})),(0,i.sample)({clock:a.fireSetCurrentQuery,target:a.$currentQuery}),(0,i.sample)({clock:a.fireSendRequest,target:[a.fireResetSelectionIndex,a.fireResetItemsIndex]}),(0,i.sample)({clock:a.fireSetResultsDisplay,target:[a.fireResetSelectionIndex]}),(0,i.sample)({clock:a.fireSendRequest,fn:function(){return null},target:a.fireSetCatalog}),(0,i.sample)({clock:a.SearchTopEffectFx.doneData,fn:function(e){return e.request},target:a.fireSetCatalog}),(0,i.sample)({clock:a.fireSetCatalog,fn:function(e){return(null==e?void 0:e.catalog)||null},target:a.$catalog}),(0,i.sample)({clock:a.fireSetCatalog,fn:function(e){if(!e)return null;var t=(0,n.__assign)({},e);return delete t.catalog,t||null},target:a.$extendedData})},660528:(e,t,r)=>{r.d(t,{fireSetCatalog:()=>i,$catalog:()=>a,$extendedData:()=>o});var n=r(232824).appDomain.createDomain("SEARCH_TOP/CATALOG"),i=n.createEvent("fire/SetCatalog"),a=n.createStore(null,{name:"catalog"}),o=n.createStore(null,{name:"extendedData"})},434941:(e,t,r)=>{r.d(t,{fireAddFriend:()=>s,fireDeleteFriend:()=>l,fireAllowDeleteFriend:()=>d,$catalogUsers:()=>c,$friendsToDelete:()=>u,$friendsPendingIds:()=>_,AddFriendEffectFx:()=>f,DeleteFriendEffectFx:()=>g});var n=r(570655),i=r(919653),a=r(726562),o=i.appDomain.createDomain("SEARCH_TOP/CATALOG_USERS"),s=o.createEvent("fire/AddFriend"),l=o.createEvent("fire/DeleteFriend"),d=(o.createEvent("fire/CheckStories"),o.createEvent("fire/AllowDeleteFriend")),c=o.createStore([],{name:"catalogUsers"}),u=o.createStore([],{name:"friendsToDelete"}),_=o.createStore([],{name:"friendsPendingIds"}),f=o.createEffect({name:"fetch/AddFriend",handler:function(e){var t=e.user_id;return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){return[2,(0,a.addFriend)({user_id:t})]}))}))}}),g=o.createEffect({name:"fetch/DeleteFriend",handler:function(e){var t=e.user_id;return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){return[2,(0,a.deleteFriend)({user_id:t})]}))}))}})},670027:(e,t,r)=>{var n=r(570655),i=r(210929),a=r(919653),o=r(410351);(0,i.sample)({clock:a.$extendedData,source:a.$catalogUsers,filter:function(e,t){var r;return!!(null===(r=null==t?void 0:t.catalog_users)||void 0===r?void 0:r.length)},fn:function(e,t){var r;if(null===(r=null==t?void 0:t.catalog_users)||void 0===r?void 0:r.length){var i=t.catalog_users.filter((function(t){return-1===e.findIndex((function(e){return e.item_id===t.item_id}))}));return(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e),!1),(0,n.__read)(i),!1)}return e},target:a.$catalogUsers}),(0,i.sample)({clock:[a.fireAddFriend,a.fireDeleteFriend],source:a.$friendsPendingIds,filter:function(e,t){return!(!t.user_id||e.includes(t.user_id))},fn:function(e,t){return t.user_id&&!e.includes(t.user_id)?(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e),!1),[t.user_id],!1):e},target:a.$friendsPendingIds}),(0,i.sample)({clock:[a.AddFriendEffectFx.finally,a.DeleteFriendEffectFx.finally],source:a.$friendsPendingIds,filter:function(e,t){return!!t.params.user_id},fn:function(e,t){var r=t.params;return r.user_id?e.filter((function(e){return e!==r.user_id})):e},target:a.$friendsPendingIds}),(0,i.sample)({clock:a.fireAddFriend,target:a.AddFriendEffectFx}),(0,i.sample)({clock:a.AddFriendEffectFx.done,source:a.$profiles,filter:function(e,t){var r=t.params,n=t.result;return!(!r.user_id||!n)},fn:function(e,t){var r=t.params,i=t.result;if(void 0===r.user_id)return e;var a=new Map((0,n.__spreadArray)([],(0,n.__read)(e),!1)),s=a.get(r.user_id);if(s)switch(i){case o.FRIENDS_STATUS_REQUEST.REQUEST:s.friend_status=o.FRIENDS_STATUS.OUTCOMING_REQUEST;break;case o.FRIENDS_STATUS_REQUEST.ADDED:s.friend_status=o.FRIENDS_STATUS.IS_FRIENDS;break;case o.FRIENDS_STATUS_REQUEST.REPEAT:s.friend_status=o.FRIENDS_STATUS.OUTCOMING_REQUEST}return a},target:a.$profiles}),(0,i.sample)({clock:a.AddFriendEffectFx.done,fn:function(e){return e.params},target:a.fireAllowDeleteFriend}),(0,i.sample)({clock:a.fireDeleteFriend,target:a.DeleteFriendEffectFx}),(0,i.sample)({clock:a.DeleteFriendEffectFx.done,source:a.$profiles,filter:function(e,t){var r=t.params,n=t.result;return!(!r.user_id||!n.success)},fn:function(e,t){var r=t.params;if(void 0===r.user_id)return e;var i=new Map((0,n.__spreadArray)([],(0,n.__read)(e),!1)),a=i.get(r.user_id);return a&&(a.friend_status=o.FRIENDS_STATUS.NOT_FRIEND),i},target:a.$profiles}),(0,i.sample)({clock:a.fireAllowDeleteFriend,source:a.$friendsToDelete,fn:function(e,t){return t.user_id?(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e),!1),[t.user_id],!1):e},target:a.$friendsToDelete}),(0,i.sample)({clock:a.fireDeleteFriend,source:a.$friendsToDelete,fn:function(e,t){return t.user_id?e.filter((function(e){return e!==t.user_id})):e},target:a.$friendsToDelete})},220564:(e,t,r)=>{r.d(t,{fireJoinGroup:()=>s,fireLeaveGroup:()=>l,fireAllowLeaveGroup:()=>d,$groups:()=>c,$groupsToLeave:()=>u,$groupPendingIds:()=>_,JoinGroupEffectFx:()=>f,LeaveGroupEffectFx:()=>g});var n=r(570655),i=r(232824),a=r(726562),o=i.appDomain.createDomain("SEARCH_TOP/GROUPS"),s=o.createEvent("fire/JoinGroup"),l=o.createEvent("fire/LeaveGroup"),d=(o.createEvent("fire/CheckStories"),o.createEvent("fire/AllowLeaveGroup")),c=o.createStore([],{name:"groups"}),u=o.createStore([],{name:"groupsToLeave"}),_=o.createStore([],{name:"groupPendingIds"}),f=o.createEffect({name:"fetch/JoinGroup",handler:function(e){var t=e.group_id;return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){return[2,(0,a.joinGroup)({group_id:t})]}))}))}}),g=o.createEffect({name:"fetch/LeaveGroup",handler:function(e){var t=e.group_id;return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){return[2,(0,a.leaveGroup)({group_id:t})]}))}))}})},209841:(e,t,r)=>{var n=r(570655),i=r(210929),a=r(919653);(0,i.sample)({clock:a.$extendedData,source:a.$groups,filter:function(e,t){var r;return!!(null===(r=null==t?void 0:t.groups)||void 0===r?void 0:r.length)},fn:function(e,t){var r;if(null===(r=null==t?void 0:t.groups)||void 0===r?void 0:r.length){var i=t.groups.filter((function(t){return-1===e.findIndex((function(e){return e.id===t.id}))}));return(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e),!1),(0,n.__read)(i),!1)}return e},target:a.$groups}),(0,i.sample)({clock:[a.fireJoinGroup,a.fireLeaveGroup],source:a.$groupPendingIds,filter:function(e,t){return!!t.group_id&&!e.includes(t.group_id)},fn:function(e,t){return t.group_id?(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e),!1),[t.group_id],!1):e},target:a.$groupPendingIds}),(0,i.sample)({clock:[a.JoinGroupEffectFx.finally,a.LeaveGroupEffectFx.finally],source:a.$groupPendingIds,filter:function(e,t){return!!t.params.group_id},fn:function(e,t){var r=t.params;return r.group_id?e.filter((function(e){return e!==r.group_id})):e},target:a.$groupPendingIds}),(0,i.sample)({clock:a.fireJoinGroup,target:a.JoinGroupEffectFx}),(0,i.sample)({clock:a.JoinGroupEffectFx.done,source:a.$groups,filter:function(e,t){var r=t.params,n=t.result;return!(!r.group_id||1!==n)},fn:function(e,t){var r=t.params,i=t.result,a=(0,n.__spreadArray)([],(0,n.__read)(e),!1),o=e.findIndex((function(e){return e.id===r.group_id}));return a[o]&&(a[o].is_member=i),a},target:a.$groups}),(0,i.sample)({clock:a.JoinGroupEffectFx.done,fn:function(e){return e.params},target:a.fireAllowLeaveGroup}),(0,i.sample)({clock:a.fireLeaveGroup,target:a.LeaveGroupEffectFx}),(0,i.sample)({clock:a.LeaveGroupEffectFx.done,source:a.$groups,filter:function(e,t){var r=t.params,n=t.result;return!(!r.group_id||1!==n)},fn:function(e,t){var r=t.params,i=(0,n.__spreadArray)([],(0,n.__read)(e),!1),a=e.findIndex((function(e){return e.id===r.group_id}));return i[a]&&(i[a].is_member=0),i},target:a.$groups}),(0,i.sample)({clock:a.fireAllowLeaveGroup,source:a.$groupsToLeave,filter:function(e,t){return!!t.group_id},fn:function(e,t){return t.group_id?(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e),!1),[t.group_id],!1):e},target:a.$groupsToLeave}),(0,i.sample)({clock:a.fireLeaveGroup,source:a.$groupsToLeave,filter:function(e,t){return!!t.group_id},fn:function(e,t){return t.group_id?e.filter((function(e){return e!==(null==t?void 0:t.group_id)})):e},target:a.$groupsToLeave})},919653:(e,t,r)=>{r.d(t,{$currentQuery:()=>n.$currentQuery,appDomain:()=>n.appDomain,fireClearApp:()=>n.fireClearApp,fireSetCurrentQuery:()=>n.fireSetCurrentQuery,$displayResults:()=>i.$displayResults,CancelStackFilterFx:()=>i.CancelStackFilterFx,CancelStackPushFx:()=>i.CancelStackPushFx,fireCancelStackPush:()=>i.fireCancelStackPush,fireSetResultsDisplay:()=>i.fireSetResultsDisplay,$fetchError:()=>a.$fetchError,$pending:()=>a.$pending,$requestsQueue:()=>a.$requestsQueue,AbortEffectFx:()=>a.AbortEffectFx,SearchTopEffectFx:()=>a.SearchTopEffectFx,fireAbortRequest:()=>a.fireAbortRequest,fireCreateRequest:()=>a.fireCreateRequest,fireRemoveRequestFromQueue:()=>a.fireRemoveRequestFromQueue,fireSearch:()=>a.fireSearch,fireSendRequest:()=>a.fireSendRequest,fireSetRequestToQueue:()=>a.fireSetRequestToQueue,fireSetUpRequest:()=>a.fireSetUpRequest,$catalog:()=>o.$catalog,$extendedData:()=>o.$extendedData,fireSetCatalog:()=>o.fireSetCatalog,$placeholders:()=>s.$placeholders,$miniApps:()=>l.$miniApps,AddRecentEffectFx:()=>d.AddRecentEffectFx,fireAddRecent:()=>d.fireAddRecent,$groupPendingIds:()=>c.$groupPendingIds,$groups:()=>c.$groups,$groupsToLeave:()=>c.$groupsToLeave,JoinGroupEffectFx:()=>c.JoinGroupEffectFx,LeaveGroupEffectFx:()=>c.LeaveGroupEffectFx,fireAllowLeaveGroup:()=>c.fireAllowLeaveGroup,fireJoinGroup:()=>c.fireJoinGroup,fireLeaveGroup:()=>c.fireLeaveGroup,$catalogUsers:()=>u.$catalogUsers,$friendsPendingIds:()=>u.$friendsPendingIds,$friendsToDelete:()=>u.$friendsToDelete,AddFriendEffectFx:()=>u.AddFriendEffectFx,DeleteFriendEffectFx:()=>u.DeleteFriendEffectFx,fireAddFriend:()=>u.fireAddFriend,fireAllowDeleteFriend:()=>u.fireAllowDeleteFriend,fireDeleteFriend:()=>u.fireDeleteFriend,$profiles:()=>_.$profiles,$isMouseActive:()=>f.$isMouseActive,$itemsIndex:()=>f.$itemsIndex,$selectedIndex:()=>f.$selectedIndex,$selectedItemIndex:()=>f.$selectedItemIndex,fireDownSelectionIndex:()=>f.fireDownSelectionIndex,fireResetItemsIndex:()=>f.fireResetItemsIndex,fireResetSelectionIndex:()=>f.fireResetSelectionIndex,fireSetItemIndex:()=>f.fireSetItemIndex,fireSetSelectionIndexByItem:()=>f.fireSetSelectionIndexByItem,fireUpSelectionIndex:()=>f.fireUpSelectionIndex});var n=r(232824),i=r(822952),a=r(213061),o=r(660528),s=r(905578),l=r(145392),d=r(205437),c=r(220564),u=r(434941),_=r(668385),f=r(753698)},662632:(e,t,r)=>{r(687772),r(174821),r(419875),r(926985),r(892724),r(423781),r(209841),r(670027),r(774300),r(954434)},753698:(e,t,r)=>{r.d(t,{$isMouseActive:()=>a,$selectedIndex:()=>o,$itemsIndex:()=>s,$selectedItemIndex:()=>l,fireSetSelectionIndexByItem:()=>d,fireUpSelectionIndex:()=>c,fireDownSelectionIndex:()=>u,fireSetItemIndex:()=>_,fireResetSelectionIndex:()=>f,fireResetItemsIndex:()=>g});var n=r(210929),i=r(232824).appDomain.createDomain("SEARCH_TOP/MODAL"),a=i.createStore(!0,{name:"isMouseActive"}),o=i.createStore(-1,{name:"selectedIndex"}),s=i.createStore([],{name:"maxItemsIndex"}),l=(0,n.combine)(o,s,(function(e,t){var r;return t[e]||0===(null===(r=null==t?void 0:t[e])||void 0===r?void 0:r.id)?t[e]:null})),d=i.createEvent("fire/SetSelectionIndexByItem"),c=i.createEvent("fire/UpSelectionIndex"),u=i.createEvent("fire/DownSelectionIndex"),_=i.createEvent("fire/SetItemIndex"),f=(i.createEvent("fire/SetItemIndex"),i.createEvent("fire/ResetSelectionIndex")),g=i.createEvent("fire/ResetItemsIndex")},954434:(e,t,r)=>{var n=r(570655),i=r(210929),a=r(919653);a.$selectedIndex.reset(a.fireResetSelectionIndex),a.$itemsIndex.reset(a.fireResetItemsIndex),(0,i.sample)({clock:[a.fireUpSelectionIndex,a.fireDownSelectionIndex],fn:function(){return!1},target:a.$isMouseActive}),(0,i.sample)({clock:a.fireSetSelectionIndexByItem,fn:function(){return!0},target:a.$isMouseActive}),(0,i.sample)({clock:a.fireSetSelectionIndexByItem,source:a.$itemsIndex,fn:function(e,t){return e.findIndex((function(e){return e.id===t}))||-1},target:a.$selectedIndex}),(0,i.sample)({clock:a.fireDownSelectionIndex,source:{itemsIndex:a.$itemsIndex,selectedIndex:a.$selectedIndex},fn:function(e){var t=e.itemsIndex,r=e.selectedIndex;return t.length?(r+1)%t.length:-1},target:a.$selectedIndex}),(0,i.sample)({clock:a.fireUpSelectionIndex,source:{itemsIndex:a.$itemsIndex,selectedIndex:a.$selectedIndex},fn:function(e){var t=e.itemsIndex,r=e.selectedIndex;return t.length?r-1<0?t.length-1:r-1:-1},target:a.$selectedIndex}),(0,i.sample)({clock:a.fireSetItemIndex,source:a.$itemsIndex,fn:function(e,t){if(null===t)return[];var r=(0,n.__spreadArray)([],(0,n.__read)(e),!1),i=r.findIndex((function(e){return e.id===t.id}));return-1!==i&&(r[i]=t),r.push(t),r},target:a.$itemsIndex})},145392:(e,t,r)=>{r.d(t,{$miniApps:()=>n});var n=r(232824).appDomain.createDomain("SEARCH_TOP/MINI_APPS").createStore([],{name:"miniApps"})},892724:(e,t,r)=>{var n=r(570655),i=r(210929),a=r(919653);(0,i.sample)({clock:a.$extendedData,source:a.$miniApps,filter:function(e,t){var r;return!!(null===(r=null==t?void 0:t.mini_apps)||void 0===r?void 0:r.length)},fn:function(e,t){var r;if(null===(r=null==t?void 0:t.mini_apps)||void 0===r?void 0:r.length){var i=t.mini_apps.filter((function(t){return-1===e.findIndex((function(e){return e.id===t.id}))}));return(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e),!1),(0,n.__read)(i),!1)}return e},target:a.$miniApps})},905578:(e,t,r)=>{r.d(t,{$placeholders:()=>n});var n=r(232824).appDomain.createDomain("SEARCH_TOP/PLACEHOLDERS").createStore([],{name:"placeholders"})},926985:(e,t,r)=>{var n=r(570655),i=r(210929),a=r(919653);(0,i.sample)({clock:a.$extendedData,source:a.$placeholders,filter:function(e,t){var r;return!!(null===(r=null==t?void 0:t.placeholders)||void 0===r?void 0:r.length)},fn:function(e,t){var r;if(null===(r=null==t?void 0:t.placeholders)||void 0===r?void 0:r.length){var i=t.placeholders.filter((function(t){return-1===e.findIndex((function(e){return e.id===t.id}))}));return(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e),!1),(0,n.__read)(i),!1)}return e},target:a.$placeholders})},668385:(e,t,r)=>{r.d(t,{$profiles:()=>n});var n=r(232824).appDomain.createDomain("SEARCH_TOP/PROFILES").createStore(new Map,{name:"profiles"})},774300:(e,t,r)=>{var n=r(570655),i=r(210929),a=r(919653);(0,i.sample)({clock:a.$extendedData,source:a.$profiles,filter:function(e,t){var r;return!!(null===(r=null==t?void 0:t.profiles)||void 0===r?void 0:r.length)},fn:function(e,t){if(null==t?void 0:t.profiles){var r=t.profiles.filter((function(t){return!e.has(t.id)})),i=Array.from(e,(function(e){return(0,n.__read)(e,2)[1]}));return new Map((0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(i),!1),(0,n.__read)(r),!1).map((function(e){return[e.id,e]})))}return e},target:a.$profiles})},205437:(e,t,r)=>{r.d(t,{fireAddRecent:()=>s,AddRecentEffectFx:()=>l});var n=r(570655),i=r(919653),a=r(726562),o=i.appDomain.createDomain("SEARCH_TOP/RECENT"),s=o.createEvent("fire/AddRecent"),l=(o.createEvent("fire/ClearRecent"),o.createEffect({name:"fetch/AddRecent",handler:function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){return[2,(0,a.addRecent)(e)]}))}))}}))},423781:(e,t,r)=>{var n=r(210929),i=r(919653);(0,n.sample)({clock:i.fireAddRecent,target:i.AddRecentEffectFx})},213061:(e,t,r)=>{r.d(t,{fireSearch:()=>s,fireCreateRequest:()=>l,fireSetUpRequest:()=>d,fireSetRequestToQueue:()=>c,fireRemoveRequestFromQueue:()=>u,fireSendRequest:()=>_,fireAbortRequest:()=>f,$pending:()=>g,$requestsQueue:()=>v,$fetchError:()=>p,AbortEffectFx:()=>S,SearchTopEffectFx:()=>m});var n=r(570655),i=r(232824),a=r(726562),o=i.appDomain.createDomain("SEARCH_TOP/SEARCH"),s=o.createEvent("fire/Search"),l=o.createEvent("fire/CreateRequest"),d=o.createEvent("fire/SetUpRequest"),c=o.createEvent("fire/SetRequestToQueue"),u=o.createEvent("fire/RemoveRequestToQueue"),_=o.createEvent("fire/SendRequest"),f=o.createEvent("fire/AbortRequest"),g=o.createStore(!1,{name:"pending"}),v=o.createStore([],{name:"requestsQueue"}),p=o.createStore(!1,{name:"fetchError"}),S=o.createEffect({name:"get/AbortEffectFx",handler:function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){return e.forEach((function(e){var t,r,n;null===(n=null===(r=null===(t=e.fetchOptions)||void 0===t?void 0:t.controller)||void 0===r?void 0:r.abort)||void 0===n||n.call(r)})),[2]}))}))}}),m=o.createEffect({name:"get/SearchTopEffectFx",handler:function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t,r,i;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return t=null===(i=null===(r=e.fetchOptions)||void 0===r?void 0:r.controller)||void 0===i?void 0:i.signal,[4,(0,a.getSearchTop)(e.data,{signal:t})];case 1:return[2,{request:n.sent(),requestData:e}]}}))}))}})},419875:(e,t,r)=>{var n=r(570655),i=r(210929),a=r(919653),o=r(289406);(0,i.sample)({clock:a.fireSearch,fn:function(e){return{id:(0,o.createCacheId)(e),data:e}},target:a.fireCreateRequest}),(0,i.sample)({clock:a.fireAbortRequest,source:a.$requestsQueue,target:a.AbortEffectFx}),(0,i.sample)({clock:a.fireCreateRequest,source:a.$requestsQueue,fn:function(e,t){e.forEach((function(e){var t,r,n;null===(n=null===(r=null===(t=e.fetchOptions)||void 0===t?void 0:t.controller)||void 0===r?void 0:r.abort)||void 0===n||n.call(r)}));var r=new AbortController;return(0,n.__assign)((0,n.__assign)({},t),{fetchOptions:{controller:r}})},target:a.fireSetUpRequest}),(0,i.sample)({clock:a.fireSetUpRequest,target:[a.fireSendRequest,a.fireSetRequestToQueue]}),(0,i.sample)({clock:a.fireSetRequestToQueue,source:a.$requestsQueue,fn:function(e,t){return(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e),!1),[t],!1)},target:a.$requestsQueue}),(0,i.sample)({clock:a.fireSendRequest,target:a.SearchTopEffectFx}),(0,i.sample)({clock:a.SearchTopEffectFx.pending,target:a.$pending}),(0,i.sample)({clock:a.SearchTopEffectFx.finally,fn:function(e){return e.params},target:a.fireRemoveRequestFromQueue}),(0,i.sample)({clock:a.SearchTopEffectFx.pending,fn:function(){return!1},target:a.$fetchError}),(0,i.sample)({clock:a.SearchTopEffectFx.failData,source:a.$pending,filter:function(e){return!e},fn:function(){return!0},target:a.$fetchError})},822952:(e,t,r)=>{r.d(t,{$displayResults:()=>s,fireSetResultsDisplay:()=>l,fireCancelStackPush:()=>d,CancelStackFilterFx:()=>c,CancelStackPushFx:()=>u});var n=r(232824),i=r(810890),a=r(762422),o=n.appDomain.createDomain("SEARCH_TOP/MODAL"),s=o.createStore(!1,{name:"displayResults"}),l=o.createEvent("fire/SetResultsDisplay"),d=o.createEvent("fire/CancelStackPush"),c=o.createEffect({name:"remove/CancelStackFilter",handler:function(){(0,i.cancelStackFilter)("top_search",!0)}}),u=o.createEffect({name:"remove/CancelStackFilter",handler:function(){(0,i.cancelStackPush)("top_search",(function(e){if(void 0===e&&(e=!0),e){var t=document.querySelector("#"+a.SEARCH_INPUT_ID);l(!1),null==t||t.blur()}else d()}),!0)}})},174821:(e,t,r)=>{var n=r(210929),i=r(919653);(0,n.sample)({clock:i.fireSetResultsDisplay,source:i.$displayResults,filter:function(e,t){return e!==t},fn:function(e,t){return t},target:i.$displayResults}),(0,n.sample)({clock:i.$displayResults,filter:function(e){return e},target:i.CancelStackPushFx}),(0,n.sample)({clock:i.$displayResults,filter:function(e){return!e},target:i.CancelStackFilterFx}),(0,n.sample)({clock:i.fireCancelStackPush,target:i.CancelStackPushFx})},289406:(e,t,r)=>{r.d(t,{topHeaderListener:()=>l,createCacheId:()=>d});var n=r(570655),i=r(152278),a=r(873589),o=r(232864),s=r(762422),l=function(){(0,i.addEvent)(document,"mousedown",(function(e){var t=e.target,r=!((0,i.checkKeyboardEvent)(e)||(0,a.domClosest)("top_audio_layer_place",t)||(0,a.domClosest)("_ap_layer__close",t)||(0,a.domClosest)("layer_wrap",t)||(0,a.domClosest)("PortalNavigation",t)||(0,a.domClosest)("PortalNavigationDropdown",t)||(0,a.domClosest)("ObsceneTextAlertBox",t)||(null==t?void 0:t.closest('[data-search-top-target="true"]'))),n=!(null==t?void 0:t.closest("#"+s.SEARCH_INPUT_ID));r&&(0,o.topHeaderClose)((function(){return!1}),n)}))},d=function(e){return function(e,t,r){void 0===t&&(t="");var i=Object.entries(e).filter((function(e){var t=(0,n.__read)(e,2)[1];return!!t||0===t})).map((function(e){var t=(0,n.__read)(e,2),i=t[0],a=t[1];return r?r+"["+encodeURIComponent(i)+"]="+encodeURIComponent(a):encodeURIComponent(i)+"="+encodeURIComponent(a)})).join("&");return i?""+t+i:""}(Object.keys(e).sort((function(e,t){return e.localeCompare(t)})).reduce((function(t,r){var i;return(0,n.__assign)((0,n.__assign)({},t),((i={})[r]=e[r],i))}),{}))}},981138:(e,t,r)=>{r.d(t,{CatalogContext:()=>n});var n=(0,r(667294).createContext)({videos:[],groups:[],profiles:[],albums:[]})},736407:(e,t,r)=>{r.d(t,{SearchVideoCatalog:()=>g});var n=r(570655),i=r(785893),a=r(667294),o=r(684351),s=r(269309),l=r(248363),d=r(81366),c=r(146524),u=r(99656),_=r(893383),f=r(981138),g=function(){var e,t,r,g,v=(0,n.__read)((0,a.useState)(),2),p=v[0],S=v[1],m=(0,d.useSearchParams)(),h=null==p?void 0:p.catalog,E=null===(e=null==h?void 0:h.sections)||void 0===e?void 0:e.find((function(e){return(null==e?void 0:e.id)===(null==h?void 0:h.default_section)})),I=(null==p?void 0:p.videos)?p.videos:[],C=null!==(t=null==p?void 0:p.groups)&&void 0!==t?t:[],y=null!==(r=null==p?void 0:p.profiles)&&void 0!==r?r:[],A=null!==(g=null==p?void 0:p.albums)&&void 0!==g?g:[],T=null==h?void 0:h.sections[(null==h?void 0:h.sections.length)-1];(0,a.useEffect)((function(){var e=new AbortController;return m.has("q")?(o.Video.toggleSearchProgress(!0),(0,s.getVideoSearchBySearchParams)(m,e).then((function(e){S(e)})).finally((function(){o.Video.setVisibilityShowcaseContent(!1),o.Video.toggleSearchProgress(!1)})),function(){e.abort()}):(S(void 0),void o.Video.setVisibilityShowcaseContent(!0))}),[m]);var w=(0,n.__read)((0,a.useState)(!1),2),b=w[0],R=w[1];return(null==h?void 0:h.sections)?(0,i.jsx)(u.AppRootProvider,{children:(0,i.jsx)("div",(0,n.__assign)({className:"VideoLayout__contentsWrapper",style:{overflowAnchor:"none"}},{children:(0,i.jsx)("div",(0,n.__assign)({className:"VideoLayout__search",style:{display:"block"}},{children:(0,i.jsxs)(f.CatalogContext.Provider,(0,n.__assign)({value:{videos:I,groups:C,profiles:y,albums:A}},{children:[(0,i.jsx)(l.Catalog,{sections:h.sections},void 0),T&&T.next_from&&(0,i.jsx)(c.DynamicPagination,{isLoading:b,fetchData:function(){T&&E&&(R(!0),(0,s.getSection)({start_from:T.next_from,section_id:E.id}).then((function(e){S((function(t){var r,i,a,o,s,l,d,c;if((null==t?void 0:t.catalog)&&e.section){var u=void 0;return u=E.id===e.section.id?(0,_.getMutatedCatalogSections)(t.catalog.sections,E,e.section):(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(t.catalog.sections),!1),[e.section],!1),(0,n.__assign)((0,n.__assign)({},t),{catalog:(0,n.__assign)((0,n.__assign)({},t.catalog),{sections:u}),videos:(0,_.filterArrayOfUniqueByKey)((0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(null!==(r=t.videos)&&void 0!==r?r:[]),!1),(0,n.__read)(null!==(i=e.videos)&&void 0!==i?i:[]),!1),"id"),groups:(0,_.filterArrayOfUniqueByKey)((0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(null!==(a=t.groups)&&void 0!==a?a:[]),!1),(0,n.__read)(null!==(o=e.groups)&&void 0!==o?o:[]),!1),"id"),profiles:(0,_.filterArrayOfUniqueByKey)((0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(null!==(s=t.profiles)&&void 0!==s?s:[]),!1),(0,n.__read)(null!==(l=e.profiles)&&void 0!==l?l:[]),!1),"id"),albums:(0,_.filterArrayOfUniqueByKey)((0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(null!==(d=t.albums)&&void 0!==d?d:[]),!1),(0,n.__read)(null!==(c=e.albums)&&void 0!==c?c:[]),!1),"id")})}return t})),R(!1)})).catch((function(){R(!1)})))},nextFrom:T.next_from},void 0)]}),void 0)}),void 0)}),void 0)},void 0):null}},269309:(e,t,r)=>{r.d(t,{getVideoSearchBySearchParams:()=>s,addVideo:()=>l,deleteVideo:()=>d,getSection:()=>c});var n=r(570655),i=r(189798),a=r(294755),o=r(893383);function s(e,t){void 0===t&&(t=null);var r={};return t&&(r={signal:t.signal}),function(e,t){return void 0===t&&(t={}),(0,i.api)(a.CATALOG_API_METHODS.GET_VIDEO_SEARCH,(0,n.__assign)({},e),void 0,t)}((0,o.getParamsForVideoSearchCatalog)(e),r)}function l(e){return(0,i.api)(a.CATALOG_API_METHODS.ADD_VIDEO,e)}function d(e){return(0,i.api)(a.CATALOG_API_METHODS.DELETE_VIDEO,e)}function c(e,t){return(0,i.api)(a.CATALOG_API_METHODS.GET_SECTION,(0,n.__assign)({},e),void 0,t)}},294755:(e,t,r)=>{r.d(t,{CATALOG_API_METHODS:()=>n,SHORTER_FILTER_DURATION:()=>i,LONGER_FILTER_DURATION:()=>a});var n={ADD_VIDEO:"video.add",GET_VIDEO_SEARCH:"catalog.getVideoSearchWeb2",DELETE_VIDEO:"video.delete",GET_SECTION:"catalog.getSection"},i=300,a=1200},81366:(e,t,r)=>{r.d(t,{useSearchParams:()=>a});var n=r(570655),i=r(667294),a=function(){var e=(0,n.__read)((0,i.useState)((function(){return new URLSearchParams(document.location.search)})),2),t=e[0],r=e[1];return(0,i.useEffect)((function(){var e="",t=new MutationObserver((function(){document.location.search!==e&&(e=document.location.search,r(new URLSearchParams(document.location.search)))}));return t.observe(document,{subtree:!0,childList:!0}),function(){t.disconnect()}}),[]),t}},893383:(e,t,r)=>{r.d(t,{filterArrayOfUniqueByKey:()=>a,getMutatedCatalogSections:()=>o,getParamsForVideoSearchCatalog:()=>s});var n=r(570655),i=r(294755);function a(e,t){return(0,n.__spreadArray)([],(0,n.__read)(new Map(e.map((function(e){return[e[t],e]}))).values()),!1)}function o(e,t,r){var i=e.findIndex((function(e){return e.id===t.id}));if(-1===i||!t.blocks||!r.blocks)return e;var a=(0,n.__assign)((0,n.__assign)({},t),{blocks:(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(t.blocks),!1),(0,n.__read)(r.blocks),!1),next_from:r.next_from});return(0,n.__spreadArray)((0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(e.slice(0,i-1)),!1),[a],!1),(0,n.__read)(e.slice(i+1)),!1)}function s(e){var t,r,a,o={},s={order:"sort",notsafe:"adult"};try{for(var l=(0,n.__values)(e),d=l.next();!d.done;d=l.next()){var c=(0,n.__read)(d.value,2),u=c[0],_=c[1];if("len"===u){var f="1"===_?"shorter":"longer";o[f]="shorter"===f?""+i.SHORTER_FILTER_DURATION:""+i.LONGER_FILTER_DURATION}else o[null!==(a=s[u])&&void 0!==a?a:u]=_}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return o}},243517:(e,t,r)=>{r.d(t,{getTriggersMap:()=>o});var n,i=r(684351),a=r(559427);!function(e){e.VIDEO="video"}(n||(n={}));var o=function(e){return e===n.VIDEO?{triggerSearch:i.Video.onSearchInputChange,onBlur:i.Video.onSearchInputBlur,onFilterRemoved:i.Video.onFilterRemoved,onFiltersChanged:a.VideoShowcase.onSearchFiltersChanged}:null}}},__webpack_module_cache__={},deferred,leafPrototypes,getProto,inProgress,loadStylesheet,installedCssChunks;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,r,n)=>{if(!t){var i=1/0;for(l=0;l<deferred.length;l++){for(var[t,r,n]=deferred[l],a=!0,o=0;o<t.length;o++)(!1&n||i>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[o])))?t.splice(o--,1):(a=!1,n<i&&(i=n));if(a){deferred.splice(l--,1);var s=r();void 0!==s&&(e=s)}}return e}n=n||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>n;l--)deferred[l]=deferred[l-1];deferred[l]=[t,r,n]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,__webpack_require__.d(r,n),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>9375===e?"voice_message_player.1ca99e7ec51aef6df7b5.js":28762===e?"speech.ec5bb88b79217da0bc5d.js":57468===e?"SilentModeForms.710e5d0929fe4e8d2b72.js":75980===e?"menu_settings.0f17151bd588fe6a5267.js":60593===e?"ui_scroll.39acaa5416c520407f04.js":36315===e?"indexer.8586870b6be73c206535.js":90927===e?"grid_sorter.615a8f391e62263d74ba.js":89658===e?"video_groups_redesign.285ecc1621a2a7a0a4b7.js":23650===e?"upload.7f82bf57ce79d6119264.js":45723===e?"videoview.04f0f8040e80ea8039b5.js":67604===e?"likes.06a36753e44cf1bda6ce.js":16957===e?"video_showcase_onboarding.4328f3bce6d734e3c400.js":63161===e?"video_showcase_nps.02a06284ac41af153f76.js":62795===e?"video_tabs.2f095426a9095690c7eb.js":52974===e?"videoplayer_v2.68a738ff330fc2f47dce.js":29019===e?"ReportForm.d8b2beb68beec3cb688a.js":74212===e?e+".904b45780a47e7c622ae.js":25614===e?e+".f03d7ad0d8f93eb77276.js":72709===e?"0bceef6ad055b21676eba8b130f26dc1.aababcd7abcd9359f9e6.js":1229===e?"93542b88e81b47e7ba46412cb82c1d05.55661408897e99fbe0b1.js":39262===e?"28e4257a346db314c3cfa2c0afc1285f.381621b02ee14a9bf6cc.js":93592===e?"0a89e248d4637167079ed846a08e08e5.01b794cee2483894cec3.js":6493===e?"2ea1d9a39bf639351c677556afcf4198.41b238839dbcd7bcfce3.js":void 0,__webpack_require__.miniCssF=e=>e+"."+{16957:"e896b26981701dff5f07",29019:"b2496d8ef6849a2fecca",45723:"e44644853d368baf1aa5",57468:"28053bce032a9da83885",62795:"8bbef1d5b8ed35d16577",63161:"eff9a6ce0f4c0285dc09",75980:"95eccc249ab38cb1e901",89658:"f1c837eadee58c683f7d"}[e]+".css",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,r,n)=>{if(inProgress[e])inProgress[e].push(t);else{var i,a;if(void 0!==r)for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var l=o[s];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")=="vk:"+r){i=l;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack","vk:"+r),i.src=e),inProgress[e]=[t];var d=(t,r)=>{i.onerror=i.onload=null,clearTimeout(c);var n=inProgress[e];if(delete inProgress[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(r))),t)return t(r)},c=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),a&&document.head.appendChild(i)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",loadStylesheet=e=>new Promise(((t,r)=>{var n=__webpack_require__.miniCssF(e),i=__webpack_require__.p+n;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var i=(o=r[n]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){var o;if((i=(o=a[n]).getAttribute("data-href"))===e||i===t)return o}})(n,i))return t();((e,t,r,n)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=a=>{if(i.onerror=i.onload=null,"load"===a.type)r();else{var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=s,i.parentNode.removeChild(i),n(l)}},i.href=t,document.head.appendChild(i)})(e,i,t,r)})),installedCssChunks={45973:0},__webpack_require__.f.miniCss=(e,t)=>{installedCssChunks[e]?t.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{16957:1,29019:1,45723:1,57468:1,62795:1,63161:1,75980:1,89658:1}[e]&&t.push(installedCssChunks[e]=loadStylesheet(e).then((()=>{installedCssChunks[e]=0}),(t=>{throw delete installedCssChunks[e],t})))},(()=>{var e={45973:0};__webpack_require__.f.j=(t,r)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else if(75980!=t){var i=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(a,(r=>{if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,n[1](o)}}),"chunk-"+t,t)}else e[t]=0},__webpack_require__.O.j=t=>0===e[t];var t=(t,r)=>{var n,i,[a,o,s]=r,l=0;for(n in o)__webpack_require__.o(o,n)&&(__webpack_require__.m[n]=o[n]);if(s)var d=s(__webpack_require__);for(t&&t(r);l<a.length;l++)i=a[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[a[l]]=0;return __webpack_require__.O(d)},r=self.webpackChunkvk=self.webpackChunkvk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var __webpack_exports__=__webpack_require__.O(void 0,[76429,75514,24509,56990,98066,76400,40885,68592,98245,61317,33822],(()=>__webpack_require__(935472)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();